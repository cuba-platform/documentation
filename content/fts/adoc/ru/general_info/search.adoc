:sourcesdir: ../../../source

[[search]]
=== Поиск

Поиск ведется по следующим правилам: 

* если искомая строка обрамлена кавычками, то ищется соответствующая *фраза* - набор таких же слов в том же порядке, игнорируя знаки пунктуации;

* если искомая строка начинается с символа ++"*"++, то производится поиск по вхождению строки *в любой части слова* индексированных данных;

* в противном случае поиск производится по совпадению искомой строки с *началом слов* индексированных данных. 

Для русского и английского языка поиск производится с учетом морфологии.

Алгоритм поиска состоит из двух этапов: 

* Cначала искомая строка ищется в поле `all` документов Lucene. Найденные сущности добавляются в список результатов.

* Если что-то найдено на первом этапе, то идентификаторы найденных сущностей ищутся в поле `links` документов Lucene. Найденные на втором этапе сущности также добавляются в список результатов.

[WARNING]
====
Если строка поиска состоит из нескольких слов (и не обрамлена кавычками), то будет произведен поиск всех слов по отдельности по условию ИЛИ. То есть в результаты поиска попадут сущности, содержащие хотя бы одно из введенных слов.
====


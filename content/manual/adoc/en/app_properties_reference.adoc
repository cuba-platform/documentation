[[app_properties_reference]]
[appendix]
== Application Properties

This appendix describes all available <<app_properties,application properties>> in alphabetical order.

[[cuba.additionalStores]]
cuba.additionalStores::
+
--
Defines the names of additional <<data_store,data stores>> used in the application.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.additionalStores = db1, mem1
----
--

[[cuba.allowQueryFromSelected]]
cuba.allowQueryFromSelected::
+
--
Allows the <<gui_Filter,generic filter>> to use sequential filtering mode. See also <<query_from_selected,>>.

Default value: `true`

Stored in the database.

Interface: `GlobalConfig`

Used in the Web Client and the Middleware blocks.
--

[[cuba.anonymousLogin]]
cuba.anonymousLogin::
+
--
Login name of the user on behalf of which the anonymous session is created (see <<cuba.anonymousSessionId,cuba.anonymousSessionId>>).

Default value: `anonymous`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.anonymousSessionId]]
cuba.anonymousSessionId::
+
--
Defines the UUID of the anonymous user session which is available before user login. This session is always created automatically on the server startup. See also <<cuba.anonymousLogin,cuba.anonymousLogin>>.

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.automaticDatabaseUpdate]]
cuba.automaticDatabaseUpdate::
+
--
Determines whether server should run <<db_update_server,DB update scripts>> at application start.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.availableLocales]]
cuba.availableLocales::
+
--
List of supported user interface languages.

Property format: `++{language_name1}|{language_code_1};{language_name2}|{language_code_2};++`...

Example:

[source, properties]
----
cuba.availableLocales=French|fr;English|en
----

`++{language_name}++` – name displayed in the list of available languages. For example, such lists can be found on the login screen and on the user edit screen.

`++{language_code}++` – corresponds to language code returned by the `Locale.getLanguage()` method. Used as a suffix for <<message_packs,message pack>> file names. For example, `++messages_fr.properties++`.

The first language listed in the `cuba.availableLocales` property will be selected in the list of available languages by default if the list does not contain the user's operating system language. Otherwise, user's operating system language will be selected by default.

Default value: `English|en;Russian|ru;French|fr`

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.backgroundWorker.maxActiveTasksCount]]
cuba.backgroundWorker.maxActiveTasksCount::
+
--
The maximum number of active <<background_tasks,background tasks>>.

Default value: `100`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.backgroundWorker.timeoutCheckInterval]]
cuba.backgroundWorker.timeoutCheckInterval::
+
--
Defines an interval in milliseconds for checking timeouts of <<background_tasks,background tasks>>.

Default value: `5000`

Interface: `ClientConfig`

Used in Web Client.
--

[[cuba.bruteForceProtection.enabled]]
cuba.bruteForceProtection.enabled::
+
--
Enables a mechanism for the protection against password brute force cracking.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.bruteForceProtection.blockIntervalSec]]
cuba.bruteForceProtection.blockIntervalSec::
+
--
Blocking interval in seconds after exceeding a maximum number of failed login attempts, if the <<cuba.bruteForceProtection.enabled,cuba.bruteForceProtection.enabled>> property is on.

Default value: 60

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.bruteForceProtection.maxLoginAttemptsNumber]]
cuba.bruteForceProtection.maxLoginAttemptsNumber::
+
--
A maximum number of failed login attempts for the combination of user login and IP address, if the <<cuba.bruteForceProtection.enabled,cuba.bruteForceProtection.enabled>> property is on.

Default value: 5

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.checkPasswordOnClient]]
cuba.checkPasswordOnClient::
+
--
When set to false (which is the default), `LoginPasswordLoginProvider` of the client block sends user's password as is to the middleware `AuthenticationService.login()` method. This is appropriate if the client and middleware blocks are co-located in the same JVM. For a distributed deployment when the client block is located on a different computer on the network, the connection between the client and middleware in this case should be encrypted using SSL.

If set to true, `LoginPasswordLoginProvider` loads the `User` entity by the entered login and checks the password itself. If the password matches the loaded password hash, the provider performs login as a trusted client using the password specified in the <<cuba.trustedClientPassword,cuba.trustedClientPassword>> property. This mode saves you from setting up SSL connections between clients and middleware in trusted networks, and at the same time does not exposes user passwords to the network: only hashes are transmitted. However notice that trusted client password is still transmitted over the network, so the SSL-protected connection is still more secure.

Default value: `false`

Interface: `WebAuthConfig`, `PortalConfig`, `RestApiConfig`

Used in the Web and Portal blocks.
--

[[cuba.cluster.enabled]]
cuba.cluster.enabled::
+
--
Enables interaction between Middleware servers in a cluster. See <<cluster_mw_server,>> for details.

Default value: `false`

Used in the Middleware block.
--

[[cuba.cluster.jgroupsConfig]]
cuba.cluster.jgroupsConfig::
+
--
Path to JGroups configuration file. The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

For example:

[source, properties]
----
cuba.cluster.jgroupsConfig = my_jgroups_tcp.xml
----

Default value: `jgroups.xml`

Used in the Middleware block.
--

[[cuba.cluster.messageSendingQueueCapacity]]
cuba.cluster.messageSendingQueueCapacity::
+
--
Limits the queue of middleware cluster messages. When the queue exceeds its maximum size, new messages are rejected.

Default value: `Integer.MAX_VALUE`

Used in the Middleware block.
--

[[cuba.cluster.stateTransferTimeout]]
cuba.cluster.stateTransferTimeout::
+
--
Sets the timeout in milliseconds for receiving state from cluster on node start.

Default value: `10000`

Used in the Middleware block.
--

[[cuba.confDir]]
cuba.confDir::
+
--
Defines location of the <<conf_dir,configuration folder>> for an application <<app_tiers,block>>.

Default value for <<fast_deployment>>: `${catalina.home}/conf/${<<cuba.webContextName,cuba.webContextName>>}`, which points to a subdirectory with the name of the web app inside the `tomcat/conf` folder, for example, `tomcat/conf/app-core`.

Default value for WAR and UberJAR deployment: `${app.home}/${<<cuba.webContextName,cuba.webContextName>>}/conf`, which points to a subdirectory of the <<app_home,application home>>.

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.connectionReadTimeout]]
cuba.connectionReadTimeout::
+
--
Sets Middleware connection timeout for client blocks. Non-negative value is passed to the `setReadTimeout()` method of `URLConnection`.

See also <<cuba.connectionTimeout,cuba.connectionTimeout>>.

Default value: `-1`

Used in the Web Client and Web Portal blocks.
--

[[cuba.connectionTimeout]]
cuba.connectionTimeout::
+
--
Sets Middleware connection timeout for client blocks. Non-negative value is passed to the `setConnectTimeout()` method of `URLConnection`.

See also <<cuba.connectionReadTimeout,cuba.connectionReadTimeout>>.

Default value: `-1`

Used in the Web Client and Web Portal blocks.
--

[[cuba.connectionUrlList]]
cuba.connectionUrlList::
+
--
Sets Middleware server connection URL for client blocks.

Property value should contain one or more comma separated URLs `http[s]://host[:port]/app-core`, where `host` is the server hostname, `port` is the server port, and `app-core` is the name of the the Middleware block web application. For example:

[source, properties]
----
cuba.connectionUrlList = http://localhost:8080/app-core
----

When using a cluster of Middleware servers, their addresses should be listed separated with commas:

[source, properties]
----
cuba.connectionUrlList = http://server1:8080/app-core,http://server2:8080/app-core
----

See details in <<cluster_mw_client>>.

See also <<cuba.useLocalServiceInvocation,cuba.useLocalServiceInvocation>>.

Interface: `ClientConfig`

Used in the Web Client and Web Portal blocks.
--

[[cuba.creditsConfig]]
cuba.creditsConfig::
+
--
<<additive_app_properties,Additive>> property defining a `credits.xml` file containing <<credits,information about the software components>> used by the application.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in the Web Client block.

Example:

[source, properties]
----
cuba.creditsConfig = +com/company/base/credits.xml
----
--

[[cuba.crossDataStoreReferenceLoadingBatchSize]]
cuba.crossDataStoreReferenceLoadingBatchSize::
+
--
Batch size for loading related entities from <<cross_datastore_ref,different data stores>> by <<dataManager,DataManager>>.

Default value: `50`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.dataManagerChecksSecurityOnMiddleware]]
cuba.dataManagerChecksSecurityOnMiddleware::
+
--
Indicates that <<dataManager,DataManager>> should apply <<security_subsystem,security>> restrictions when invoked on the middleware.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.dataSourceJndiName]]
cuba.dataSourceJndiName::
+
--
Defines JNDI name of the `javax.sql.DataSource` object used for connection to the application database.

Default value: `java:comp/env/jdbc/CubaDS`

Used in the Middleware block.
--

[[cuba.dataDir]]
cuba.dataDir::
+
--
Defines the location of the <<work_dir,work folder>> for an <<app_tiers,application block>>.

Default value for <<fast_deployment>>: `${catalina.home}/work/${<<cuba.webContextName,cuba.webContextName>>}`, which points to a subdirectory with the name of the web app inside the `tomcat/work` folder, for example, `tomcat/work/app-core`.

Default value for WAR and UberJAR deployment: `${app.home}/${<<cuba.webContextName,cuba.webContextName>>}/work`, which points to a subdirectory of the <<app_home,application home>>.

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.dbDir]]
cuba.dbDir::
+
--
Defines the location of the <<db_dir,database scripts directory>>.

Default value for <<fast_deployment>>: `${catalina.home}/webapps/${cuba.webContextName}/WEB-INF/db`, which points to the `WEB-INF/db` subdirectory of the web application in Tomcat.

Default value for WAR and UberJAR deployment: `web-inf:db`, which points to the `WEB-INF/db` subdirectory inside the WAR or UberJAR.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.dbmsType]]
cuba.dbmsType::
+
--
Defines the DBMS type. Affects the choice of DBMS integration interface implementations and the search for database init and update scripts together with <<cuba.dbmsVersion,cuba.dbmsVersion>>.

See <<dbms_types,>> for details.

Default value: `hsql`

Used in the Middleware block.
--

[[cuba.dbmsVersion]]
cuba.dbmsVersion::
+
--
An optional property that sets the database version. Affects the choice of DBMS integration interface implementations and the search for database init and update scripts together with <<cuba.dbmsType,cuba.dbmsType>>.

See <<dbms_types,>> for details.

Default value: `none`

Used in the Middleware block.
--

[[cuba.defaultPermissionValuesConfig]]
cuba.defaultPermissionValuesConfig::
+
--
Defines the set of files with the user's default permissions. Default permission values are used when no <<roles,role>> defines an explicit value for permission target. Used mostly for denying roles, see more in the <<default-permission-values.xml,default-permission-values.xml>> section.

Default value: `cuba-default-permission-values.xml`

Used in the Middleware block.

Example:

[source, properties]
----
cuba.defaultPermissionValuesConfig = +my-default-permission-values.xml
----
--

[[cuba.defaultQueryTimeoutSec]]
cuba.defaultQueryTimeoutSec::
+
--
Defines default <<transaction_timeout,transaction timeout>>.

Default value: `0` (no timeout).

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.disableEscapingLikeForDataStores]]
cuba.disableEscapingLikeForDataStores::
+
--
Contains a list of <<data_store,data stores>> for which the platform should disable ESCAPE in JPQL queries with LIKE operator in <<gui_Filter,filters>>.

Stored in the database.

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.disableOrmXmlGeneration]]
cuba.disableOrmXmlGeneration::
+
--
Disables automatic generation of the `orm.xml` file for <<extension,extended>> entities.

Default value: `false` (`orm.xml` will be created automatically if any extended entity exists).

Used in the Middleware block.
--

[[cuba.dispatcherSpringContextConfig]]
cuba.dispatcherSpringContextConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<dispatcher-spring.xml,dispatcher-spring.xml>> file of a client block.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in the Web Client and Web Portal blocks.

Example:

[source, properties]
----
cuba.dispatcherSpringContextConfig = +com/company/sample/portal-dispatcher-spring.xml
----
--

[[cuba.download.directories]]
cuba.download.directories::
+
--
Defines a list of folders from which the Middleware files can be downloaded from via `com.haulmont.cuba.core.controllers.FileDownloadController`. For example, file downloading is utilized by the server log display mechanism found in the *Administration* > *Server Log* web client screen.

The folder list should be separated with a semicolon.

Default value: `${cuba.tempDir};${cuba.logDir}` (files can be downloaded from the <<temp_dir,temporary folder>> and the <<log_dir,logs folder>>).

Used in the Middleware block.
--

[[cuba.email._]]
cuba.email.*::
Email sending parameters described in <<email_sending_properties,>>.

[[cuba.fileStorageDir]]
cuba.fileStorageDir::
+
--
Defines file storage folder structure roots. For more information, see <<file_storage_impl,>>.

Default value: `null`

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.enableDeleteStatementInSoftDeleteMode]]
cuba.enableDeleteStatementInSoftDeleteMode::
+
--
Backward compatibility toggle. If set to `true`, enables running JPQL `delete from` statement for soft-deleted entities when soft deletion mode is on. Such statement is transformed to SQL which deletes all instances not marked for deletion. This is counter-intuitive and disabled by default.

Default value: `false`

Used in the Middleware block.
--

[[cuba.enableSessionParamsInQueryFilter]]
cuba.enableSessionParamsInQueryFilter::
+
--
Backward compatibility toggle. If set to `false`, the filter conditions in datasource <<datasource_query_filter,query filters>> and <<gui_Filter,Filter component>> will be applied once at least one parameter value is supplied; the session parameters will not work.

Default value: `true`

Used in the Web Client block.
--

[[cuba.entityAttributePermissionChecking]]
cuba.entityAttributePermissionChecking::
+
--
If set to `true`, turns on checking entity attribute permissions on Middleware. When `false`, attribute permissions are checked on the client tier, e.g. in <<gui_framework,Generic UI>> or <<rest_api_v2,REST API>>.

Default value: `false`

Stored in the database.

Used in the Middleware block.
--

[[cuba.entityLog.enabled]]
cuba.entityLog.enabled::
+
--
Activates the <<entity_log,entity log>> mechanism.

Default value: `true`

Stored in the database.

Interface: `EntityLogConfig`

Used in the Middleware block.
--

[[cuba.groovyEvaluationPoolMaxIdle]]
cuba.groovyEvaluationPoolMaxIdle::
+
--
Sets the maximum number of unused compiled Groovy expressions in the pool during `Scripting.evaluateGroovy()` method execution. It is recommended to increment this parameter when intensive execution of Groovy expressions is required, for example, for a large number of <<application_folder,application folders>>.

Default value: 8

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.groovyEvaluatorImport]]
cuba.groovyEvaluatorImport::
+
--
Defines a list of classes imported by all Groovy expressions executed through <<scripting,Scripting>>.

Class names in the list should be separated with commas or semicolons.

Default value: `com.haulmont.cuba.core.global.PersistenceHelper`

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.groovyEvaluatorImport = com.haulmont.cuba.core.global.PersistenceHelper,com.abc.sales.CommonUtils
----
--

[[cuba.gui.genericFilterChecking]]
cuba.gui.genericFilterChecking::
+
--
Influences the behavior of the <<gui_Filter,Filter>> component.

When set to `true`, does not allow to apply a filter without specifying parameters.

Default value: `false`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.genericFilterColumnsCount]]
cuba.gui.genericFilterColumnsCount::
+
--
Defines the number of columns with conditions for the <<gui_Filter,Filter>> component.

Default value: `3`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.genericFilterConditionsLocation]]
cuba.gui.genericFilterConditionsLocation::
+
--
Defines the location of the conditions panel in the <<gui_Filter,Filter>> component. Two locations are available: `top` (above the filter control elements) and `bottom` (below the filter control elements).

Default value: `top`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.genericFilterControlsLayout]]
cuba.gui.genericFilterControlsLayout::
+
--
Sets a template for <<gui_Filter,Filter>> controls layout. Each control has the following format: `++[component_name | options-comma-separated]++`, e.g. `[pin | no-caption, no-icon]`.

Available controls:

* `++filters_popup++` - popup button for selecting a filter, combined with the *Search* button.

* `++filters_lookup++` - lookup field for selecting a filter. The *Search* button should be added as a separate control.

* `search` - *Search* button. Do not add if use `++filters_popup++`.

* `++add_condition++` - link button for adding new conditions.

* `spacer` - an empty space between controls.

* `settings` - *Settings* button. Specify action names that should be displayed in Settings popup as options (see below).

* `++max_results++` - group of controls for setting the maximum number of records to be selected.

* `++fts_switch++` - checkbox for switching to the Full-Text Search mode.

The following actions can be used as options of the `settings` control: `save`, `++save_as++`, `edit`, `remove`, `pin`, `++make_default++`, `++save_search_folder++`, `++save_app_folder++`, `++clear_values++`.

The actions can also be used as independent controls outside of the Settings popup. In this case, they can have the following options:

* `no-icon` - if an action button should be displayed without an icon. For example: `[save | no-icon]`.

* `no-caption` - if an action button should be displayed without a caption. For example: `[pin | no-caption]`.

Default value:

[source, plain]
----
[filters_popup] [add_condition] [spacer] \
[settings | save, save_as, edit, remove, make_default, pin, save_search_folder, save_app_folder, clear_values] \
[max_results] [fts_switch]
----

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.genericFilterManualApplyRequired]]
cuba.gui.genericFilterManualApplyRequired::
+
--
Influences the behavior of the <<gui_Filter,Filter>> component.

When set to `true`, the screens containing filters will not load the corresponding datasources automatically, until the user clicks the filter *Apply* button.

The value of `cuba.gui.genericFilterManualApplyRequired` is ignored, when opening browser screens using an application or search folders, i.e. the filter is applied. The filter will not be applied, if the `applyDefault` value for a folder is explicitly set to `false`.

Default value: `false`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.genericFilterMaxResultsOptions]]
cuba.gui.genericFilterMaxResultsOptions::
+
--
Defines the options for the *Show rows* drop-down list of the <<gui_Filter,Filter>> component.

NULL option indicates that the list should contain an empty value.

Default value: `NULL, 20, 50, 100, 500, 1000, 5000`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.genericFilterPopupListSize]]
cuba.gui.genericFilterPopupListSize::
+
--
Defines the number of items displayed in the popup list of the *Search* button. If the number of filters exceeds this value, Show more... action is added to the popup list. The action opens a new dialog window with a list of all possible filters.

Default value: `10`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.genericFilterTrimParamValues]]
cuba.gui.genericFilterTrimParamValues::
+
--
Defines whether all generic filters should trim input values. When set to `false`, the text filter will not trim values.

Default value: `true`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.layoutAnalyzerEnabled]]
cuba.gui.layoutAnalyzerEnabled::
+
--
Allows you to disable the screen analyzer available in the context menu of the main window tabs and the modal window captions.

Default value: `true`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.lookupFieldPageLength]]
cuba.gui.lookupFieldPageLength::
+
--
Defines the default number of options on one page of the drop-down list in the <<gui_LookupField,LookupField>> and <<gui_LookupPickerField,LookupPickerField>> components. It can be overridden for a concrete instance of the component using the <<gui_LookupField_pageLength,pageLength>> XML attribute.

Default value: 10

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client.
--

[[cuba.gui.manualScreenSettingsSaving]]
cuba.gui.manualScreenSettingsSaving::
+
--
If the property is set to `true`, screens will not save their settings automatically on close. In this mode, a user can save or reset settings using the context menu which appears on clicking a screen tab or a dialog window caption.

Default value: `false`

Interface: `ClientConfig`

Stored in the database.

Used in the Web Client block.
--

[[cuba.gui.showIconsForPopupMenuActions]]
cuba.gui.showIconsForPopupMenuActions::
+
--
Enables displaying action icons in <<gui_Table,Table>> context menu and <<gui_PopupButton,PopupButton>> items.

Default value: `false`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.systemInfoScriptsEnabled]]
cuba.gui.systemInfoScriptsEnabled::
+
--
Enables the display of SQL-scripts for creating / updating / retrieving an entity instance in the *System Information* window.

Such scripts actually show the contents of the database rows that store the selected entity instance, regardless of security settings that may deny viewing of some attributes. That is why it is reasonable to revoke the CUBA / Generic UI / System Information specific <<permissions,permission>> for all user <<roles,roles>> except the administrators, or set the `cuba.gui.systemInfoScriptsEnabled` to `false` for the whole application.

Default value: `true`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.useSaveConfirmation]]
cuba.gui.useSaveConfirmation::
+
--
Defines the layout of the dialog displayed when a user attempts closing a <<screens,screen>> with unsaved changes in datasources.

Value of `true` corresponds to a layout with three possible actions: Save changes, Don't Save, Don't close the screen.

The value of `false` corresponds to a form with two options: Close the screen without saving changes, Don't close the screen.

Default value: `true`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.gui.validationNotificationType]]
cuba.gui.validationNotificationType::
+
--
Defines the standard window <<abstractWindow_showValidationErrors,validation error>> validation error notification type.

Possible values are the elements of `com.haulmont.cuba.gui.components.Frame.NotificationType` enumeration:

** `TRAY` - tray popup with plain text message,
** `TRAY_HTML` - tray popup with HTML message,
** `HUMANIZED` - standard popup with plain text message,
** `HUMANIZED_HTML` - standard popup with HTML message,
** `WARNING` - warning popup with plain text message,
** `WARNING_HTML` - warning popup with HTML message,
** `ERROR` - error popup with plain text message,
** `ERROR_HTML` - error popup with HTML message.

Default value: `TRAY`.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.hasMultipleTableConstraintDependency]]
cuba.hasMultipleTableConstraintDependency::
+
--
Enables using `JOINED` <<entity_inheritance,inheritance strategy>> for composite entities. If set to `true`, provides the correct order of inserting new entities in the database.

Default value: `false`
--

[[cuba.healthCheckResponse]]
cuba.healthCheckResponse::
+
--
Defines the text returned from a request to the <<health_check_url,health check URL>>.

Default value: `ok`

Interface: `GlobalConfig`

Used in all standard blocks.
--

[[cuba.httpSessionExpirationTimeoutSec]]
cuba.httpSessionExpirationTimeoutSec::
+
--
Defines HTTP-session inactivity timeout in seconds.

Default value: `1800`

Interface: `WebConfig`

Used in the Web Client block.

[TIP]
====
It is recommended to use the same values for <<cuba.userSessionExpirationTimeoutSec, cuba.userSessionExpirationTimeoutSec>> and `cuba.httpSessionExpirationTimeoutSec` properties.
====

--

[[cuba.iconsConfig]]
cuba.iconsConfig::
+
--
<<additive_app_properties,Additive>> property defining <<icon_set,icon sets>>.

Used in the Web Client block.

Example:

[source, plain]
----
cuba.iconsConfig = +com.company.demo.web.MyIconSet
----
--

[[cuba.inMemoryDistinct]]
cuba.inMemoryDistinct::
+
--
Enables in-memory filtering of duplicate records instead of using `select distinct` at the database level. Used by the <<dataManager,DataManager>>.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.jmxUserLogin]]
cuba.jmxUserLogin::
+
--
Defines a user login that should be used for <<system_authentication,system authentication>>.

Default value: `admin`

Used in the Middleware block.
--

[[cuba.keyForSecurityTokenEncryption]]
cuba.keyForSecurityTokenEncryption::
+
--

Used as a key for AES encryption of the entity security token. The token is sent inside an entity instance when it is loaded from the middleware in the following cases:

* <<cuba.entityAttributePermissionChecking,cuba.entityAttributePermissionChecking>> application property is set to true which means that attribute permissions are enforced on the middleware (see more details <<dm_security>>).

* Row-level <<constraints,security constraints>> are filtered out some elements of a collection attribute. In this case, the security token is also included to JSON returned by REST API, see <<rest_api_v2_security_constraints>>.

* Dynamic <<entity_attribute_access, attribute access control>> is set up for the entity.

Although the security token does not contain any attribute values (only attribute names and filtered entity identifiers), it is highly recommended to change the default value of the encryption key in the production environment.

Default value: `CUBA.Platform`

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.numberIdCacheSize]]
cuba.numberIdCacheSize::
+
--
When an instance of entity inherited from `BaseLongIdEntity` or `BaseIntegerIdEntity` is created in memory via `Metadata.create()` method, an identifier value is assigned to the entity right away. This value is obtained from the mechanism that fetches the next id from a database sequence. In order to reduce the number of middleware and database calls, the sequence's increment is set by default to 100, which means that the framework obtains the range of ids on each invocation. So it "caches" this range and yields the ids without going for the next value to the database until the whole range is used.

The property defines the sequence's increment and the corresponding size of the cached range in memory.

[WARNING]
====
If you change the value of this property when there are already some entities in the database, recreate also all existing sequences with the new increment (which must be equal to `cuba.numberIdCacheSize`) and the starting values corresponding to the maximum values of existing ids.

Do not forget to set the property on all blocks used in the application. For example, if you have Web Client, Portal Client and Middleware, you should set the same value in `web-app.properties`, `portal-app.properties` and `app.properties`.
====

Default value: 100

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.legacyPasswordEncryptionModule]]
cuba.legacyPasswordEncryptionModule::
+
--
Same as <<cuba.passwordEncryptionModule,cuba.passwordEncryptionModule>> but defines the name of the bean used for user password hashing for users created before migration to the framework version 7 and having the `SEC_USER.PASSWORD_ENCRYPTION` field empty.

Default value: `++cuba_Sha1EncryptionModule++`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.localeSelectVisible]]
cuba.localeSelectVisible::
+
--
Disables the user interface language selection when logging in.

If `cuba.localeSelectVisible` is set to false, the locale for a user session is selected in the following way:

* If the `User` entity instance has a `language` attribute defined, the system will use this language.

* If the user's operating system language is included in the list of available locales (set by the <<cuba.availableLocales,cuba.availableLocales>> property), the system will use this language.

* Otherwise, the system will use the first language defined in the <<cuba.availableLocales,cuba.availableLocales>> property.

Default value: `true`

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.logDir]]
cuba.logDir::
+
--
Defines the location of the <<log_dir,log folder>> for an <<app_tiers,application block>>.

Default value for <<fast_deployment>>: `${catalina.home}/logs`, which points to the `tomcat/logs` folder.

Default value for WAR and UberJAR deployment: `${app.home}/logs`, which points to the `logs` subdirectory of the <<app_home,application home>>.

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.mainMessagePack]]
cuba.mainMessagePack::
+
--
<<additive_app_properties,Additive>> property defining a <<main_message_pack,main message pack>> for an application block.

The value may include a single pack or a list of packs separated with spaces.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.mainMessagePack = +com.company.sample.gui com.company.sample.web
----
--

[[cuba.maxUploadSizeMb]]
cuba.maxUploadSizeMb::
+
--
Maximum file size (in megabytes) that can be uploaded using the <<gui_FileUploadField,FileUploadField>> and <<gui_FileMultiUploadField,FileMultiUploadField>> components.

Default value: `20`

Stored in the database.

Interface: `ClientConfig`

Used in the Web Client block.
--

[[cuba.menuConfig]]
cuba.menuConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<menu.xml,menu.xml>> file.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in the Web Client block.

Example:

[source, properties]
----
cuba.menuConfig = +com/company/sample/web-menu.xml
----
--

[[cuba.metadataConfig]]
cuba.metadataConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<metadata.xml,metadata.xml>> file.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.metadataConfig = +com/company/sample/metadata.xml
----
--

[[cuba.passwordEncryptionModule]]
cuba.passwordEncryptionModule::
+
--
Defines the name of the bean used for user password hashing. When creating new user or updating user's password, the value of this property is stored for the user in the `SEC_USER.PASSWORD_ENCRYPTION` database field.

See also <<cuba.legacyPasswordEncryptionModule,cuba.legacyPasswordEncryptionModule>>.

Default value: `++cuba_BCryptEncryptionModule++`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.passwordPolicyEnabled]]
cuba.passwordPolicyEnabled::
+
--
Enables password policy enforcement. If the property is set to `true`, all new user passwords will be checked according to the <<cuba.passwordPolicyRegExp,cuba.passwordPolicyRegExp>> property.

Default value: `false`

Stored in the database.

Interface: `ClientConfig`

Used in the client blocks: Web Client, Web Portal.
--

[[cuba.passwordPolicyRegExp]]
cuba.passwordPolicyRegExp::
+
--
Defines a regular expression used by the password checking policy.

Default value:

`++((?=.*\\d)(?=.*\\p{javaLowerCase}) (?=.*\\p{javaUpperCase}).{6,20})++`

The expression above ensures that password contains from 6 to 20 characters, uses numbers and Latin letters, contains at least one number, one lower case, and one upper case letter. More information on regular expression syntax is available at https://en.wikipedia.org/wiki/Regular_expression and http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html.

Stored in the database.

Interface: `ClientConfig`

Used in the client level blocks: Web Client, Web Portal.
--

[[cuba.performanceLogDisabled]]
cuba.performanceLogDisabled::
+
--
Must be set to `true` in case you need to disable `PerformanceLogInterceptor`.

`PerformanceLogInterceptor` is triggered by the `@PerformanceLog` annotation of a class or a method, which provides logging of each method invocation and its execution time in the `perfstat.log` file. If you don't need such logging, we recommend you to disable `PerformanceLogInterceptor` for performance reasons. To enable it again, delete this property or set the value to `false`.

Default value: `false`

Used in the Middleware block.
--

[[cuba.performanceTestMode]]
cuba.performanceTestMode::
+
--
Must be set to true when the application is running performance tests.

Interface: `GlobalConfig`

Default value: `false`

Used in Web Client and Middleware blocks.
--

[[cuba.permissionConfig]]
cuba.permissionConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<permissions.xml,permissions.xml>> file.

Used in the Web Client block.

Example:

[source, properties]
----
cuba.permissionConfig = +com/company/sample/web-permissions.xml
----
--

[[cuba.persistenceConfig]]
cuba.persistenceConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<persistence.xml,persistence.xml>> file.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.persistenceConfig = +com/company/sample/persistence.xml
----
--

[[cuba.portal.anonymousUserLogin]]
cuba.portal.anonymousUserLogin::
+
--
Defines a user login that should be used for anonymous session in the Web Portal block.

The user with the specified login should exist in the security subsystem and should have the required permissions. User password is not required, because anonymous portal sessions are created via the <<login,loginTrusted()>> method with the password defined in the <<cuba.trustedClientPassword,cuba.trustedClientPassword>> property.

Interface: `PortalConfig`

Used in the Web Portal block.
--

[[cuba.queryCache.enabled]]
cuba.queryCache.enabled::
+
--
If set to `false`, the <<entity_cache,query cache>> functionality is disabled.

Default value: `true`

Interface: `QueryCacheConfig`

Used in the Middleware block.
--

[[cuba.queryCache.maxSize]]
cuba.queryCache.maxSize::
+
--
Maximum number of <<entity_cache,query cache>> entries. A cache entry is defined by the query text, query parameters, paging parameters and soft deletion.

As the cache size grows close to the maximum, the cache evicts entries that are less likely to be used again.

Default value: 100

Interface: `QueryCacheConfig`

Used in the Middleware block.
--

[[cuba.remotingSpringContextConfig]]
cuba.remotingSpringContextConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<remoting-spring.xml,remoting-spring.xml>> file of the Middleware block.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in the Middleware block.

Example:

[source, properties]
----
cuba.remotingSpringContextConfig = +com/company/sample/remoting-spring.xml
----
--

[[cuba.rest.allowedOrigins]]
cuba.rest.allowedOrigins::
+
--
Defines a comma-separated list of origins that can access the <<rest_api_v2,>>.

Default value: `*`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.anonymousEnabled]]
cuba.rest.anonymousEnabled::
+
--
Enables an anonymous access to the <<rest_api_v2,>> endpoints.

Default value: `false`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.client.authorizedGrantTypes]]
cuba.rest.client.authorizedGrantTypes::
+
--
Defines a list of supported grant types for the default REST API client. To disable refresh token support remove the `refresh_token` item from the value.

Default value: `password,external,refresh_token`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.client.id]]
cuba.rest.client.id::
+
--
Defines an identifier of the REST API client. Client, in this case, is not a platform user, but an application (some web portal or mobile app) that uses <<rest_api_v2,>>. Client credentials are used for basic authentication when accessing the REST API token endpoint.

Default value: `client`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.client.secret]]
cuba.rest.client.secret::
+
--
Defines a password for the REST API client. Client, in this case, is not a platform user, but an application (some web portal or mobile app) that uses <<rest_api_v2,>>. Client credentials are used for basic authentication when accessing the REST API token endpoint.

Default value: `secret`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.client.tokenExpirationTimeSec]]
cuba.rest.client.tokenExpirationTimeSec::
+
--
Defines a <<rest_api_v2,>> access token expiration timeout for the default client in seconds.

Default value: `43200` (12 hours)

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.client.refreshTokenExpirationTimeSec]]
cuba.rest.client.refreshTokenExpirationTimeSec::
+
--
Defines a <<rest_api_v2,>> refresh token expiration timeout for the default client in seconds.

Default value: `31536000` (365 days)

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.deleteExpiredTokensCron]]
cuba.rest.deleteExpiredTokensCron::
+
--
Specifies cron expression for scheduled removing of expired tokens from the database.

Default value: `0 0 3 * * ?`

Used in the Middleware block.
--

[[cuba.rest.jsonTransformationConfig]]
cuba.rest.jsonTransformationConfig::
+
--
<<additive_app_properties,Additive>> property defining a file that contains JSON transformation configurations used by the <<rest_api_v2,>> when the client needs data in format of some particular data model version.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

The XSD of the file is available at {xsd_url}/rest-json-transformations.xsd.

Default value: none

Example:

[source, properties]
----
cuba.rest.jsonTransformationConfig = +com/company/sample/json-transformations.xml
----

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.maxUploadSize]]
cuba.rest.maxUploadSize::
+
--
Maximum file size (in bytes) that can be uploaded with the <<rest_api_v2,>>.

Default value: `20971520` (20 Mb)

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.optimisticLockingEnabled]]
cuba.rest.optimisticLockingEnabled::
+
--
Enables optimistic locking of `Versioned` entities if the `version` attribute is provided in JSON.

Default value: `false`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.requiresSecurityToken]]
cuba.rest.requiresSecurityToken::
+
--
If true, a special system attribute is included in JSON for loaded entities, and the same attribute is expected to be passed back to REST when saving the entities. See details in <<rest_api_v2_security_constraints>>.

Default value: `false`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.reuseRefreshToken]]
cuba.rest.reuseRefreshToken::
+
--
Specifies whether a refresh token may be reused. If set to `false` then when an access token is requested using the refresh token, a new refresh token will be issued, and the old refresh token will be revoked.

Default value: `true`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.servicesConfig]]
cuba.rest.servicesConfig::
+
--
<<additive_app_properties,Additive>> property defining a file that contains a list of <<services,services>> available for application <<rest_api_v2,>> calls.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

The XSD of the file is available at {xsd_url}/rest-services-v2.xsd.

Default value: none

Example:

[source, properties]
----
cuba.rest.servicesConfig = +com/company/sample/app-rest-services.xml
----

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.storeTokensInDb]]
cuba.rest.storeTokensInDb::
+
--
Enables storing of REST API security tokens in the database. By default, tokens are stored in memory only.

Stored in the database.

Interface: `ServerConfig`

Default value: `false`

Used in the Middleware block.
--

[[cuba.rest.tokenMaskingEnabled]]
cuba.rest.tokenMaskingEnabled::
+
--
Specifies whether REST API token values should be masked in application logs.

Default value: `true`

Used in the Web Client and Web Portal blocks.
--

[[cuba.rest.queriesConfig]]
cuba.rest.queriesConfig::
+
--
<<additive_app_properties,Additive>> property defining a file that contains a list of JPQL queries available for application <<rest_api_v2,>> calls.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

The XSD of the file is available at {xsd_url}/rest-queries.xsd.

Default value: none

Example:

[source, properties]
----
cuba.rest.queriesConfig = +com/company/sample/app-rest-queries.xml
----

Used in the Web Client and Web Portal blocks.
--

[[cuba.schedulingActive]]
cuba.schedulingActive::
+
--
Enables the CUBA <<scheduled_tasks,scheduled tasks>> mechanism.

Default value: `false`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.serialization.impl]]
cuba.serialization.impl::
+
--
Specifies an implementation of the `Serialization` interface which is used for serialization of objects transferred between the application blocks. The platform contains two implementations:

* `com.haulmont.cuba.core.sys.serialization.StandardSerialization` - standard Java serialization.

* `com.haulmont.cuba.core.sys.serialization.KryoSerialization` - serialization based on the Kryo framework.

Default value: `com.haulmont.cuba.core.sys.serialization.StandardSerialization`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.springContextConfig]]
cuba.springContextConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<spring.xml,spring.xml>> file in all standard application blocks.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.springContextConfig = +com/company/sample/spring.xml
----
--

[[cuba.supportEmail]]
cuba.supportEmail::
+
--
Specifies an email address to which exception reports from the default exception handler screen, as well as user messages from the *Help* > *Feedback* screen, will be sent.

*Report* button in the exception handler screen will be hidden if this property is set to an empty string.

In order to successfully send emails, the parameters described in <<email_sending_properties,>> must also be configured.

Default value: empty string.

Stored in the database.

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.tempDir]]
cuba.tempDir::
+
--
Defines the location of the <<temp_dir,temporary directory>> for an <<app_tiers,application block>>.

Default value for <<fast_deployment>>: `${catalina.home}/temp/${<<cuba.webContextName,cuba.webContextName>>}`, which points to a subdirectory with the name of the web app inside the `tomcat/temp` folder, for example, `tomcat/temp/app-core`.

Default value for WAR and UberJAR deployment: `${app.home}/${<<cuba.webContextName,cuba.webContextName>>}/temp`, which points to a subdirectory of the <<app_home,application home>>.

Interface: `GlobalConfig`

Used in all standard <<app_tiers,blocks>>.
--

[[cuba.testMode]]
cuba.testMode::
+
--
Must be set to true when the application is running automatic UI tests.

Interface: `GlobalConfig`

Default value: `false`

Used in Web Client and Middleware blocks.
--

[[cuba.themeConfig]]
cuba.themeConfig::
+
--
Defines a set of `++*-theme.properties++` files that store <<gui_themes,theme>> variables, such as default popup window dimensions and input field width.

The property takes a list of files separated with spaces. The files are loaded as defined by the <<resources,Resources>> interface.

Default value for Web Client: `com/haulmont/cuba/havana-theme.properties com/haulmont/cuba/halo-theme.properties com/haulmont/cuba/hover-theme.properties`

Used in the Web Client block.
--

[[cuba.triggerFilesCheck]]
cuba.triggerFilesCheck::
+
--
Enables the processing of bean invocation trigger files.

The trigger file is a file that is placed in the `triggers` subdirectory of the application block's <<temp_dir,temporary directory>>. The trigger file name consists of two parts separated with a period. The first part is the <<managed_beans,bean>> name, the second part is the method name of the bean to invoke. For example: `++cuba_Messages.clearCache++`. The trigger files handler monitors the folder for new trigger files, invokes the appropriate methods and then removes the files.

By default, the trigger files processing is configured in the `cuba-web-spring.xml` file and performed for the Web Client block only. At the project level, the processing for other modules can be performed by <<scheduled_tasks,periodically invoking>> the `process()` method of the `++cuba_TriggerFilesProcessor++` bean.

Default value: `true`

Used in blocks with the configured processing, the default is Web Client.
--

[[cuba.triggerFilesCheckInterval]]
cuba.triggerFilesCheckInterval::
+
--
Defines the period in milliseconds of trigger files processing if the <<cuba.triggerFilesCheck,cuba.triggerFilesCheck>> is set to `true`.

Default value: `5000`

Used in blocks with the configured processing, the default is Web Client.
--

[[cuba.trustedClientPassword]]
cuba.trustedClientPassword::
+
--
Defines password used by the `LoginService.loginTrusted()` method. The Middleware layer can authenticate users who connect via the trusted client <<app_tiers,block>> without checking the user password.

This property is used when user passwords are not stored in the database, while the client block performs the actual authentication itself. For example, by integrating with *Active Directory*.

Interfaces: `ServerConfig`, `WebAuthConfig`, `PortalConfig`

Used in blocks: Middleware, Web Client, Web Portal.
--

[[cuba.trustedClientPermittedIpList]]
cuba.trustedClientPermittedIpList::
+
--
Defines the list of IP addresses, from which the invocation of the `LoginService.loginTrusted()` method is allowed. For example:

[source, plain]
----
cuba.trustedClientPermittedIpList = 127.0.0.1, 10.17.*.*
----

Default value: `127.0.0.1`

Interfaces: `ServerConfig`

Used in the Middleware block.
--

[[cuba.uniqueConstraintViolationPattern]]
cuba.uniqueConstraintViolationPattern::
+
--
A regular expression which is used to find out that the exception is caused by a database unique constraint violation. The constraint name will be obtained from the first non-empty group of the expression. For example:

[source, plain]
----
ERROR: duplicate key value violates unique constraint "(.+)"
----

The constraint name can be used to display a localized message that indicates what entity is concerned. For this, the <<main_message_pack,main message pack>> should contain keys equal to constraint names. For example:

[source, properties]
----
IDX_SEC_USER_UNIQ_LOGIN = A user with the same login already exists
----

This property allows you to define a reaction to unique constraint violations depending on DBMS locale and version.

Default value is returned by the `PersistenceManagerService.getUniqueConstraintViolationPattern()` method for the current DBMS.

Can be defined in the database.

Used in all client blocks.
--

[[cuba.useCurrentTxForConfigEntityLoad]]
cuba.useCurrentTxForConfigEntityLoad::
+
--
Enables using current transaction, if there is one at the moment, for loading entity instances via the <<config_interfaces,configuration interfaces>>. This could have a positive impact on performance. Otherwise, a new transaction is always created and committed, and the detached instances are returned.

Default value: `false`

Used in the Middleware block.
--

[[cuba.useEntityDataStoreForIdSequence]]
cuba.useEntityDataStoreForIdSequence::
+
--
If the property is set to true, sequences for generating identifiers for `BaseLongIdEntity` and `BaseIntegerIdEntity` subclasses are created in the <<data_store,data store>> the entity belongs to. Otherwise, they are created in the main data store.

Default value: `false`

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.useInnerJoinOnClause]]
cuba.useInnerJoinOnClause::
+
--
Indicates that EclipseLink <<orm,ORM>> will use `JOIN ON` clause for inner joins instead of conditions in `WHERE` clause.

Default value: false

Used in the Middleware block.
--

[[cuba.useLocalServiceInvocation]]
cuba.useLocalServiceInvocation::
+
--
When set to `true`, the Web Client and Web Portal <<app_tiers,blocks>> invoke the Middleware services locally, bypassing the network stack, which has a positive impact on system performance. It is possible when Tomcat <<fast_deployment,fast deployment>> is used, as well as single <<build.gradle_buildWar,WAR>> or single <<build.gradle_buildUberJar,Uber-JAR>>. This property should be set to false for all other deployment options.

Default value: `false`

Used in the Web Client and Web Portal blocks.
--

[[cuba.useReadOnlyTransactionForLoad]]
cuba.useReadOnlyTransactionForLoad::
+
--
Indicates that all `load` methods of <<dataManager,DataManager>> use <<transaction_read_only,read-only transactions>>.

Default value: `true`

Stored in the database.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.user.fullNamePattern]]
cuba.user.fullNamePattern::
+
--
Defines the full name pattern for user.

Default value: `{FF| }{LL}`

The full name pattern can be formed from the user's first, last and middle names. The following rules apply to the pattern:

* The pattern parts are separated with `{}`

* The pattern inside `{}` must contain one of the following characters followed by the `|` character without any spaces:
+
`LL` – long form of user's last name (Smith)
+
`L` – short form of user's last name (S)
+
`FF` – long form of user's first name (John)
+
`F` – short form of user's first name (J)
+
`MM` – long form of user's middle name (Paul)
+
`M` – short form of user's middle name (P)

* The `|` character can be followed by any symbols including spaces.

Used in the Web Client block.
--

[[cuba.user.namePattern]]
cuba.user.namePattern::
+
--
Defines the display name pattern for the `User` entity. The display name is used in different places, including the upper right corner of the system's main window.

Default value: `{1} [{0}]`

`{0}` is substituted with the `login` attribute, `{1}` – with the `name` attribute.

Used in the Middleware and Web Client blocks.
--

[[cuba.userSessionExpirationTimeoutSec]]
cuba.userSessionExpirationTimeoutSec::
+
--
Defines the user session expiration timeout in seconds.

Default value: `1800`

Interface: `ServerConfig`

Used in the Middleware block.

[TIP]
====
It is recommended to use the same values for `cuba.userSessionExpirationTimeoutSec` and <<cuba.httpSessionExpirationTimeoutSec, cuba.httpSessionExpirationTimeoutSec>>.
====

--

[[cuba.userSessionLogEnabled]]
cuba.userSessionLogEnabled::
+
--
Activates the <<userSession_log,user session log>> mechanism.

Default value: `false`

Stored in the database.

Interface: `GlobalConfig`.

Used in all standard <<app_tiers,blocks>>.
--


[[cuba.userSessionProviderUrl]]
cuba.userSessionProviderUrl::
+
--
Defines the Middleware <<app_tiers,block>> URL used for logging users in.

This parameter should be set in additional middleware blocks that execute client requests but do not share the user session cache. If there is no required session in the local cache at the start of the request, this block invokes the `LoginService.getSession()` method at the specified URL, and caches the retrieved session.

Interface: `ServerConfig`

Used in the Middleware block.
--

[[cuba.viewsConfig]]
cuba.viewsConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<views.xml,views.xml>> file. See <<views,>>.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in all standard <<app_tiers,blocks>>.

Example:

[source, properties]
----
cuba.viewsConfig = +com/company/sample/views.xml
----
--

[[cuba.webAppUrl]]
cuba.webAppUrl::
+
--
Defines URL of the Web Client application.

In particular, used to generate external application <<link_to_screen,screen links>>, as well as by the `ScreenHistorySupport` class.

Default value: `++http://localhost:8080/app++`

Stored in the database.

Interface: `GlobalConfig`

Can be used in all standard <<app_tiers,blocks>>.
--

[[cuba.web.urlHandlingMode]]
cuba.web.urlHandlingMode::
+
--
Defines how URL changes should be handled.

Possible values are the elements of `UrlHandlingMode` enumeration:

* `NONE` – URL changes are not handled at all;

* `BACK_ONLY` – `CubaHistoryControl` is used to handle changes. This value replaces the old <<cuba.web.allowHandleBrowserHistoryBack,cuba.web.allowHandleBrowserHistoryBack>> property;

* `URL_ROUTES` – changes are handled by the <<url_history_navigation>> feature.

Default value: `URL_ROUTES`.

Interface: `WebConfig`.
--

[[cuba.windowConfig]]
cuba.windowConfig::
+
--
<<additive_app_properties,Additive>> property defining a <<screens.xml,screens.xml>> file.

The file is loaded using the <<resources,Resources>> interface, so it can be located in classpath or in the <<conf_dir,configuration directory>>.

Used in the Web Client block.

Example:

[source, properties]
----
cuba.windowConfig = +com/company/sample/web-screens.xml
----
--

[[cuba.web.allowHandleBrowserHistoryBack]]
cuba.web.allowHandleBrowserHistoryBack::
+
--
Enables handling of browser *Back* button in the application if the login and/or main window implements the `CubaHistoryControl.HistoryBackHandler` interface. If the property is true, the standard browser behavior is replaced with this method invocation.

See <<gui_web,>>.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.appFoldersRefreshPeriodSec]]
cuba.web.appFoldersRefreshPeriodSec::
+
--
Defines <<folders_pane,application folders>> refresh period in seconds.

Default value: `180`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.appWindowMode]]
cuba.web.appWindowMode::
+
--
Determines the initial mode for the main application window – "tabbed" or "single screen" (`TABBED` or `SINGLE` respectively). In the "single screen" mode, when a screen opens with the `++NEW_TAB++` parameter, it completely replaces the current screen instead of opening a new tab.

The user is able to change the mode later using the *Help > Settings* screen.

Default value: `TABBED`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.closeIdleHttpSessions]]
cuba.web.closeIdleHttpSessions::
+
--
Defines whether the Web Client can close the UIs and the session when the <<cuba.httpSessionExpirationTimeoutSec,session timeout>> is expired after the last <<cuba.web.uiHeartbeatIntervalSec,non-heartbeat>> request.

Default value: `false`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.componentsConfig]]
cuba.web.componentsConfig::
+
--
<<additive_app_properties,Additive>> property defining a configuration file containing information about the application components supplied in separate jars or defined in `cuba-ui-component.xml` descriptor of *web* module.

For example:

[source, plain]
----
cuba.web.componentsConfig =+demo-web-components.xml
----
--

[[cuba.web.customDeviceWidthForViewport]]
cuba.web.customDeviceWidthForViewport::
+
--
Defines custom viewport width for HTML page. Affects "viewport" meta tag of Vaadin HTML pages.

Default value: `-1`

Interface: `WebConfig`

Used in blocks: Web Client.
--

[[cuba.web.defaultScreenCanBeClosed]]
cuba.web.defaultScreenCanBeClosed::
+
--
Defines whether the default screen can be closed by close button, ESC button or TabSheet context menu when `TABBED` <<cuba.web.appWindowMode,work area mode>> is used.

Default value: true

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.defaultScreenId]]
cuba.web.defaultScreenId::
+
--
Defines the screen to be opened after login. This setting will be applied to all users.

For example:

[source, plain]
----
cuba.web.defaultScreenId = sys$SendingMessage.browse
----

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.externalAuthentication]]
cuba.web.externalAuthentication::
+
--
*Deprecated*. Use <<web_login_extension_points,Web login extension points>> instead.

Indicates that the authentication is done through an external mechanism like <<ldap,LDAP>> or <<sso,SSO>> Identity Provider. See also <<cuba.web.externalAuthenticationProviderClass,cuba.web.externalAuthenticationProviderClass>> and https://github.com/cuba-platform/idp-addon/wiki[IDP addon wiki].

Default value: `false`

Interface: `WebAuthConfig`

Used in the Web Client block.
--

[[cuba.web.externalAuthenticationProviderClass]]
cuba.web.externalAuthenticationProviderClass::
+
--
*Deprecated*. Use <<web_login_extension_points,Web login extension points>> instead.

A class implementing the `CubaAuthProvider` interface which is used when <<cuba.web.externalAuthentication,cuba.web.externalAuthentication>> is set to `true`.

See <<ldap,>> and section and https://github.com/cuba-platform/idp-addon/wiki[IDP addon wiki] for examples.

Interface: `WebAuthConfig`

Used in the Web Client block.
--

[[cuba.web.foldersPaneDefaultWidth]]
cuba.web.foldersPaneDefaultWidth::
+
--
Defines default width (in pixels) for the <<folders_pane,folders panel>>.

Default value: `200`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.foldersPaneEnabled]]
cuba.web.foldersPaneEnabled::
+
--
Enables the folders panel functionality.

Default value: `false`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.foldersPaneVisibleByDefault]]
cuba.web.foldersPaneVisibleByDefault::
+
--
Determines whether the <<folders_pane,folders panel>> should be expanded by default.

Default value: `false`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.ldap.enabled]]
cuba.web.ldap.enabled::
+
--
Enables/disables LDAP login mechanism of the Web Client.

For example:

[source]
----
cuba.web.ldap.enabled = true
----

Interface: `WebLdapConfig`

Used in the Web Client block.
--

[[cuba.web.ldap.urls]]
cuba.web.ldap.urls::
+
--
Specifies LDAP server URLs.

For example:

[source]
----
cuba.web.ldap.urls = ldap://192.168.1.1:389
----

Interface: `WebLdapConfig`

Used in the Web Client block.
--

[[cuba.web.ldap.base]]
cuba.web.ldap.base::
+
--
Specifies base DN for user search in LDAP.

For example:

[source]
----
cuba.web.ldap.base = ou=Employees,dc=mycompany,dc=com
----

Interface: `WebLdapConfig`

Used in the Web Client block.
--

[[cuba.web.ldap.user]]
cuba.web.ldap.user::
+
--
The distinguished name of a system user which has the right to read the information from the directory.

For example:

[source]
----
cuba.web.ldap.user = cn=System User,ou=Employees,dc=mycompany,dc=com
----

Interface: `WebLdapConfig`

Used in the Web Client block.
--

[[cuba.web.ldap.password]]
cuba.web.ldap.password::
+
--
The password for the system user defined in the <<cuba.web.ldap.user,cuba.web.ldap.user>> property.

For example:

[source]
----
cuba.web.ldap.password = system_user_password
----

Interface: `WebLdapConfig`

Used in the Web Client block.
--

[[cuba.web.ldap.userLoginField]]
cuba.web.ldap.userLoginField::
+
--
The name of an LDAP user attribute that is used for matching the login name. `sAMAccountName` by default (suitable
for Active Directory).

For example:

[source]
----
cuba.web.ldap.userLoginField = username
----

Interface: `WebLdapConfig`

Used in the Web Client block.
--

[[cuba.web.linkHandlerActions]]
cuba.web.linkHandlerActions::
+
--
Defines a list of URL commands handled by the `LinkHandler` bean. See <<link_to_screen,>> for more information.

The elements should be separated with the `|` character.

Default value: `open|o`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.loginDialogDefaultUser]]
cuba.web.loginDialogDefaultUser::
+
--
Defines default user name, which will be automatically populated in the login screen. This is very convenient during development. This property should be set to `<disabled>` value in production environment.

Default value: `admin`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.loginDialogDefaultPassword]]
cuba.web.loginDialogDefaultPassword::
+
--
Defines default user password, which will be automatically populated in the login screen. This is very convenient during development. This property should be set to `<disabled>` value in production environment.

Default value: `admin`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.loginDialogPoweredByLinkVisible]]
cuba.web.loginDialogPoweredByLinkVisible::
+
--
Set to `false` to hide the "powered by CUBA Platform" link on the login dialog.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.mainTabSheetMode]]
cuba.web.mainTabSheetMode::
+
--
Defines which component will be used for <<cuba.web.appWindowMode,TABBED>> mode of main window. May have one of two possible string values from the `MainTabSheetMode` enumeration:

* `DEFAULT`: `CubaTabSheet` component is used. It loads and unloads components each time the user switches tabs.

* `MANAGED`: `CubaManagedTabSheet` is used. It doesn't unload components from the tab when the user selects another tab.

Default value: `DEFAULT`.

Interface: `WebConfig`.

Used in the Web Client block.
--

[[cuba.web.managedMainTabSheetMode]]
cuba.web.managedMainTabSheetMode::
+
--
If the <<cuba.web.mainTabSheetMode,cuba.web.mainTabSheetMode>> property is set to `MANAGED`, defines the way the managed main TabSheet switches its tabs: hides or unloads them.

Default value: `HIDE_TABS`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.maxTabCount]]
cuba.web.maxTabCount::
+
--
Defines the maximum number of tabs that can be opened in the main application window. The value of `0` disables this limitation.

Default value: `7`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.pageInitialScale]]
cuba.web.pageInitialScale::
+
--
Defines the initial scale of HTML page if <<cuba.web.customDeviceWidthForViewport,cuba.web.customDeviceWidthForViewport>> is set or <<cuba.web.useDeviceWidthForViewport,cuba.web.useDeviceWidthForViewport>> is `true`. Affects "viewport" meta tag of Vaadin HTML pages.

Default value: `0.8`

Interface: `WebConfig`

Used in blocks: Web Client.
--

[[cuba.web.productionMode]]
cuba.web.productionMode::
+
--
Allows you to completely disable opening the Vaadin developer console in browser by adding `?debug` to the application URL, and, therefore, disabling the JavaScript debug mode and reducing the amount of server information available from the browser.

Default value: `false`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.pushEnabled]]
cuba.web.pushEnabled::
+
--
Allows you to completely disable <<server_push_settings,server push>>. The <<background_tasks,Background Tasks>> mechanism will not work in this case.

Default value: `true`

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.pushLongPolling]]
cuba.web.pushLongPolling::
+
--
Enables switching to long polling instead of WebSocket for <<server_push_settings,server push>> implementation.

Default value: `false`

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.pushLongPollingSuspendTimeoutMs]]
cuba.web.pushLongPollingSuspendTimeoutMs::
+
--
Defines push timeout in milliseconds, which is used in case of setting long polling instead of WebSocket for <<server_push_settings,server push>> implementation, i.e. `cuba.web.pushLongPolling="true"`.

Default value: `-1`

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.rememberMeEnabled]]
cuba.web.rememberMeEnabled::
+
--
Enables displaying *Remember Me* checkbox in the standard login screen of the web client.

Default value: `true`

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.resourcesCacheTime]]
cuba.web.resourcesCacheTime::
+
--
Enables configuring whether web resources should be cached or not. Value is set in seconds. Zero cache time disables caching at all. For example:

[source, properties]
----
cuba.web.resourcesCacheTime = 136
----

Default value: 60 * 60 (1 hour).

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.webJarResourcesCacheTime]]
cuba.web.webJarResourcesCacheTime::
+
--
Enables configuring whether <<using_webjars,WebJar>> resources should be cached or not. Value is set in seconds. Zero cache time disables caching at all. For example:

[source, properties]
----
cuba.web.webJarResourcesCacheTime = 631
----

Default value: 60 * 60 * 24 * 365 (1 year).

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.resourcesRoot]]
cuba.web.resourcesRoot::
+
--
Sets a directory for loading files to display by <<gui_Embedded,Embedded>> component. For example:

[source, properties]
----
cuba.web.resourcesRoot = ${cuba.confDir}/resources
----

Default value: `null`

Interface: `WebConfig`

Used in Web Client.
--

[[cuba.web.requirePasswordForNewUsers]]
cuba.web.requirePasswordForNewUsers::
+
--
If set to `true` then password is required on user creation from the Web Client. It is recommended to set value to
`false` if you use <<ldap_basic,LDAP>> authentication.

Default value: `true`

Interface: `WebAuthConfig`

Used in the Web Client block.
--

[[cuba.web.showBreadCrumbs]]
cuba.web.showBreadCrumbs::
+
--
Enables hiding of the breadcrumbs panel which normally appears on top of the main window working area.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.showFolderIcons]]
cuba.web.showFolderIcons::
+
--
Enables the <<folders_pane,folders panel>> icons. When enabled, the following application theme files are used:

* `icons/app-folder-small.png` – for application folders.

* `icons/search-folder-small.png` – for search folders.

* `icons/set-small.png` – for record sets.

Default value: `false`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.standardAuthenticationUsers]]
cuba.web.standardAuthenticationUsers::
+
--
A comma-separated list of users that are not allowed to use external authentication (such as <<ldap,LDAP>> or <<sso,IDP SSO>>) and should log in to the system using standard authentication only.

An empty list means that everyone is allowed to login using external authentication.

Default value: `<empty list>`

Interface: `WebAuthConfig`

Used in the Web Client block.
--

[[cuba.web.table.cacheRate]]
cuba.web.table.cacheRate::
+
--
Adjusts <<gui_Table,Table>> caching in the web browser. The amount of cached rows will be `cacheRate` multiplied with <<cuba.web.table.pageLength,pageLength>> both below and above visible area.

Default value: `2`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.table.pageLength]]
cuba.web.table.pageLength::
+
--
Sets the number of rows to be fetched from the server into the web browser when <<gui_Table,Table>> is rendered first time on refresh. See also <<cuba.web.table.cacheRate,cuba.web.table.cacheRate>>.

Default value: `15`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.theme]]
cuba.web.theme::
+
--
Defines the name of the <<gui_themes,theme>> used as default for the web client. See also <<cuba.themeConfig,cuba.themeConfig>>.

Default value: `halo`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.uiHeartbeatIntervalSec]]
cuba.web.uiHeartbeatIntervalSec::
+
--
Defines the interval of the heartbeat requests for Web Client UI. If not set, the calculated value <<cuba.httpSessionExpirationTimeoutSec,cuba.httpSessionExpirationTimeoutSec>> / 3 is used.

Default value: HTTP-session inactivity timeout, sec / 3

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.useFontIcons]]
cuba.web.useFontIcons::
+
--
If this property is enabled for Halo <<gui_themes,theme>>, link:http://fortawesome.github.io/Font-Awesome[Font Awesome] glyphs will be used for standard actions and platform screens instead of images.

The correspondence between the name in the <<gui_attr_icon,icon>> attribute of a visual component or action and font element is defined in the `halo-theme.properties` file of the platform. Keys with `cuba.web.icons` prefixes correspond to icon names, and their values - to `com.vaadin.server.FontAwesome` enumeration constants. For example, a font element for the standard `create` action is defined as follows:

[source, properties]
----
cuba.web.icons.create.png = font-icon:FILE_O
----

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.unsupportedPagePath]]
cuba.web.unsupportedPagePath::
+
--
Defines the path to the <<unsupported_browser_page,HTML page>> that is shown when an application doesn't support the current browser version.

[source, properties]
----
cuba.web.unsupportedPagePath = /com/company/sales/web/sys/unsupported-browser-page.html
----

Default value: `/com/haulmont/cuba/web/sys/unsupported-page-template.html`.

Interface: `WebConfig`.

Used in the Web Client block.
--

[[cuba.web.useInverseHeader]]
cuba.web.useInverseHeader::
+
--
Controls the web client application header for Halo <<gui_themes,theme>> and its <<web_theme_extension,inheritors>>. If `true`, the header will be dark (inverse), if `false` - the header takes the colour of the main application background.

This property is ignored in case

[source, css]
----
$v-support-inverse-menu: false;
----

property is set in the application theme. This makes sense for a dark theme, if the user has the option to choose between a light and a dark theme. In this case, the header will be inverse for the light theme, and the same as the main background in the dark theme.

Default value: `true`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.userCanChooseDefaultScreen]]
cuba.web.userCanChooseDefaultScreen::
+
--
Defines whether a user is able to choose the <<cuba.web.defaultScreenId,default screen>>. If the `false` value is set, the *Default screen* field in the *Settings* screen is read-only.

Default value: true

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.web.useDeviceWidthForViewport]]
cuba.web.useDeviceWidthForViewport::
+
--
Handles the viewport width. Set `true` if device width should be used as viewport width. This property affects viewport meta tag of Vaadin HTML pages.

Default value: `false`

Interface: `WebConfig`

Used in blocks: Web Client.
--

[[cuba.web.viewFileExtensions]]
cuba.web.viewFileExtensions::
+
--
Defines a list of file extensions displayed in the browser when <<file_download,downloading the file>> using `ExportDisplay.show()`. The `|` character should be used to separate the list items.

Default value: `htm|html|jpg|png|jpeg|pdf`

Interface: `WebConfig`

Used in the Web Client block.
--

[[cuba.webContextName]]
cuba.webContextName::
+
--
Defines the web application context name. It is usually equivalent to the name of the directory or WAR-file containing this <<app_tiers,application block>>.

Interface: `GlobalConfig`

Used in blocks: Middleware, Web Client, Web Portal.

For example, for the Middleware block, located in `tomcat/webapps/app-core` and available at `++http://somehost:8080/app-core++`, the property should be set to the following value:

[source, properties]
----
cuba.webContextName = app-core
----
--

[[cuba.webHostName]]
cuba.webHostName::
+
--
Defines the host name of the machine, on which this <<app_tiers,application block>> is running.

Default value: `localhost`

Interface: `GlobalConfig`

Used in blocks: Middleware, Web Client, Web Portal.

For example, for the Middleware block, available at `++http://somehost:8080/app-core++`, the property should be set to the following value:

[source, properties]
----
cuba.webHostName = somehost
----
--

[[cuba.webPort]]
cuba.webPort::
+
--
Defines the port, on which this <<app_tiers,application block>> is running.

Default value: `8080`

Interface: `GlobalConfig`

Used in blocks: Middleware, Web Client, Web Portal.

For example, for the Middleware block, available at `++http://somehost:8080/app-core++`, this property should be set to the following value:

[source, properties]
----
cuba.webPort = 8080
----
--


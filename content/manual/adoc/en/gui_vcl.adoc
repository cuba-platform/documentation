[[gui_vcl]]
==== Visual Components Library

<<gui_components,Components>>

<<gui_layouts,Containers>>

<<gui_misc,Miscellaneous>>

[[gui_components]]
===== Components

[cols="<.^1,<.^4", frame="none", grid="none", grid="none", width="60%"]
|===

| *Menu*|

| <<gui_AppMenu,AppMenu>>| image:gui_AppMenu.png[]

| <<gui_SideMenu,SideMenu>>| image:gui_sidemenu.png[]

| |

| *Buttons*| 

| <<gui_Button,Button>>| image:Button.png[]

| <<gui_PopupButton,PopupButton>>| image:PopupButton.png[]

| <<gui_LinkButton,LinkButton>>| image:LinkButton.png[]

| |

| *Text*| 

| <<gui_Label,Label>>| image:gui_label.png[]

| |

| *Text inputs*| 

| <<gui_TextField,TextField>>| image:gui_textField_data.png[]

| <<gui_PasswordField,PasswordField>>| image:gui_PasswordField.png[]

| <<gui_MaskedField,MaskedField>>| image:gui_MaskedField.png[]

| <<gui_TextArea,TextArea>>| image:gui_TextArea.png[]

| <<gui_RichTextArea,RichTextArea>>| image:gui_RichTextArea.png[]

| <<gui_SourceCodeEditor, SourceCodeEditor>>| image:gui_SourceCodeEditor_1.png[]

| |

| *Date inputs*| 

| <<gui_DateField,DateField>>| image:gui_dateField.png[]

| <<gui_DatePicker,DatePicker>>| image:gui_datepicker_mini.png[]

| <<gui_TimeField,TimeField>>| image:gui_timeField.png[]

| |

| *Selects*| 

| <<gui_CheckBox,CheckBox>>| image:CheckBox.png[]

| <<gui_OptionsGroup,OptionsGroup>>| image:gui_optionsGroup.png[]

| <<gui_OptionsList,OptionsList>>| image:gui_optionsList.png[]

| <<gui_PickerField,PickerField>>| image:PickerField.png[]

| <<gui_LookupField,LookupField>>| image:LookupField.png[]

| <<gui_LookupPickerField,LookupPickerField>>| image:LookupPickerField.png[]

| <<gui_SearchPickerField,SearchPickerField>>| image:gui_searchPickerField.png[]

| <<gui_SuggestionPickerField,SuggestionPickerField>>| image:gui_suggestionPickerField_1.png[]

| <<gui_TwinColumn,TwinColumn>>| image:TwinColumn.png[]

| |

| *Uploads*| 

| <<gui_FileUploadField,FileUploadField>>| image:Upload.png[]

| <<gui_FileMultiUploadField,FileMultiUploadField>>

|

| *Tables and trees*| 

| <<gui_DataGrid,DataGrid>>| image:gui_dataGrid.png[]

| <<gui_Table,Table>>| image:gui_table.png[]

| <<gui_GroupTable,GroupTable>>| image:gui_groupTable.png[]

| <<gui_TreeTable,TreeTable>>| image:gui_treeTable.png[]

| <<gui_Tree,Tree>>| image:gui_Tree.png[]

| |

| *Others*| 

| <<gui_BrowserFrame,BrowserFrame>>| image:gui_browserFrame.png[]

| <<gui_BulkEditor,BulkEditor>>| image:gui_invoiceBulkEdit.png[]

| <<gui_Calendar,Calendar>>| image:gui_calendar_1.png[]

| <<gui_CapsLockIndicator,CapsLockIndicator>>| image:gui_capsLockIndicator.png[]

| <<gui_ColorPicker,ColorPicker>>| image:gui_color_picker.png[]

| <<gui_FieldGroup,FieldGroup>>| image:gui_fieldGroup.png[]

| <<gui_Filter,Filter>>| image:gui_filter_mini.png[]

| <<gui_Image,Image>>| image:gui_Image_1.png[]

| <<gui_PopupView,PopupView>>| image:gui_popup_view_mini_open.png[]

| <<gui_TokenList,TokenList>>| image:gui_tokenList.png[]

|===

[[gui_AppMenu]]
====== AppMenu

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/mainwindow/AppMenu.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`AppMenu` component provides means of customizing the main menu in the <<main_window_layout,main window layout>> and managing menu items dynamically.

image::gui_AppMenu.png[align="center"]

CUBA Studio provides the screen template for main window based on the standard `mainWindow` screen provided by the platform. This template extends the `AppMainWindow` class and provides direct access to the `AppMenu` instance:

[source, java]
----
include::{sourcesdir}/gui_vcl/appmenu.java[]
----

Methods of the `AppMenu` interface:

[[gui_AppMenu_addMenuItem]]
* `addMenuItem()` - adds menu item to the end of root items list or to specified position in the root items list.

[[gui_AppMenu_createMenuItem]]
* `createMenuItem()` - the factory method that creates new menu item. Does not add item to the menu. `id` must be unique for whole menu.

[[gui_AppMenu_createSeparator]]
* `createSeparator()` - creates menu separator.

* `getMenuItem()/getMenuItemNN()` - returns the item from the menu tree by its `id`.

* `getMenuItems()` - returns the list of root menu items.

* `hasMenuItems()` - returns `true` if the menu has items.

Methods of the `MenuItem` interface:

* `addChildItem() / removeChildItem()` - adds/removes the menu item to the end or to the specified position of children list.

* `getCaption()` - returns the String caption of the menu item.

* `getChildren()` - returns the list of child items.

[[gui_AppMenu_setCommand]]
* `setCommand()` - sets item command, or the action to be performed on this menu item click.

* `setDescription()` - sets the String description of the menu item, displayed as a popup tip.

* `setIconFromSet()` - sets the item's icon.

* `getId()` - returns the menu item id.

* `getMenu()` - returns the menu item owner.

* `setStylename()` - sets one or more user-defined style names of the component, replacing any previous user-defined styles. Multiple styles can be specified as a space-separated list of style names. The style names must be valid CSS class names.

* `hasChildren()` - returns `true` if the menu item has child items.

* `isSeparator()` - returns `true` if the item is a separator.

* `setVisible()` - manages visibility of the menu item.

'''

API::
<<gui_AppMenu_addMenuItem,addMenuItem>> -
<<gui_AppMenu_createMenuItem,createMenuItem>> -
<<gui_AppMenu_createSeparator,createSeparator>> -
<<gui_AppMenu_setCommand,setCommand>>

'''

[[gui_BrowserFrame]]
====== BrowserFrame

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/BrowserFrame.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

A `BrowserFrame` is designed to display embedded web pages. It is the equivalent of the HTML `iframe` element.

image::gui_browserFrame.png[align="center"]

Component's XML-name: `browserFrame`

The component is implemented for *Web Client*.

An example of component definition in an XML-descriptor of a screen:

[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame.xml[]
----

Similarly to the <<gui_Image,Image>> component, the `BrowserFrame` component can also display images from different resources. You can set the resource type declaratively using the `browserFrame` elements listed below:

[[gui_BrowserFrame_classpath]]
* `classpath` - a resource in the classpath.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_1.xml[]
----

[[gui_BrowserFrame_file]]
* `file` - a resource in the file system.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_2.xml[]
----

[[gui_BrowserFrame_relativePath]]
* `relativePath` - resource in the application directory.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_3.xml[]
----

[[gui_BrowserFrame_theme]]
* `theme` - a <<web_theme,theme>> resource, for example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_4.xml[]
----

[[gui_BrowserFrame_url]]
* `url` - a resource which can be loaded from the given URL.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_5.xml[]
----

`browserFrame` attributes:

[[gui_BrowserFrame_alternateText]]
* `alternateText` - sets an alternate text for the frame in case the resource is not set or unavailable.

`browserFrame` resources settings:

[[gui_BrowserFrame_bufferSize]]
* `bufferSize` - the size of the download buffer in bytes used for this resource.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_6.xml[]
----

[[gui_BrowserFrame_cacheTime]]
* `cacheTime` - the length of cache expiration time in milliseconds.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_7.xml[]
----

[[gui_BrowserFrame_mimeType]]
* `mimeType` - the MIME type of the resource.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_8.xml[]
----

Methods of the `BrowserFrame` interface:

[[gui_BrowserFrame_SourceChangeListener]]
* `addSourceChangeListener()` - adds a listener that will be notified when the content source is changed.
+
[source,java]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_11.java[]
----

[[gui_BrowserFrame_setSource]]
* `setSource()` - sets the content source for the frame. The method accepts the resource type and returns the resource object that can be configured using the fluent interface. Each resource type has its own methods, for example, `setPath()` for `ThemeResource` type or `setStreamSupplier()` for `StreamResource` type:
+
[source,java]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_9.java[]
----
+
You can use the same <<gui_Image_setSource,resource types>> as for the `Image` component.

[[gui_BrowserFrame_createResource]]
* `createResource()` - creates the frame resource implementation by its type. The created object can be later passed to the `setSource()` method.
+
[source,java]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_10.java[]
----

[[gui_BrowserFrame_html]]
HTML markup in BrowserFrame: ::
+
--
`BrowserFrame` can be used to integrate HTML markup into your application. For example, you can dynamically generate HTML content at runtime from the user input.

[source,xml]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_12.xml[]
----

[source,java]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_13.java[]
----

image::gui_browserFrame_2.png[align="center"]
--

[[gui_BrowserFrame_pdf]]
PDF in BrowserFrame: ::
+
--
Besides HTML, `BrowserFrame` can be also used for displaying PDF files content. Use the file as a resource and set the corresponding MIME type for it:

[source,java]
----
include::{sourcesdir}/gui_vcl/gui_browserFrame_14.java[]
----

image::gui_browserFrame_3.png[align="center"]
--

'''

Attributes of browserFrame::
<<gui_attr_align,align>> -
<<gui_BrowserFrame_alternateText,alternateText>> -
<<gui_attr_caption,caption>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_responsive,responsive>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Attributes of browserFrame resources::
<<gui_BrowserFrame_bufferSize,bufferSize>> -
<<gui_BrowserFrame_cacheTime,cacheTime>> -
<<gui_BrowserFrame_mimeType,mimeType>>

Elements of browserFrame::
<<gui_BrowserFrame_classpath,classpath>> -
<<gui_BrowserFrame_file,file>> -
<<gui_BrowserFrame_relativePath,relativePath>> -
<<gui_BrowserFrame_theme,theme>> -
<<gui_BrowserFrame_url,url>>

API::
<<gui_BrowserFrame_SourceChangeListener,addSourceChangeListener>> -
<<gui_BrowserFrame_createResource,createResource>> -
<<gui_BrowserFrame_setSource,setSource>>

'''

[[gui_Button]]
====== Button

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-button" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Button.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

A button performs an action when a user clicks on it.

image::Button.png[align="center"]

Component's XML-name: `button`

Button component is implemented for both *Web* and *Desktop* clients.

Buttons can contain a caption, an icon, or both. The figure below shows different button types.

image::gui_buttonTypes.png[align="center"]

An example of a button with a tooltip and a caption retrieved from a <<message_packs,localized message pack>>: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/button_1.xml[]
---- 

The button's caption is set using the <<gui_attr_caption,caption>> attribute, the tooltip – using the <<gui_attr_description,description>> attribute.

[[gui_Button_disableOnClick]]
If the `disableOnClick` attribute is set to `true` the button will be automatically disabled when clicked, typically to prevent (accidental) extra clicks on a button. You can later return the button to the enabled state by invoking the `setEnabled(true)` method.

The <<gui_attr_icon,icon>> attribute defines icon location in theme catalog or the icon name in the <<icon_set,icon set>>. Detailed information on recommended icon placement is available in <<gui_icons>>.

Example of creating a button with an icon: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/button_2.xml[]
----

[[gui_Button_invoke]]
The button's main function is to perform an action on a click. Controller method that should be invoked after a click can be defined using `invoke` attribute. The attribute value should contain name of the controller method satisfying the following conditions:

* The method should be `public`.

* The method should return `void`.

* The method should not have any arguments, or should have a single argument of `Component` type. If the method has a `Component` argument, then an instance of the invoking button will be passed in it.

Below is the example of a button invoking `someMethod:` 

[source, xml]
----
include::{sourcesdir}/gui_vcl/button_3.xml[]
---- 

A method named `someMethod` should be defined in the screen controller: 

[source, java]
----
include::{sourcesdir}/gui_vcl/button_4.java[]
---- 

[[gui_Button_action]]
The `invoke` attribute is ignored if `action` attribute is set. The action attribute contains the name of <<gui_Action,action>> corresponding to the button.

Example of a button with an `action`: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/button_5.xml[]
---- 

Any action present in the component implementing `Component.ActionsHolder` interface can be assigned to a button. This applies to <<gui_Table,Table>>, <<gui_GroupTable,GroupTable>>, <<gui_TreeTable,TreeTable>>, <<gui_Tree,Tree>>. The way of adding actions (declaratively in the XML descriptor or programmatically in the controller) is irrelevant. In any case, for using an action, the name of the component and the identifier of the required action must be specified in the `action` attribute, separated by dot. For instance, in the next example the `create` action of the `coloursTable` table is assigned to a button:

[source, xml]
----
include::{sourcesdir}/gui_vcl/button_6.xml[]
---- 

Button actions can also be created programmatically in the screen controller by deriving them from <<baseAction,BaseAction>> class.

[TIP]
====
If an `Action` instance is defined for a `Button`, the button will take the following properties from it: <<gui_attr_caption,caption>>, <<gui_attr_description,description>>, <<gui_attr_icon,icon>>, <<gui_attr_enable,enable>>, <<gui_attr_visible,visible>>. The `caption`, `description` and `icon` properties will be imported from `Action` only if they are not set in the `Button` itself. All other listed `Action` properties have priority over the `Button` properties.

If `Action` properties are changed after the `Action` has been set for a `Button`, then `Button` properties also change accordingly, i.e. the button listens to the changes in `Action` properties. In this case, the `caption`, `description` and `icon` properties will change even if they had been initially assigned to the button itself.
====

[[gui_Button_stylenames]]
Button styles::
+
--
In Web Client with a Halo-based theme, you can set predefined styles to the Button component using the `stylename` attribute either in the XML descriptor or in the screen controller:

[source, xml]
----
include::{sourcesdir}/gui_vcl/button_7.xml[]
----

When setting a style programmatically, select one of the `HaloTheme` class constants with the `BUTTON_` prefix:

[source, java]
----
include::{sourcesdir}/gui_vcl/button.java[]
----

[[gui_button_borderless]]
* `borderless` - borderless button.

[[gui_button_borderless-colored]]
* `borderless-colored` - borderless button with a colored caption text.

[[gui_button_danger]]
* `danger` - a prominent button that can be used when the action is considered unsafe for the user (i.e. it causes data loss or some other irreversible action).

[[gui_button_friendly]]
* `friendly` - a prominent button that can be used for primary actions when the action is considered safe for the user (i.e. does not cause any data loss or any other irreversible action).

[[gui_button_icon-align-right]]
* `icon-align-right` - align the icon to the right side of the button caption.

[[gui_button_icon-align-top]]
* `icon-align-top` - stack the icon on top of the button caption.

[[gui_button_icon-only]]
* `icon-only` - only show the icon in the button, and size the button to a square shape.

[[gui_button_primary]]
* `primary` - primary action button (e.g. the button that should get activated when the user presses the Enter key in a form). Use sparingly, only one default button per view should be visible.

[[gui_button_quiet]]
* `quiet` - "quiet" button, which looks like `borderless` until you hover over it with the mouse.
--

'''

Attributes of button::
<<gui_Button_action,action>> -
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_Button_disableOnClick,disableOnClick>> -
<<gui_attr_enable,enable>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_Button_invoke,invoke>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Predefined styles of button::
<<gui_button_borderless,borderless>> -
<<gui_button_borderless-colored,borderless-colored>> -
<<gui_button_danger,danger>> -
<<gui_button_friendly,friendly>> -
<<gui_attr_stylename_huge,huge>> -
<<gui_button_icon-align-right,icon-align-right>> -
<<gui_button_icon-align-top,icon-align-top>> -
<<gui_button_icon-only,icon-only>> -
<<gui_attr_stylename_large,large>> -
<<gui_button_primary,primary>> -
<<gui_button_quiet,quiet>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

'''

[[gui_BulkEditor]]
====== BulkEditor

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=bulk-editor" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/BulkEditor.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`BulkEditor` is a component that enables changing attribute values for several entity instances at once. The component is a button, usually added to a <<gui_Table,table>> or a <<gui_Tree,tree>>, which opens the entity bulk editor on click.

image::gui_bulkEdit.png[align="center"]

XML-name of the component: `bulkEditor`

The component is implemented for *Web Client* and *Desktop Client*.

To enable the use of `BulkEditor`, the table or tree must have the `multiselect` attribute set to `"true"`.

The entity editor is automatically generated based on the defined view (containing the fields of this entity, including references), the entity's dynamic attributes (if any) and the user permissions. System attributes are not displayed in the editor either.

Entity attributes in the editor are sorted alphabetically. By default, the fields are empty. At screen commit, non-empty attribute values defined in the editor, are set for all the entity instances. 

The editor also enables removing a specific field value for all the instances by setting it to `null`. In order to do this, click image:gui_bulkEditorSetNullButton.png[] button next to the field. After that, the field will become non-editable. The field can be unlocked by clicking the same button again.

image::gui_invoiceBulkEdit.png[align="center"]

Example of `bulkEditor` use in a table:

[source, xml]
----
include::{sourcesdir}/gui_vcl/bulkEditor_1.xml[]
----

`bulkEditor` attributes::
+
--
[[gui_BulkEditor_for]]
* The `for` attribute is required. It contains the identifier of a <<gui_DataGrid,dataGrid>>, a <<gui_Table,table>>, or a <<gui_Tree,tree>>; in this case, it is the `invoiceTable`.

[[gui_BulkEditor_exclude]]
* The `exclude` attribute can contain a regular expression to exclude some fields explicitly from the list of attributes available for editing. For example: `date|customer`
+
image::gui_TableBulkEdit.png[align="center"]

[[gui_BulkEditor_includeProperties]]
* `includeProperties` - defines the entity attributes to be included to bulk editor window. If set, other attributes will be ignored.
+
`includeProperties` does not apply for dynamic attributes.
+
When set declaratively, the list of properties should be comma-separated:
+
[source,xml]
----
<bulkEditor for="ordersTable" includeProperties="name, description"/>
----
+
The list of properties can also be set programmatically in the screen controller:
+
[source,java]
----
bulkEditor.setIncludeProperties(Arrays.asList("name", "description"));
----

[[gui_BulkEditor_loadDynamicAttributes]]
* `loadDynamicAttributes` defines whether or not the <<dynamic_attributes,dynamic attributes>> of the edited entity should be displayed on the entity's bulk editor screen. The default value is `true`.

[[gui_BulkEditor_useConfirmDialog]]
* `useConfirmDialog` defines whether or not the confirmation <<dialogs,dialog>> should be displayed to the user before saving the changes. The default value is `true`.
+
image::gui_BulkEditor_useConfirmDialog.png[align="center"]
--

'''

Attributes of bulkEditor::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_BulkEditor_exclude,exclude>> -
<<gui_BulkEditor_for,for>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_BulkEditor_includeProperties,includeProperties>> -
<<gui_BulkEditor_loadDynamicAttributes,loadDynamicAttributes>> -
<<gui_attr_openType,openType>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_BulkEditor_useConfirmDialog,useConfirmDialog>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

'''

[[gui_Calendar]]
====== Calendar

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=month-calendar" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Calendar.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `Calendar` component is intended to organize and display calendar events.

image::gui_calendar_1.png[align="center"]

XML-name of the component: `calendar`.

The component is implemented for *Web Client*.

An example of component definition in an XML-descriptor of a screen:

[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_calendar_1.xml[]
----

The view mode is determined from the date range of the calendar, defined by the start date and the end date. The default view is the weekly view, it is used for ranges up to seven days a week. For a single-day view use the range within one date. Calendar will be shown in a monthly view when the date range is over than one week (seven days) long.

Navigation buttons to page the calendar one week forward or backward are hidden by default. To show them on a weekly view, use the attribute `navigationButtonsVisible`:

[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_calendar_9.xml[]
----

image::gui_calendar_2.png[align="center"]

Attributes of `calendar`:

[[gui_Calendar_endDate]]
* `endDate` -  the end date for the calendar's range.

[[gui_Calendar_endDateProperty]]
* `endDateProperty` - the name of an entity attribute that contains the end date.

[[gui_Calendar_descriptionProperty]]
* `descriptionProperty` - the name of an entity attribute that contains the event description.

[[gui_Calendar_isAllDayProperty]]
* `isAllDayProperty` - the name of an entity attribute that determines if the event is all day long.

[[gui_Calendar_startDate]]
* `startDate` - the start date for the calendar's range.

[[gui_Calendar_startDateProperty]]
* `startDateProperty` - the name of an entity attribute that contains the start date.

[[gui_Calendar_stylenameProperty]]
* `stylenameProperty` - the name of an entity attribute that contains the event style name.

[[gui_Calendar_timeFormat]]
* `timeFormat` - time format: 12H or 24H.

Working with Calendar events: ::
+
--
[[gui_Calendar_addEvent]]
To display events in the calendar cells, you can add the events directly to the `Calendar` object using the `addEvent()` method or use the `CalendarEventProvider` interface.
An example of direct event adding:

[source, java]
----
include::{sourcesdir}/gui_vcl/gui_calendar_1.java[]
----

[[gui_Calendar_removeEvent]]
The `removeEvent()` method of `CalendarEventProvider` is used to remove a particular event by its index:

[source, java]
----
include::{sourcesdir}/gui_vcl/gui_calendar_11.java[]
----

[[gui_Calendar_removeAllEvents]]
The `removeAllEvents` method, in turn, removes all available events:

[source, java]
----
include::{sourcesdir}/gui_vcl/gui_calendar_12.java[]
----

[[gui_Calendar_setEventProvider]]
There are two data providers available: `ListCalendarEventProvider` (created by default) and `EntityCalendarEventProvider`.

`ListCalendarEventProvider` is filled by `addEvent()` method that gets a `CalendarEvent` object as a parameter:

[source, java]
----
include::{sourcesdir}/gui_vcl/gui_calendar_2.java[]
----

`EntityCalendarEventProvider` is filled with data directly from an entity fields. To be used for the `EntityCalendarEventProvider`, an entity should *at least* have attributes for the event start date (DateTime type), event end date (DateTime type) and event caption (String type).

In the example below we will assume that the datasource entity has all required attributes: `eventCaption`, `eventDescription`, `eventStartDate`, `eventEndDate`, `eventStylename`, and will set their names as values for `calendar` attributes:
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_calendar_2.xml[]
----
--

The `Calendar` component supports several event listeners for user interaction with its elements, such as date and week captions, date/time range selections, event dragging and event resizing. Navigation buttons used to scroll forward and backward in time are also listened by the server. Below is the list of default listeners:

[[gui_Calendar_CalendarDateClickListener]]
* `addDateClickListener(CalendarDateClickListener listener);` - adds listener for date clicks:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/gui_calendar_3.java[]
----

[[gui_Calendar_CalendarWeekClickListener]]
* `addWeekClickListener()` - adds listener for week number clicks.

[[gui_Calendar_CalendarEventClickListener]]
* `addEventClickListener()` - adds listener for calendar event clicks.

[[gui_Calendar_CalendarEventResizeListener]]
* `addEventResizeListener()` - adds listener for event size changing.

[[gui_Calendar_CalendarEventMoveListener]]
* `addEventMoveListener()` - adds listener for event drag and drop.

[[gui_Calendar_CalendarForwardClickListener]]
* `addForwardClickListener()` - adds listener for calendar forward scrolling.

[[gui_Calendar_CalendarBackwardClickListener]]
* `addBackwardClickListener()` - adds listener for calendar backward scrolling.

[[gui_Calendar_CalendarRangeSelectListener]]
* `addRangeSelectListener()` - adds listener for calendar range selection.

Calendar events can be styled with CSS. To configure a style, create the style name and set the parameters in the `.scss`-file. For example, let's configure the background color of an event:
[source, scss]
----
include::{sourcesdir}/gui_vcl/gui_calendar_1.scss[]
----
Then use the `setStyleName` method of the event:
[source, java]
----
include::{sourcesdir}/gui_vcl/gui_calendar_8.java[]
----
As a result, the event's background is green:

image::gui_calendar_3.png[align="center"]

[[gui_Calendar_setDayNames]]
In order to change the names of days and months in the `Calendar` component, use the `setDayNames()` and `setMonthNames()` methods, passing a map with the new values to them:

[source, java]
----
include::{sourcesdir}/gui_vcl/gui_calendar_10.java[]
----

'''

Attributes of calendar::
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_Calendar_descriptionProperty,descriptionProperty>> -
<<gui_Calendar_endDateProperty,endDateProperty>> -
<<gui_Calendar_endDate,endDate>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_Calendar_isAllDayProperty,isAllDayProperty>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_Calendar_startDate,startDate>> -
<<gui_Calendar_startDateProperty,startDateProperty>> -
<<gui_attr_stylename,stylename>> -
<<gui_Calendar_stylenameProperty,stylenameProperty>> -
<<gui_Calendar_timeFormat,timeFormat>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_Calendar_addEvent,addEvent>> -
<<gui_Calendar_removeAllEvents,removeAllEvents>> -
<<gui_Calendar_removeEvent,removeEvent>> -
<<gui_Calendar_setEventProvider,setEventProvider>> -
<<gui_Calendar_setDayNames,setDayNames>>

Listeners of calendar::
<<gui_Calendar_CalendarBackwardClickListener,CalendarBackwardClickListener>> -
<<gui_Calendar_CalendarDateClickListener,CalendarDateClickListener>> -
<<gui_Calendar_CalendarEventClickListener,CalendarEventClickListener>> -
<<gui_Calendar_CalendarEventMoveListener,CalendarEventMoveListener>> -
<<gui_Calendar_CalendarEventResizeListener,CalendarEventResizeListener>> -
<<gui_Calendar_CalendarForwardClickListener,CalendarForwardClickListener>> -
<<gui_Calendar_CalendarRangeSelectListener,CalendarRangeSelectListener>> -
<<gui_Calendar_CalendarWeekClickListener,CalendarWeekClickListener>>

'''

[[gui_CapsLockIndicator]]
====== CapsLockIndicator

This is a field that indicates if the Caps Lock is on when the user is typing a password in the <<gui_PasswordField,PasswordField>>.

XML name of the component: `capsLockIndicator`.

`CapsLockIndicator` is implemented for *Web Client* and *Desktop Client*.

image::gui_capsLockIndicator.png[align="center"]

The `capsLockOnMessage` and `capsLockOffMessage` attributes allow you to define the messages that will be shown by the component depending on the current Caps Lock state.

Examples:

[source, xml]
----
include::{sourcesdir}/gui_vcl/capsLockIndicator.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/capsLockIndicator.java[]
----

The `CapsLockIndicator` component is designed to be used together with the <<gui_PasswordField,PasswordField>> and handles the Caps Lock state only when this field is focused. When the field loses its focus, the state is changed to inactive.

Changing visibility of the `CapsLockIndicator` component dynamically using the <<gui_attr_visible,visible>> attribute when the screen is already opened may not work as expected.

'''

Attributes of capsLockIndicator::

<<gui_attr_align,align>> -
<<gui_CapsLockIndicator,capsLockOffMessage>> -
<<gui_CapsLockIndicator,capsLockOnMessage>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

'''

[[gui_CheckBox]]
====== CheckBox

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-checkbox" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/CheckBox.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`CheckBox` is a component with two states: selected or deselected.

image::CheckBox.png[align="center"]

Component's XML-name: `checkBox`.

`CheckBox` component is implemented for *Web Client* and *Desktop Client*.

An example of a checkbox with a label retrieved from a <<message_packs,localized messages pack>>: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/checkbox_1.xml[]
---- 

Selecting / deselecting of the checkbox changes its value: `Boolean.TRUE` or `Boolean.FALSE`. The value can be retrieved using `getValue()` method and set using `setValue()`. Submitting `null` using `setValue()` will change the value to `Boolean.FALSE` and uncheck the checkbox.

[[gui_checkBox_ValueChangeListener]]
Changes of the checkbox value, as well as of any other components implementing the `Field` interface, can be tracked using a `ValueChangeListener`. For example:

[source, java]
----
include::{sourcesdir}/gui_vcl/checkbox_2.java[]
---- 

The <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes should be used to create a checkbox associated with data.

[source, xml]
----
include::{sourcesdir}/gui_vcl/checkbox_3.xml[]
---- 

According to the example the screen includes the description of `customerDs` <<datasources,data source>> for a `Customer` entity with `active` attribute. The `datasource` attribute of the `checkBox` component should contain a reference to a data source; the `property` attribute should contain the name of an entity attribute which value should be displayed in the checkbox. The attribute should have `Boolean` type. If the attribute value is `null` the checkbox is deselected.

'''

Attributes of checkBox::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>>
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_ColorPicker]]
====== ColorPicker

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-colorpicker" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/ColorPicker.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`ColorPicker` is a field that allows a user to preview and select a color. Component returns a hexadecimal (HEX) value of the color as a string.

image::gui_color_picker.png[align="center"]

An example of a color picker with a caption retrieved from the localized messages pack:
[source, xml]
----
include::{sourcesdir}/gui_vcl/colorpicker_1.xml[]
----

The figure below shows an example of the color picker with the popup closed.

image::gui_color_picker_mini.png[align="center"]

To create a color picker connected to data, use <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes.

[source, xml]
----
include::{sourcesdir}/gui_vcl/colorpicker_2.xml[]
----
Attributes of `сolorPicker`:

[[gui_ColorPicker_buttonCaption]]
* `buttonCaption` - caption of the component button.

[[gui_ColorPicker_defaultCaptionEnabled]]
* `defaultCaptionEnabled` - if set to `true` and `buttonCaption` is not set, displays HEX value as a button caption.

[[gui_ColorPicker_historyVisible]]
* `historyVisible` - determines the visibility of history of recently picked colors in the popup window.

[[gui_ColorPicker_tabVisibility]]
You can determine visibility of the popup tabs using the following attributes:

* `rgbVisible` - determines the visibility of the RGB tab.
* `hsvVisible` - determines the visibility of the HSV tab.
* `swatchesVisible` - determines the visibility of the swatches tab.

By default, only the RGB tab is visible.

[[gui_ColorPicker_captions]]
Also, if you want to redefine the labels in popup, you can use caption attributes:

* `popupCaption` - caption of the popup window.
* `confirmButtonCaption` - caption of the confirm button.
* `cancelButtonCaption` - caption of the cancel button.
* `swatchesTabCaption` - swatches tab caption.
* `lookupAllCaption` - caption of lookup item for all colors.
* `lookupRedCaption` - caption of lookup item for red color.
* `lookupGreenCaption` - caption of lookup item for green color.
* `lookupBlueCaption` - caption of lookup item for blue color.

`getValue()` method of the component returns a string, containing a HEX code of the selected color.

'''

Attributes of colorPicker::
<<gui_attr_align,align>> -
<<gui_ColorPicker_buttonCaption,buttonCaption>> -
<<gui_ColorPicker_captions,cancelButtonCaption>> -
<<gui_attr_caption,caption>> -
<<gui_ColorPicker_captions,confirmButtonCaption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_ColorPicker_defaultCaptionEnabled,defaultCaptionEnabled>> -
<<gui_attr_editable,editable>> -
<<gui_attr_height,height>> -
<<gui_ColorPicker_historyVisible,historyVisible>> -
<<gui_ColorPicker_tabVisibility,hsvVisible>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_ColorPicker_captions,lookupAllCaption>> -
<<gui_ColorPicker_captions,lookupBlueCaption>> -
<<gui_ColorPicker_captions,lookupGreenCaption>> -
<<gui_ColorPicker_captions,lookupRedCaption>> -
<<gui_ColorPicker_captions,popupCaption>> -
<<gui_ColorPicker_tabVisibility,rgbVisible>> -
<<gui_attr_required,required>> -
<<gui_attr_stylename,stylename>> -
<<gui_ColorPicker_captions,swatchesTabCaption>> -
<<gui_ColorPicker_tabVisibility,swatchesVisible>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_CurrencyField]]
====== CurrencyField

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/CurrencyField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`CurrencyField` is a subtype of a text field designed for currency value input. It has a currency symbol inside the field and is aligned to the right by default.

image::gui_currencyField.png[align="center"]

XML-name of the component: `currencyField`.

`CurrencyField` is implemented for *Web Client* only.

Basically, `CurrencyField` repeats the functionality of <<gui_TextField,TextField>>. You can manually set a <<datatype,datatype>> for the field, except that only numeric datatypes inheriting `NumericDatatype` class are supported. If the datatype is unparseable, an exception will be thrown.

`CurrencyField` can be bound to a <<datasources,datasource>> using the `datasource` and the `property` attributes:

[source,xml]
----
<currencyField currency="$"
               datasource="orderDs"
               property="amount"/>
----

`currencyField` attributes:

[[gui_CurrencyField_currency]]
* `currency` - a text that will be a content of the currency label.
+
[source,xml]
----
<currencyField currency="USD"/>
----

[[gui_CurrencyField_currencyLabelPosition]]
* `currencyLabelPosition` - sets the position of currency label inside the field:
+
--
** `LEFT` - to the left from the text input component,
** `RIGHT` - to the right from the text input component (default value).
--

[[gui_CurrencyField_showCurrencyLabel]]
* `showCurrencyLabel` - defines whether the currency label should be displayed.

'''

Attributes of currencyField::

<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_CurrencyField_currency,currency>> -
<<gui_CurrencyField_currencyLabelPosition,currencyLabelPosition>> -
<<gui_attr_datasource,datasource>> -
<<gui_TextField_datatype,datatype>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_CurrencyField_showCurrencyLabel,showCurrencyLabel>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Predefined styles of currencyField::
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_validator,addValidator>> -
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_CurrencyField_currency,setCurrency>> -
<<gui_CurrencyField_currencyLabelPosition,setCurrencyLabelPosition>> -
<<gui_CurrencyField_showCurrencyLabel,setShowCurrencyLabel>>

'''

[[gui_DataGrid]]
====== DataGrid

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=datagrid-basic-settings" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/DataGrid.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`DataGrid`, similarly to the <<gui_Table,Table>> component, is designed to display and sort tabular data, and provides means to manipulate rows and columns with greater performance due to lazy loading of data while scrolling.

image::gui_dataGrid_1.png[align="center"]

XML name of the component: `dataGrid`.

The component is implemented for *Web Client*.

An example of component definition in an XML-descriptor of a screen:

[source, xml]
----
include::{sourcesdir}/gui_vcl/datagrid.xml[]
----

In the example above the `id` attribute is a column identifier, and the `property` is the name of the entity attribute from the data source that populates the column with data.

*dataGrid elements:*

[[gui_DataGrid_columns]]
* `columns` - mandatory element that defines the `DataGrid` columns set. Each column is described in the nested `column` element with the following attributes:
+
--
* `id` - an optional attribute with the column identifier. If not set, the string with the `property` value will be used as the column identifier. In this case setting the `property` value is mandatory, otherwise the `GuiDevelopmentException` exception will be thrown. The `id` attribute is still mandatory for the columns created in the screen controller.

[[gui_DataGrid_property]]
* `property` - contains the entity attribute's name. Can be either an attribute of the entity from the data source or a linked entity – object graph traversal is indicated with a dot. For example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datagrid_dot.xml[]
----

* `caption` - an optional attribute containing the column caption. If not specified, a <<entity_localization,localized attribute name>> will be displayed.

[[gui_DataGrid_expandRatio]]
* `expandRatio` - sets the column width ratio. By default, all columns have equal width (i.e. `expandRatio = 1`). If another value is set for at least one column, all implicit values are ignored, and only set values are considered.

[[gui_DataGrid_collapsible]]
* `collapsible` - defines whether a user can hide or show columns using the sidebar menu in the top right of `DataGrid`. The default value is `true`

[[gui_DataGrid_collapsed]]
* `collapsed` -  an optional attribute; hides the column by default when set to `true`. The default value is `false`.

[[gui_DataGrid_collapsingToggleCaption]]
* `collapsingToggleCaption` - sets the column's caption in the sidebar menu. By default its value is `null`, in this case the caption remains the same as the column's caption.
+
image::gui_dataGrid_2.png[align="center"]

[[gui_DataGrid_resizable]]
* `resizable` - defines whether a user can change the column's size.

[[gui_DataGrid_sortable,sortable]]
* `sortable` - an optional attribute to disable sorting of the column. Takes effect if the whole `DataGrid` has `sortable` attribute set to `true` (which is by default).

* `width` - an optional attribute controlling default column width. May contain only numeric values in pixels.

[[gui_DataGrid_minimumWidth]]
* `minimumWidth` - sets the minimal column width in pixels.

[[gui_DataGrid_maximumWidth]]
* `maximumWidth` - sets the maximal column width in pixels.

The `column` element may contain a nested <<gui_formatter,formatter>> element that allows you to represent the attribute value in a format different from the standard for this <<datatype,DataType>>:

[source, xml]
----
include::{sourcesdir}/gui_vcl/datagrid_formatter.xml[]
----
--

[[gui_DataGrid_actions]]
* `actions` - optional element to define <<gui_Action,actions>> for `DataGrid`. Besides custom actions, the <<standard_actions,standard actions>> from the `ListActionType` enumeration are also supported: create, edit, remove, refresh, add, exclude.

[[gui_DataGrid_buttonsPanel]]
* `buttonsPanel` - creates a `ButtonsPanel` container with action buttons above the `DataGrid` component.

[[gui_DataGrid_rowsCount]]
* `rowsCount` - optional element that creates a `RowsCount` component for the `DataGrid`. `RowsCount` enables pagination of data, the page size is set by limitation of records in the data source with the help of `CollectionDatasource.setMaxResults()` method from the screen controller. Another way to do this is to use a universal `Filter` component bound with the same data source as the `DataGrid`.

The `RowsCount` component can also display the total number of records returned by current data request without loading these records. When a user clicks the "*?*" button, it calls the `AbstractCollectionDatasource.getCount()` method that passes to the database a request with the same parameters as current but with `++COUNT(*)++` aggregation function instead of getting results. The returned number is displayed in place of "*?*" symbol.

*dataGrid attributes:*

[[gui_DataGrid_columnResizeMode]]
* `columnResizeMode` - sets the mode of columns resizing by user. Two modes are supported:
+
--
* `AMINATED` - the columns size follows the mouse when dragging (default mode).

* `SIMPLE` - the columns size is changed after the dragging is finished.
--
+
[[gui_DataGrid_ColumnResizeListener]]
The column size changes can be tracked with `ColumnResizeListener`.

[[gui_DataGrid_columnsCollapsingAllowed]]
* `columnsCollapsingAllowed` - defines whether a user can hide columns in the sidebar menu. Displayed columns are checked in the menu. When a column name is checked/unchecked, the value of `collapsed` attribute of each column is updated. When set to `false`, the `collapsed` attribute of any column cannot be set to `true`.
+
[[gui_DataGrid_ColumnCollapsingChangeListener]]
The column collapsing changes can be tracked with `ColumnCollapsingChangeListener`.

[[gui_DataGrid_contextMenuEnabled]]
* `contextMenuEnabled` - enables turning on and off the context menu. Default value is `true`.
+
[[gui_DataGrid_ContextClickListener]]
The right mouse clicks on the `DataGrid` can be tracked with `ContextClickListener`.

[[gui_DataGrid_editorBuffered]]
* `editorBuffered` - sets the buffered editor mode. The default mode is buffered (`true`).

[[gui_DataGrid_editorCancelCaption]]
* `editorCancelCaption` - sets the caption on the cancel button in the `DataGrid` editor.

[[gui_DataGrid_editorEnabled]]
* `editorEnabled` - enables the item inline editor UI. Default value is `false`. If `dataGrid` is bound to <<value_datasources,ValueCollectionDatasource>>, it is supposed to be read-only, and `editorEnabled` attribute becomes nonsense.

[[gui_DataGrid_editorSaveCaption]]
* `editorSaveCaption` - sets the caption on the save button in the `DataGrid` inline editor.

[[gui_DataGrid_frozenColumnCount]]
* `frozenColumnCount` - sets the number of fixed `DataGrid` columns. The `0` value means that no columns will be fixed except the predefined column with checkboxes for multiple choice if the multiselect mode is used. The `-1` value makes even multiselect column not fixed.

[[gui_DataGrid_headerVisible]]
* `headerVisible` - defines if the `DataGrid` header is visible. The default value is `true`.

[[gui_DataGrid_reorderingAllowed]]
* `reorderingAllowed` - defines whether a user can change the columns order by dragging them with a mouse. The default value is `true`.
+
[[gui_DataGrid_ColumnReorderListener]]
The column order changes can be tracked with `ColumnReorderListener`.

[[gui_DataGrid_selectionMode]]
* `selectionMode` - sets the rows selection mode. There are 4 predefined selection modes:
+
--
* `SINGLE` - single record selection.
* `MULTI` - multiple selection as in any table.
* `MULTI_CHECK` - multiple selection using the embedded column with checkboxes.
* `NONE` - selection is disabled.
+
[[gui_DataGrid_SelectionListener]]
Rows selection events can be tracked by `SelectionListener`.
+
image::gui_dataGrid_3.png[align="center"]
--

[[gui_DataGrid_sortable]]
* `sortable` - enables or disables the `DataGrid` sorting. The default value is `true`. When the sorting is enabled, the click on the column name will display the sorting icon to the right of che column caption. Sorting of any specific column can be disabled by this column's `sortable` attribute.
+
[[gui_DataGrid_SortListener]]
The `DataGrid` sorting events can be tracked by `SortListener`.

[[gui_DataGrid_textSelectionEnabled]]
* `textSelectionEnabled` - enables or disables text selection in the `DataGrid cells`. The default value is `false`.

*Methods of the DataGrid interface:*

* `getColumns()` - returns the current set of `DataGrid` columns in their current display order.

* `getSelected()`, `getSingleSelected()` - return instances of the entities corresponding to the selected rows of the table. A collection can be obtained by invoking getSelected(). If nothing is selected, the application returns an empty set. If `SelectionMode.SINGLE` is set, it is more convenient to use getSingleSelected() method returning one selected entity or null, if nothing is selected.

* `getVisibleColumns()` - returns the current set of visible `DataGrid` columns in their current display order.

[[gui_DataGrid_scrollTo]]
* `scrollTo()` - method allows you to scroll the `DataGrid` to the specified row. It takes an entity instance identifying the row as a parameter. Besides the entity instance, an overridden method can take a `ScrollDestination` parameter with the following possible values:
+
--
* `ANY` - scroll as little as possible to show the required record.
* `START` - scroll to place the required record in the beginning of the `DataGrid` visible area.
* `MIDDLE` - scroll to place the required record in the centre of the `DataGrid` visible area.
* `END` - scroll to place the required record in the end of the `DataGrid` visible area.
--

* `scrollToStart()` and `scrollToEnd()` - scroll the `DataGrid` to the top and to the end respectively.

[[gui_DataGrid_setCellStyleProvider]]
* `setCellStyleProvider()` - enables setting the `DataGrid` cell display style.

[[gui_DataGrid_setRowStyleProvider]]
* `setRowStyleProvider()` - enables setting the `DataGrid` row display style.

[[gui_DataGrid_setEnterPressAction]]
* `setEnterPressAction()` - method allows you to define an <<gui_Action,action>> executed when *Enter* is pressed. If such action is not defined, the table will attempt to find an appropriate one in the list of its actions in the following order:
+
--
* The action defined by the `setItemClickAction()` method.

* The action assigned to the *Enter* key by the `shortcut` property.

* The `edit` action.

* The `view` action.

If such action is found, and has `enabled = true` property, the action is executed.

--

[[gui_DataGrid_setItemClickAction]]
* `setItemClickAction()` -  method allows you to define an <<gui_Action,action>> that will be performed when a table row is double-clicked. If such action is not defined, the table will attempt to find an appropriate one in the list of its actions in the following order:
+
--
* The action assigned to the Enter key by the `shortcut` property.

* The `edit` action.

* The `view` action.

If such action is found, and has `enabled = true` property, the action is executed.

[[gui_DataGrid_ItemClickListener]]
Item click events can be tracked with `ItemClickListener`.
--

[[gui_DataGrid_sort]]
* `sort()` - sorts the data for the specified column in the sort direction chosen from 2 values of the `SortDirection` enum:
+
--
* `ASCENDING` - ascending (e.g. A-Z, 1..9) sort order.

* `DESCENDING` - descending (e.g. Z-A, 9..1) sort order.
--

*Usage of description providers:*

[[gui_DataGrid_setCellDescriptionProvider]]
* `setCellDescriptionProvider()` methods allows to set the `CellDescriptionProvider` instance for generating optional descriptions (tooltips) for individual DataGrid cells. The description may contain HTML markup.
+
--
[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_rowDescription.java[]
----

image::gui_dataGrid_10.png[align="center"]
--

[[gui_DataGrid_setRowDescriptionProvider]]
* `setRowDescriptionProvider()` sets the `RowDescriptionProvider` instance for generating optional descriptions (tooltips) for DataGrid rows. If a `CellDescriptionProvider` is also set, the row description generated by provider is used for cells for which the cell description provider returns null.
+
--
[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_cellDescription.java[]
----

image::gui_dataGrid_11.png[align="center"]
--

[[gui_DataGrid_setDetailsGenerator]]
*Usage of the DetailsGenerator interface:*

The `DetailsGenerator` interface allows you to create a custom component to display the details of a particular row using the `setDetailsGenerator()` method:

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_detailsGenerator.java[]
----

Result:

image::gui_dataGrid_15.png[align="center"]

[[gui_DataGrid_inline_editor]]
*Usage of DataGrid inline editor:*

The `DataGrid` component has an API for inline editing of records in the cells. When an item is being edited, the inline edit UI with default save and cancel buttons is displayed.

Methods of inline editor API:

* `getEditedItemId()` - returns the `id` of the item that is currently being edited.

* `isEditorActive()` - returns whether an item is currently being edited in the editor.

[[gui_DataGrid_editItem]]
* `editItem()` - opens the editor interface for the provided item. Scrolls the grid to bring the item to view if it is not already visible.

You can add and remove listeners to the editor using the following methods:

[[gui_DataGrid_EditorOpenListener]]
* `addEditorOpenListener()`, `removeEditorCloseListener()` - `DataGrid` editor open listener.
+
--
This listener is triggered by a double click on the `DataGrid` area that instantiates the inline editor and enables to get the fields of the edited row. This enables to update some fields depending on other fields' values without closing the editor.

For example:

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_editor_open.java[]
----
--

[[gui_DataGrid_EditorCloseListener]]
* `addEditorCloseListener()`, `removeEditorCloseListener()` - `DataGrid` editor close listener.

[[gui_DataGrid_EditorPreCommitListener]]
* `addEditorPreCommitListener()`, `removeEditorPreCommitListener()` - `DataGrid` editor pre commit listener.

[[gui_DataGrid_EditorPostCommitListener]]
* `addEditorPostCommitListener()`, `removeEditorPostCommitListener()` - `DataGrid` editor post commit listener.

The changes are committed to the datasource only. The logic to save these changes in the database should be added separately.

The editor field can be customized with the help of `ColumnEditorFieldGenerator` interface. Apply the `setEditorFieldGenerator()` to a column in order to set a custom component for editing this column:

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_editor.java[]
----

The result:

image::gui_dataGrid_14.png[align="center"]

[[gui_DataGrid_addGeneratedColumn]]
*Usage of the ColumnGenerator interface:*

`DataGrid` enables adding generated columns with the help of the methods:

* `addGeneratedColumn(String columnId, ColumnGenerator generator)`

* `addGeneratedColumn(String columnId, ColumnGenerator generator, int index)`

`ColumnGenerator` is a special interface that defines the generated, or calculated, column:

* value of each column's row,

* the type of value - common for the whole column.

Below is an example of generating a column that displays users' login in the upper case:

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_generatedColumns.java[]
----

The result:

image::gui_dataGrid_7.png[align="center"]

`ColumnGeneratorEvent`, passed in the `getValue` method, contains information on the entity, displayed in the current `DataGrid` row, and the column `propertyId`.

By default, the generated column is added to the end of the table. There are two possible ways to manage the column's position: either using an index in the code or adding a column in advance in the XML descriptor and pass its `id` to the `addGeneratedColumn` method.

[[gui_DataGrid_setRenderer]]
*Usage of renderers:*

[[gui_DataGrid_createRenderer]]
The way the data is displayed in columns can be customized by means of renderers. For example, to display icons as pictures in the cells, the path to an icon can be used together with the `ImageRenderer` class:

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_renderer.java[]
----

The result:

image::gui_dataGrid_8.png[align="center"]

The `WebComponentRenderer` interface allows you to display components of different web components types in the `DataGrid` cells. This interface is implemented only in the *Web Module*. Below is an example of creating a column with the `LookupField` component:

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_webComponentRenderer.java[]
----

The result:

image::gui_dataGrid_13.png[align="center"]

[[gui_DataGrid_setConverter]]
When the field type does not match the data type that can be processed by a renderer, one can use the converters to match data types of the model and the view. For example, to display a boolean value as an icon, it would be handy to use the `HtmlRenderer` to display HTML layout and a converter, which will convert a boolean value to the layout for icons' display.

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_converter.java[]
----

The result:

image::gui_dataGrid_9.png[align="center"]

The renderers can be created in two ways:

* passing a renderer interface to the fabric method of the `DataGrid` interface. Suits for *GUI* and *Web* modules.

* directly creating a renderer implementation for the corresponding module:
+
`dataGrid.createRenderer(DataGrid.ImageRenderer.class) → new WebImageRenderer()`
+
For the moment this way is suitable only for the *Web* module.

The list of renderers supported by the Platform:

* `TextRenderer` - displays plain text.

* `HtmlRenderer` - displays HTML layout.

* `ProgressBarRenderer` - displays `double` values between 0 and 1 as a `ProgressBar` component.

* `DateRenderer` - displays dates in the defined format.

* `NumberRenderer` - displays numbers in the defined format.

* `ButtonRenderer` - displays string values as a button caption.

* `ImageRenderer` - uses the path to an image to display the image.

* `CheckBoxRenderer` - displays boolean values as a checkbox icon.

*Header and Footer:*

`HeaderRow` and `FooterRow` interfaces are used to represent header and footer cells respectively. They can be a merged cell for multiple columns.

The following methods of `DataGrid` allow to create and manage the DataGrid header and footer:

* `appendHeaderRow()`, `appendFooterRow()` - adds a new row at the bottom of the header/footer section.

* `prependHeaderRow()`, `prependFooterRow()` - adds a new row at the top of the header/footer section.

* `addHeaderRowAt()`, `addFooterRowAt()` - inserts a new row at the given position to the header/footer section. Shifts the row currently at that position and any subsequent rows down incrementing their indices.

* `removeHeaderRow()`, `removeFooterRow()` - removes the given row from the header/footer section.

* `getHeaderRowCount()`, `getFooterRowCount()` - gets the row count for the header/footer section.

* `setDefaultHeaderRow()` - sets the default row of the header. The default row is a special header row providing a user interface for sorting columns.

`HeaderCell` and `FooterCell` interfaces provide means of customization of static DataGrid cells:

* `setStyleName()` - sets a custom style name for this cell.

* `getCellType()` - returns the type of content stored in this cell. There are 3 types of `DataGridStaticCellType` enumeration available:
+
--
* `TEXT`

* `HTML`

* `COMPONENT`
--
* `getComponent()`, `getHtml()`,  `getText()` - returns the content displayed in this cell depending on its type.

Below is an example of `DataGrid` the header that contains merged cells, and the footer displaying calculated values.

[source, xml]
----
include::{sourcesdir}/gui_vcl/datagrid_example_1.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/datagrid_example_2.java[]
----

image::gui_dataGrid_12.png[align="center"]

'''

Attributes of dataGrid::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_colspan,colspan>> -
<<gui_DataGrid_columnResizeMode,columnResizeMode>> -
<<gui_DataGrid_columnsCollapsingAllowed,columnsCollapsingAllowed>> -
<<gui_DataGrid_contextMenuEnabled,contextMenuEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_DataGrid_editorBuffered,editorBuffered>> -
<<gui_DataGrid_editorCancelCaption,editorCancelCaption>> -
<<gui_DataGrid_editorEnabled,editorEnabled>> -
<<gui_DataGrid_editorSaveCaption,editorSaveCaption>> -
<<gui_attr_enable,enable>> -
<<gui_DataGrid_frozenColumnCount,frozenColumnCount>> -
<<gui_DataGrid_headerVisible,headerVisible>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_DataGrid_reorderingAllowed,reorderingAllowed>> -
<<gui_attr_responsive,responsive>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_DataGrid_selectionMode,selectionMode>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_DataGrid_sortable,sortable>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_DataGrid_textSelectionEnabled,textSelectionEnabled>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of dataGrid::
<<gui_DataGrid_actions,actions>> -
<<gui_DataGrid_buttonsPanel,buttonsPanel>> -
<<gui_DataGrid_columns,columns>> -
<<gui_DataGrid_rowsCount,rowsCount>>

Attributes of column::
<<gui_attr_caption,caption>> -
<<gui_DataGrid_collapsed,collapsed>> -
<<gui_DataGrid_collapsible,collapsible>> -
<<gui_DataGrid_collapsingToggleCaption,collapsingToggleCaption>> -
<<gui_attr_editable,editable>> -
<<gui_DataGrid_expandRatio,expandRatio>> -
<<gui_attr_id,id>> -
<<gui_DataGrid_maximumWidth,maximumWidth>> -
<<gui_DataGrid_minimumWidth,minimumWidth>> -
<<gui_DataGrid_property,property>> -
<<gui_DataGrid_resizable,resizable>> -
<<gui_DataGrid_sortable,sortable>> -
<<gui_attr_width,width>>

Elements of column::
<<gui_formatter,formatter>>

API::
<<gui_DataGrid_addGeneratedColumn,addGeneratedColumn>> -
<<gui_api_settings,applySettings>> -
<<gui_DataGrid_createRenderer,createRenderer>> -
<<gui_DataGrid_editItem,editItem>> -
<<gui_api_settings,saveSettings>> -
<<gui_DataGrid_scrollTo,getColumns>> -
<<gui_DataGrid_setCellDescriptionProvider,setCellDescriptionProvider>> -
<<gui_DataGrid_setCellStyleProvider,setCellStyleProvider>> -
<<gui_DataGrid_setConverter,setConverter>> -
<<gui_DataGrid_setDetailsGenerator,setDetailsGenerator>> -
<<gui_DataGrid_setEnterPressAction,setEnterPressAction>> -
<<gui_DataGrid_setItemClickAction,setItemClickAction>> -
<<gui_DataGrid_setRenderer,setRenderer>> -
<<gui_DataGrid_setRowDescriptionProvider,setRowDescriptionProvider>> -
<<gui_DataGrid_setRowStyleProvider,setRowStyleProvider>> -
<<gui_DataGrid_sort,sort>>

Listeners of dataGrid::
<<gui_DataGrid_ColumnCollapsingChangeListener,ColumnCollapsingChangeListener>> -
<<gui_DataGrid_ColumnReorderListener,ColumnReorderListener>> -
<<gui_DataGrid_ColumnResizeListener,ColumnResizeListener>> -
<<gui_DataGrid_ContextClickListener,ContextClickListener>> -
<<gui_DataGrid_EditorCloseListener,EditorCloseListener>> -
<<gui_DataGrid_EditorOpenListener,EditorOpenListener>> -
<<gui_DataGrid_EditorPostCommitListener,EditorPostCommitListener>> -
<<gui_DataGrid_EditorPreCommitListener,EditorPreCommitListener>> -
<<gui_DataGrid_ItemClickListener,ItemClickListener>> -
<<gui_DataGrid_SelectionListener,SelectionListener>> -
<<gui_DataGrid_SortListener,SortListener>>

[[gui_DateField]]
====== DateField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-datefield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/DateField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`DateField` is a field to display and enter date and time. It is an input field, inside which there is a button with a drop-down calendar. To the right, there is a time field.

image::gui_dateFieldSimple.png[align="center"]

XML name of the component: `dateField`.

The `DateField` component is implemented for *Web Client* and *Desktop Client*.

* To create a date field associated with data, you should use the <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datefield_1.xml[]
---- 
+
In the example above, the screen has the `orderDs` data source for the `Order` entity, which has the `date` property. The reference to the data source is specified in the <<gui_attr_datasource,datasource>> attribute of the `dateField` component; the name of the entity attribute which value should be displayed in the field is specified in the <<gui_attr_property,property>> attribute.

* If the field is associated with an entity attribute, it will automatically take the appropriate form:

** If the attribute has the `java.sql.Date` type or the `@Temporal(TemporalType.DATE)` annotation is specified, the time field will not be displayed. The date format is defined by the `date` <<datatype,datatype>> and is specified in the <<main_message_pack,main localized message pack>> in the `dateFormat` key.

** Otherwise, the time field with hours and minutes will be displayed. The time format is defined by the `time` <<datatype,datatype>> and is specified in the main localized message pack in the `timeFormat` key.

[[gui_DateField_dateFormat]]
* You can change the date and time format using the `dateFormat` attribute. An attribute value can be either a format string itself or a key in a message pack (if the value starts with `msg://`).
+
The format is defined by rules of the `SimpleDateFormat` class (http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html). If there are no `H` or `h` characters in the format, the time field will not be displayed.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datefield_2.xml[]
---- 
+
image::gui_dateField_format.png[align="center"]
+
[WARNING]
====
`DateField` is primarily intended for quick input by filling placeholders from keyboard. Therefore the component supports only formats with digits and separators. Complex formats with textual representation of weekdays or months will not work.
====

[[gui_DateField_range]]
* You can specify available dates by using `rangeStart` and `rangeEnd` attributes. If a range is set, all dates outside the range will be disabled. You can set range dates in the "yyyy-MM-dd" format in XML or programmatically by using corresponding setters.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datefield_4.xml[]
----
+
image::gui_datefield_month_range.png[align="center"]

* Changes of the `DateField` value, as well as of any other components implementing the `Field` interface, can be tracked using a `ValueChangeListener`.

[[gui_DateField_resolution]]
* Date and time accuracy can be defined using a `resolution` attribute. An attribute value should match the `DateField.Resolution` enumeration − `SEC`, `MIN`, `HOUR`, `DAY`, `MONTH`, `YEAR`. Default is `MIN`, i.e., to within a minute.
+
If `resolution="DAY"` and `dateFormat` is not specified, the format will be taken from one specified in the <<main_message_pack,main message pack>> with the `dateFormat` key.
+
If `resolution="MIN"` and `dateFormat` is not specified, the format will be taken from one specified in the main message pack with the `dateTimeFormat` key. Below is a field definition for entering a date up to within a month. 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datefield_3.xml[]
---- 

image::gui_dateField_resolution.png[align="center"]

* `DateField` can perform timestamp value conversions between server and user time zones if the user's <<timeZone,time zone>> is set by `setTimeZone()` method. The time zone is assigned automatically from the current <<userSession,user session>> when the component is bound to an entity attribute of the timestamp type. If the component is not bound to such attribute, you can call `setTimeZone()` in the screen controller to make the `DateField` perform required conversions..

[[gui_datefield_borderless]]
* In Web Client with a Halo-based theme, you can set predefined `borderless` style name to the DateField component to remove borders and background from the field. This can be done either in the XML descriptor or in the screen controller:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datefield_5.xml[]
----
+
When setting a style programmatically, select the `HaloTheme` class constant with the `DATEFIELD_` prefix:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/datefield_6.java[]
----

'''

Attributes of dateField::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_DateField_dateFormat,dateFormat>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_required,required>> -
<<gui_DateField_range,rangeEnd>> -
<<gui_DateField_range,rangeStart>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_DateField_resolution,resolution>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of dateField::
<<gui_validator,validator>>

Predefined styles of dateField::
<<gui_datefield_borderless,borderless>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_DatePicker]]
====== DatePicker

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-datepicker" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/DatePicker.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`DatePicker` is a field to display and choose a date. It has the same view as the drop-down calendar in <<gui_DateField,DateField>>.

image::gui_datepicker_mini.png[align="center"]

XML name of the component: `datePicker`.

The `DatePicker` component is implemented for *Web Client*.

* To create a date picker associated with data, you should use the <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datepicker_1.xml[]
----
+
In the example above, the screen has the `orderDs` data source for the `Order` entity, which has the `date` property. The reference to the data source is specified in the <<gui_attr_datasource,datasource>> attribute of the `datePicker` component; the name of the entity attribute which value should be displayed in the field is specified in the <<gui_attr_property,property>> attribute.

[[gui_DatePicker_range]]
* You can specify available dates to select by using `rangeStart` and `rangeEnd` attributes. If you set them, all the dates that are outside the range will be disabled.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datepicker_4.xml[]
----
+
image::gui_datepicker_month_range.png[align="center"]

[[gui_DatePicker_resolution]]
* Date accuracy can be defined using a `resolution` attribute. An attribute value should match the `DatePicker.Resolution` enumeration − `DAY`, `MONTH`, `YEAR`. Default resolution is `DAY`.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datepicker_2.xml[]
----
+
image::gui_datepicker_month_resolution.png[align="center"]
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/datepicker_3.xml[]
----
+
image::gui_datepicker_year_resolution.png[align="center"]

'''

Attributes of datePicker::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_DatePicker_range,rangeEnd>> -
<<gui_DatePicker_range,rangeStart>> -
<<gui_DatePicker_resolution,resolution>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_Embedded]]
====== Embedded (Deprecated)

[WARNING]
====
Starting from the version 6.8 of the Platform the `Embedded` component is deprecated. Use the <<gui_Image,Image>> component for displaying images or the <<gui_BrowserFrame,BrowserFrame>> component for embedded web pages.
====

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=image-embedded" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

`Embedded` component is intended for displaying images and embedding arbitrary web pages into the application screens.

XML name of the component: `embedded`

The component is implemented for *Web Client* and *Desktop Client*. *Desktop Client* supports image display only.

Below is an example of using the component to display an image from a file located in <<file_storage,FileStorage>>. 

* Declare the component in an XML screen descriptor: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/embedded_1.xml[]
---- 

* In a screen controller, inject the component itself and the `FileStorageService` interface. In `init()` method, get the `FileDescriptor` passed from the calling code, load the corresponding file in a byte array, create a `ByteArrayInputStream` for it, and pass the stream to the `setSource()` method of the component:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/embedded_2.java[]
----

[[gui_Embedded_type]]
The `Embedded` component supports several different content types, which are rendered differently in HTML. You can set the content type with the `setType()` method. Supported types:

* `OBJECT`  - allows embedding certain file types inside HTML <object> and <embed> elements.

* `IMAGE`  - embeds an image inside a HTML <img> element.

* `BROWSER`  - embeds a browser frame inside a HTML <iframe> element.

In Web Client, the component enables displaying of files located inside `VAADIN` folder. You can set the resource path relative to the application root, for example:

[[gui_Embedded_relativeSrc]]
[source, xml]
----
include::{sourcesdir}/gui_vcl/embedded_6.xml[]
----

or

[source, java]
----
include::{sourcesdir}/gui_vcl/embedded_5.java[]
----

You can also define a resource files directory in the <<cuba.web.resourcesRoot,cuba.web.resourcesRoot>> application property and specify the name of a file inside this directory with the prefix for the value: `file://` , `url://` , or `theme://`:

[[gui_Embedded_src]]
[source, xml]
----
include::{sourcesdir}/gui_vcl/embedded_7.xml[]
----

or

[source, java]
----
include::{sourcesdir}/gui_vcl/embedded_3.java[]
---- 

In order to display an external web page, pass its URL to the component:

[source, java]
----
include::{sourcesdir}/gui_vcl/embedded_4.java[]
---- 

'''

Attributes of embedded::
<<gui_attr_align,align>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_Embedded_relativeSrc,relativeSrc>> -
<<gui_Embedded_src,src>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

'''

[[gui_FieldGroup]]
====== FieldGroup

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-fieldgroup" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/FieldGroup.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`FieldGroup` is intended for the joint display and editing of multiple entity attributes. 

image::gui_fieldGroup.png[align="center"]

XML-name of the component: `fieldGroup`

The component is implemented for *Web Client* and *Desktop Client*.

Below is an example of defining a group of fields in an XML screen descriptor:

[source, xml]
----
include::{sourcesdir}/gui_vcl/fieldgroup_1.xml[]
---- 

In the example above, `dsContext` defines an `orderDs` <<datasources,data source>>, which contains a single instance of the `Order` entity. The data source is specified in the `datasource` attribute of the `fieldGroup` component. `field` elements refer to the entity attributes that need to be displayed in the component.

Elements of `fieldGroup`:

[[gui_FieldGroup_column]]
* `column` – optional element that allows you to position fields in multiple columns. For this purpose, `field` elements should be placed not immediately within `fieldGroup`, but within a `column`. For example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/fieldgroup_2.xml[]
---- 
+
In this case, fields will be arranged in two columns; the first column will contain all fields with the width of `250px`, the second one with the width of `400px`.
+
Attributes of `column`:
+
--
[[gui_FieldGroup_column_width]]
** `width` – specifies the field width of a column. By default, fields have the width of `200px`. In this attribute, the width can be specified both in pixels and in percentage of the total horizontal width of the column.

[[gui_FieldGroup_column_flex]]
** `flex` – a number, which indicates the degree of horizontal change in the overall size of the column relative to other columns as a result of changing the entire width of `fieldGroup`. For example, you can specify `flex=1` for a column, and `flex=3` for another one. 

[[gui_FieldGroup_column_id]]
** `id` – an optional column identifier, which allows you to refer to it in case of <<screen_extension,screen extension>>.
--

[[gui_FieldGroup_field]]
* `field` – the main component element. It defines one field of the component.
+
Custom fields can be included in the `field` element as inline XML definition:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/fieldgroup_6.xml[]
----
+
Attributes of `field`:
+
--
[[gui_FieldGroup_field_id]]
** `id` – required attribute, if `property` is not set; otherwise it takes the same value as `property` by default. The `id` attribute should contain an arbitrary unique identifier either of a field with the `property` attribute set, or a programmatically defined field. In the latter case, the `field` should have the attribute `custom="true"` as well (see below).

[[gui_FieldGroup_field_property]]
** `property` - required attribute, if `id` is not set; it should contain an entity attribute name, which is displayed in the field, for data binding.

[[gui_FieldGroup_field_caption]]
** `caption` − allows you to specify a field caption. If not specified, an entity <<entity_localization,attribute localized name>> will be displayed.

** `inputPrompt` - if the <<gui_attr_inputPrompt,inputPrompt>> attribute is available for the component used for this field, you can set its value directly for the field.

[[gui_FieldGroup_field_visible]]
** `visible` − allows you to hide the field together with the caption.

[[gui_FieldGroup_field_datasource]]
** `datasource` − allows you to specify a <<datasources,data source>> for the field, other than specified for the entire `fieldGroup` component. Thus, attributes of different entities can be displayed in a field group.

** `optionsDatasource` specifies a name of a <<datasources,data source>>, used to create a list of options. You can specify this attribute for a field connected to a reference entity attribute. By default, the selection of a related entity is made through a lookup screen. If `optionsDatasource` is specified, you can select the related entity from a drop-down list of options. Actually, specifying `optionsDatasource` will lead to the fact that <<gui_LookupPickerField,LookupPickerField>> will be used in the field instead of <<gui_PickerField,PickerField>>.

[[gui_FieldGroup_field_width]]
** `width` − allows you to specify the field width excluding caption. By default, the field width will be `200px`. The width can be specified both in pixels and in percentage of the total horizontal width of the column. To specify the width of all fields simultaneously, you can use the `width` attribute of the `column` element described above.

[[gui_FieldGroup_field_custom]]
** `custom` – if set to `true`, it means that a field identifier does not refer to an entity attribute, and a component, which is in the field, will be set programmatically using `setComponent()` method of `FieldGroup` (see below).

[[gui_FieldGroup_field_generator]]
** the `generator` attribute is used for declarative creation of custom fields: you can specify the name of the method that returns a custom component for this field:
+
[source, xml]
----
<fieldGroup datasource="productDs">
    <column width="250px">
        <field property="description" generator="generateDescriptionField"/>
    </column>
</fieldGroup>
----

+
[source, java]
----
public Component generateDescriptionField(Datasource datasource, String fieldId) {
    TextArea textArea = componentsFactory.createComponent(TextArea.class);
    textArea.setRows(5);
    textArea.setDatasource(datasource, fieldId);
    return textArea;
}
----

[[gui_FieldGroup_field_link]]
** `link` - if set to `true`, enables displaying a link to an entity editor instead of an entity picker field (supported for *Web Client* only). Such behaviour may be required when the user should be able to view the related entity, but should not change the relationship.

[[gui_FieldGroup_field_linkScreen]]
** `linkScreen` - contains the identifier of the screen that is opened by clicking the link, enabled in the `link` attribute.

[[gui_FieldGroup_field_linkScreenOpenType]]
** `linkScreenOpenType` - sets the screen opening mode (`++THIS_TAB++`, `++NEW_TAB++` or `DIALOG`).

[[gui_FieldGroup_field_linkInvoke]]
** `linkInvoke` - contains the controller method to be invoked instead of opening the screen.

The following attributes of `field` can be applied depending on the type of the entity attribute displayed in the field:

[[gui_FieldGroup_field_mask]]
** If you specify a value of the `mask` attribute for a text entity attribute, <<gui_MaskedField,MaskedField>> with an appropriate mask will be used instead of <<gui_TextField,TextField>>. In this case, you can also specify the `valueMode` attribute.

[[gui_FieldGroup_field_rows]]
** If you specify a value of the `rows` attribute for a text entity attribute, <<gui_TextArea,TextArea>> with the appropriate number of rows will be used instead of <<gui_TextField,TextField>>. In this case, you can also specify the `cols` attribute.

** For a text entity attribute, you can specify the `maxLength` attribute similarly to one described for <<gui_TextField,TextField>>.

** For an entity attribute of the `date` or `dateTime` type, you can specify the `dateFormat` and `resolution` for the parameterization of the <<gui_DateField,DateField>> component used in the field.

** For an entity attribute of the `time` type, you can specify the `showSeconds` attribute for the parameterization of the <<gui_TimeField,TimeField>> component used in the field.
--

Attributes of `fieldGroup`:

[[gui_FieldGroup_border]]
* The `border` attribute can be set either to `hidden` or `visible`. Default is `hidden`. If set to `visible`, the `fieldGroup` component is highlighted with a border. In the web implementation of the component, displaying a border is done by adding the `cuba-fieldgroup-border` CSS class. 

[[gui_FieldGroup_captionAlignment]]
* `captionAlignment` attribute defines the position of captions relative to the fields in within the `FieldGroup`. Two options are available: `LEFT` and `TOP`.

[[gui_FieldGroup_fieldFactoryBean]]
* `fieldFactoryBean`: declarative fields defined in the XML-descriptor are created with the `FieldGroupFieldFactory` interface. In order to override this factory, use this attribute with the name of your custom `FieldGroupFieldFactory` implementation.
+
[[gui_FieldGroup_setFieldFactory]]
For the `FieldGroup` created programmatically, use the `setFieldFactory()` method.

Methods of the `FieldGroup` interface:

[[gui_FieldGroup_addField]]
* `addField` enables adding fields to the FieldGroup at runtime. As a parameter it takes a `FieldConfig` instance, you can also define the position of the new field by adding `colIndex` and `rowIndex` parameters.

[[gui_FieldGroup_bind]]
* `bind()` method applied to the field after `setDatasource()` triggers the creation of field components.

[[gui_FieldGroup_createField]]
* `createField()` is used to create a FieldGroup element implementing `FieldConfig` interface:
+
[source, java]
----
fieldGroup.addField(fieldGroup.createField("newField"));
----

[[gui_FieldGroup_getComponent]]
* `getComponent()` returns a visual component, which is located in a field with the specified identifier. This may be required for additional component parameterization, which is not available through XML attributes of `field` described above.
+
To obtain a reference to a field component in a screen controller, you can use <<screen_controller_injection,injection>> instead of the explicit invocation of `getFieldNN("id").getComponentNN()`. To do this, use the `@Named` annotation and provide an identifier of `fieldGroup` and a field identifier after a dot.
+
For example, in a field selecting a related entity, you can add an action to open an instance and remove the field cleaning action as follows:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/fieldgroup_4.xml[]
----
+
[source, java]
----
include::{sourcesdir}/gui_vcl/fieldgroup_5.java[]
----
+
To use `getComponent()` or to inject field components, you need to know which component type is located in the field. The table below shows the correspondence between entity attribute types and components created for them:
+
[cols="3*.^", frame="all"]
|===
| Entity attribute type| Additional conditions| Field component type

.2+| Related Entity
| `optionsDatasource` is specified
| <<gui_LookupPickerField,LookupPickerField>>

|
| <<gui_PickerField,PickerField>>

| Enumeration (`enum`)
|
| <<gui_LookupField,LookupField>>

.3+| `string`
| `mask` is specified
| <<gui_MaskedField,MaskedField>>

| `rows` is specified
| <<gui_TextArea,TextArea>>

|
| <<gui_TextField,TextField>>

| `boolean`
|
| <<gui_CheckBox,CheckBox>>

| `date`, `dateTime`
|
| <<gui_DateField,DateField>>

| `time`
|
| <<gui_TimeField,TimeField>>

.2+| `int`, `long`, `double`, `decimal`
| `mask` is specified
| <<gui_MaskedField,MaskedField>>

|
| <<gui_TextField,TextField>>

| `UUID`
|
| <<gui_MaskedField,MaskedField>> with hex mask

|===

[[gui_FieldGroup_removeField]]
* `removeField()` enables removing fields at runtime by `id`.

[[gui_FieldGroup_setComponent]]
* `setComponent()` method is used to set your own field view. Can be used together with the `custom="true"` attribute of the `field` element or with the field created programmatically by the `createField()` method (see above). When used with `custom="true"`, the datasource and the property should be set up manually.
+
The `FieldConfig` instance can be obtained with `getField()` or `getFieldNN()` method, then the `setComponent()` method is called:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/fieldgroup_3.java[]
----

'''

Attributes of fieldGroup::
<<gui_attr_align,align>> -
<<gui_FieldGroup_border,border>> -
<<gui_attr_caption,caption>> -
<<gui_FieldGroup_captionAlignment,captionAlignment>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_FieldGroup_fieldFactoryBean,fieldFactoryBean>> -
<<gui_attr_id,id>> -
<<gui_attr_height,height>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Attributes of column::
<<gui_FieldGroup_column_flex,flex>> -
<<gui_FieldGroup_column_id,id>> -
<<gui_FieldGroup_column_width,width>>

Attributes of field::
<<gui_FieldGroup_field_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_FieldGroup_field_rows,cols>> -
<<gui_FieldGroup_field_custom,custom>> -
<<gui_FieldGroup_field_datasource,datasource>> -
<<gui_DateField_dateFormat,dateFormat>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_FieldGroup_field_generator,generator>> -
<<gui_FieldGroup_field_id,id>> -
<<gui_FieldGroup_field_link,link>> -
<<gui_FieldGroup_field_linkInvoke,linkInvoke>> -
<<gui_FieldGroup_field_linkScreen,linkScreen>> -
<<gui_FieldGroup_field_linkScreenOpenType,linkScreenOpenType>> -
<<gui_FieldGroup_field_mask,mask>> -
<<gui_TextField_maxLength,maxLength>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_FieldGroup_field_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_DateField_resolution,resolution>> -
<<gui_FieldGroup_field_rows,rows>> -
<<gui_TimeField_showSeconds,showSeconds>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_FieldGroup_field_visible,visible>> -
<<gui_attr_width,width>>

Elements of field::
<<gui_FieldGroup_column,column>> -
<<gui_FieldGroup_field,field>> -
<<gui_attr_inputPrompt,inputPrompt>> -
<<gui_validator,validator>>

API::
<<gui_FieldGroup_addField,addField>> -
<<gui_FieldGroup_bind,bind>> -
<<gui_FieldGroup_createField,createField>> -
<<gui_FieldGroup_getComponent,getComponent>> -
<<gui_FieldGroup_removeField,removeField>> -
<<gui_FieldGroup_setComponent,setComponent>> -
<<gui_FieldGroup_setFieldFactory,setFieldFactory>>

'''

[[gui_FileMultiUploadField]]
====== FileMultiUploadField

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/FileMultiUploadField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `FileMultiUploadField` component allows a user to upload files to the server. The component is a button; when it is clicked, a standard OS file picker window is shown, where the user can select multiple files for upload.

image::gui_multipleUpload.png[align="center"]

XML name of the component: `multiUpload`.

The component is implemented for *Web Client* and *Desktop Client*.

* Declare the component in an XML screen descriptor: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/multiupload_1.xml[]
----

[[gui_FileMultiUploadField_QueueUploadCompleteListener]]
* In the screen controller, inject the component itself, the <<file_upload,FileUploadingAPI>> and <<dataSupplier,DataSupplier>> interfaces. In the `init()` method, add listeners which will react on successful uploads and errors:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/multiupload_2.java[]
---- 
+
The component uploads all selected files to the temporary storage of the client <<app_tiers,tier>> and invokes the listener added by the `addQueueUploadCompleteListener()` method. In this listener, the `FileMultiUploadField.getUploadsMap()` method is invoked to obtain a map of temporary storage file identifiers to file names. Then, corresponding `FileDescriptor` objects are created by calling `FileUploadingAPI.getFileDescriptor()` for each map entry. `com.haulmont.cuba.core.entity.FileDescriptor` (do not confuse with `java.io.FileDescriptor`) is a persistent entity, which uniquely identifies an uploaded file and then is used to download the file from the system.
+
--
Below is the list of listeners available to track the upload process:

[[gui_FileMultiUploadField_FileUploadErrorListener]]
* `FileUploadErrorListener`,

[[gui_FileMultiUploadField_FileUploadStartListener]]
* `FileUploadStartListener`,

[[gui_FileMultiUploadField_FileUploadFinishListener]]
* `FileUploadFinishListener`,

* `QueueUploadCompleteListener`.

`FileUploadingAPI.putFileIntoStorage()` method is used to move the uploaded file from the temporary client storage to <<file_storage,FileStorage>>. Parameters of this method are temporary storage file identifier and the `FileDescriptor` object.

After uploading the file to `FileStorage`, the `FileDescriptor` instance is saved in a database by invoking `DataSupplier.commit()`. The saved instance returned by this method can be set to an attribute of an entity related to this file. Here, `FileDescriptor` is simply stored in the database. The file will be available through the *Administration* -> *External Files* screen.

After processing, the list of files should be cleared by calling the `clearUploads()` method in order to prepare for further uploads.
--

* Maximum upload size is determined by the <<cuba.maxUploadSizeMb,cuba.maxUploadSizeMb>> application property and is  20MB by default. If a user selects a file of a larger size, a corresponding message will be displayed, and the upload will be interrupted.

[[gui_FileMultiUploadField_accept]]
* The `accept` XML attribute (and the corresponding `setAccept()` method) can be used to set the file type mask in the file selection dialog. Users still be able to change the mask to "All files" and upload arbitrary files.
+
The value of the attribute should be a comma-separated list of masks. For example: `++*.jpg,*.png++`.

[[gui_FileMultiUploadField_fileSizeLimit]]
* The `fileSizeLimit` XML attribute (and the corresponding `setFileSizeLimit()` method) can be used to set maximum allowed file size in bytes. This limit defines a maximum size for each file.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/multiupload_3.xml[]
----

[[gui_FileMultiUploadField_permittedExtensions]]
* The `permittedExtensions` XML attribute (and the corresponding `setPermittedExtensions()` method) sets the white list of permitted file extensions.
+
The value of the attribute should be a set of string values, where each string is a permitted extension with leading dot. For example:
+
[source,java]
----
uploadField.setPermittedExtensions(Sets.newHashSet(".png", ".jpg"));
----

[[gui_FileMultiUploadField_dropZone]]
* The `dropZone` XML attribute allows you to specify a <<gui_BoxLayout,BoxLayout>> to be used as a target for drag-and-dropping files from outside of the browser. If the container style <<gui_FileUploadField_dropZone,is not set>>, the selected container is highlighted when a user drags files over the container, otherwise the dropZone is not visible.

See <<images_recipe>> for more complex example of working with uploaded files.

'''

Attributes of multiUpload::
<<gui_FileMultiUploadField_accept,accept>> -
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_FileMultiUploadField_dropZone,dropZone>> -
<<gui_attr_enable,enable>> -
<<gui_FileMultiUploadField_fileSizeLimit,fileSizeLimit>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_FileUploadField_pasteZone,pasteZone>> -
<<gui_FileMultiUploadField_permittedExtensions,permittedExtensions>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Listeners of multiUpload::
<<gui_FileMultiUploadField_FileUploadErrorListener,FileUploadErrorListener>> -
<<gui_FileMultiUploadField_FileUploadFinishListener,FileUploadFinishListener>> -
<<gui_FileMultiUploadField_FileUploadStartListener,FileUploadStartListener>> -
<<gui_FileMultiUploadField_QueueUploadCompleteListener,QueueUploadCompleteListener>>

'''

[[gui_FileUploadField]]
====== FileUploadField

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/FileUploadField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `FileUploadField` component allows a user to upload files to the server. The component can contain a caption, a link to uploaded file, and two buttons: for uploading and for clearing the selected file. When the upload button is clicked, a standard OS file picker window is shown, where the user can select a file. In order to upload multiple files, use <<gui_FileMultiUploadField,FileMultiUploadField>>.

image::gui_upload.png[align="center"]

XML name of the component: `upload`.

The component is implemented for *Web Client* and *Desktop Client*. 

* `FileUploadField` is automatically used inside <<gui_FieldGroup,FieldGroup>> for entity attributes of type `FileDescriptor`. In this case, the field looks as shown above and does not require additional configuration. An uploaded file is immediately stored in <<file_storage,file storage>> and the corresponding `FileDescriptor` instance is saved to the database.

* You can use the component outside `FieldGroup` and connect it to a datasource. For example, here we suppose that the `personDs` datasource contains an entity with the `photo` attribute which is a reference to `FileDescriptor`:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/upload_0.xml[]
----

* You can also control the saving of file and `FileDescriptor` programmatically.

** Declare the component in an XML screen descriptor:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/upload_1.xml[]
---- 

[[gui_FileUploadField_FileUploadSucceedListener]]
** In the screen controller, inject the component itself, the <<file_upload,FileUploadingAPI>> and <<dataSupplier,DataSupplier>> interfaces. In the `init()` method, add listeners which will react on successful uploads and errors:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/upload_2.java[]
---- 
+
--
The component will upload the file to the temporary storage of the client <<app_tiers,tier>> and invoke the listener added by the `addFileUploadSucceedListener()` method. In this listener, a `FileDescriptor` object is requested from the component. `com.haulmont.cuba.core.entity.FileDescriptor` is a persistent entity, which uniquely identifies an uploaded file and is used to download the file from the system.

`FileUploadingAPI.putFileIntoStorage()` method is used to move the uploaded file from the temporary client storage to <<file_storage,FileStorage>>. Parameters of this method are temporary storage file identifier and the `FileDescriptor` object. Both of these parameters are provided by `FileUploadField`.

After uploading the file to `FileStorage`, the `FileDescriptor` instance is saved in the database by invoking `DataSupplier.commit()`. The saved instance returned by this method can be set to an attribute of an entity related to this file. Here, `FileDescriptor` is simply stored in the database. The file will be available through the *Administration* -> *External Files* screen.

The listener added by the `addFileUploadErrorListener()` method will be invoked if an error occurs when uploading a file to the temporary storage of the client tier.

Below is the list of listeners available to track the upload process:

[[gui_FileUploadField_AfterValueClearListener]]
* `AfterValueClearListener`,

[[gui_FileUploadField_BeforeValueClearListener]]
* `BeforeValueClearListener`,

[[gui_FileUploadField_FileUploadErrorListener]]
* `FileUploadErrorListener`,

[[gui_FileUploadField_FileUploadFinishListener]]
* `FileUploadFinishListener`

[[gui_FileUploadField_FileUploadStartListener]]
* `FileUploadStartListener`,

[[gui_FileUploadField_FileUploadSucceedListener]]
* `FileUploadSucceedListener`,

* `ValueChangeListener`.
--

`fileUploadField` attributes:

[[gui_FileUploadField_fileStoragePutMode]]
* `fileStoragePutMode` - defines how the file and the corresponding `FileDescriptor` are stored.
+
** In the `IMMEDIATE` mode it is done right after uploading file to the temporary storage of the client tier.
+
** In the `MANUAL` mode, you should do it programmatically in a `FileUploadSucceedListener`.+
+
The `IMMEDIATE` mode is selected by default when `FileUploadField` is used inside `FieldGroup`. Otherwise, the default mode is `MANUAL`.

[[gui_FileUploadField_uploadButtonCaption]]
* `uploadButtonCaption`, `uploadButtonIcon` and `uploadButtonDescription` XML attributes allow you to set the properties of the upload button.

[[gui_FileUploadField_showFileName]]
* `showFileName` - controls whether the name of uploaded file is displayed next to upload button. It is `false` by default.

[[gui_FileUploadField_showClearButton]]
* `showClearButton` - controls whether the clear button is visible. It is `false` by default.

[[gui_FileUploadField_clearButtonCaption]]
* `clearButtonCaption`, `clearButtonIcon` and `clearButtonDescription` XML attributes allow you to set the properties of the clear button if it is visible.

[[gui_FileUploadField_accept]]
* The `accept` XML attribute (and the corresponding `setAccept()` method) can be used to set the file type mask in the file selection dialog. Users still be able to change the mask to "All files" and upload arbitrary files.
+
The value of the attribute should be a comma-separated list of masks. For example: `++*.jpg,*.png++`.

* Maximum upload size is determined by the <<cuba.maxUploadSizeMb,cuba.maxUploadSizeMb>> application property and is  20MB by default. If a user selects a file of a larger size, a corresponding message will be displayed, and the upload will be interrupted.

[[gui_FileUploadField_fileSizeLimit]]
* The `fileSizeLimit` XML attribute (and the corresponding `setFileSizeLimit()` method) can be used to set maximum allowed file size specified in bytes.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/upload_3.xml[]
----

[[gui_FileUploadField_permittedExtensions]]
* The `permittedExtensions` XML attribute (and the corresponding `setPermittedExtensions()` method) sets the white list of permitted file extensions.
+
The value of the attribute should be a comma-separated list of extensions with leading dots. For example:
+
[source,java]
----
uploadField.setPermittedExtensions(Sets.newHashSet(".png", ".jpg"));
----

[[gui_FileUploadField_dropZone]]
* `dropZone` - allows you to specify a <<gui_BoxLayout,BoxLayout>> to be used as a target for drag-and-dropping files from outside of the browser. The dropZone can cover the whole layout of a dialog window. The selected container is highlighted when a user drags a file over the container, otherwise it is not visible.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/dropZone.xml[]
----
+
image::gui_dropZone.png[align="center"]
+
To make a dropZone static and display it permanently, assign the predefined `dropzone-container` style to its container. In this case the container should be empty with only the `label` component inside:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/dropzone_static.xml[]
----
+
image::gui_dropZone_static.png[align="center"]

[[gui_FileUploadField_pasteZone]]
* `pasteZone` allows you to specify a <<gui_layouts,container>> to be used for handling paste shortcuts when a text input field nested in this container is focused. This feature is supported by Chromium-based browsers.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/pasteZone.xml[]
----

See <<images_recipe>> for more complex example of working with uploaded files.

'''

Attributes of upload::
<<gui_FileUploadField_accept,accept>> -
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_FileUploadField_clearButtonCaption,clearButtonCaption>> -
<<gui_FileUploadField_clearButtonCaption,clearButtonDescription>> -
<<gui_FileUploadField_clearButtonCaption,clearButtonIcon>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_FileUploadField_dropZone,dropZone>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_FileUploadField_fileSizeLimit,fileSizeLimit>> -
<<gui_FileUploadField_fileStoragePutMode,fileStoragePutMode>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_FileUploadField_pasteZone,pasteZone>> -
<<gui_FileUploadField_permittedExtensions,permittedExtensions>> -
<<gui_attr_property,property>> -
<<gui_FileUploadField_showClearButton,showClearButton>> -
<<gui_FileUploadField_showFileName,showFileName>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_FileUploadField_uploadButtonCaption,uploadButtonCaption>> -
<<gui_FileUploadField_uploadButtonCaption,uploadButtonDescription>> -
<<gui_FileUploadField_uploadButtonCaption,uploadButtonIcon>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

Listeners of upload::
<<gui_FileUploadField_AfterValueClearListener,AfterValueClearListener>> -
<<gui_FileUploadField_BeforeValueClearListener,BeforeValueClearListener>> -
<<gui_FileUploadField_FileUploadErrorListener,FileUploadErrorListener>> -
<<gui_FileUploadField_FileUploadFinishListener,FileUploadFinishListener>> -
<<gui_FileUploadField_FileUploadStartListener,FileUploadStartListener>> -
<<gui_FileUploadField_FileUploadSucceedListener,FileUploadSucceedListener>>

'''

[[gui_Filter]]
====== Filter

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=multiple-filter" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Filter.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `Filter` is a versatile tool for filtering lists of entities extracted from a database to display in a tabular form. The component enables quick data filtering by arbitrary conditions, as well as creating filters for repeated use.

`Filter` should be connected to the <<datasources,collectionDatasource>> containing a JPQL <<datasource_query,query>>. Its logic is based on the modification of this query in accordance with criteria provided by the user. Thus, filtering is done at the database level when the SQL query is executed, and only selected data is loaded to the Middleware and Client <<app_tiers,tiers>>.

[[gui_Filter_use]]
*Using a Filter*

A typical filter is shown below:

image::gui_filter_descr.png[align="center"]

By default, the component is in quick filter mode. This means that a user can add a set of conditions for a one-off data search. After the screen is closed, the conditions will disappear.

To create a quick filter, click *Add search condition* link. The condition selection screen will be displayed:

image::gui_filter_conditions.png[align="center"]

Possible condition types are described below:

* *Attributes* – attributes of this entity and related entities. Only persistent attributes are displayed. They should also either be explicitly set in the `property` element of the filter XML descriptor, or comply with the rules specified in the <<gui_Filter_properties,properties>> element.

* *Custom conditions* – conditions specified by developer in the `custom` elements of the filter XML descriptor.

* *Create new...* – enables creating a new arbitrary JPQL condition. This option is only available to users having the specific `cuba.gui.filter.customConditions` <<permissions,permission>>.

Selected conditions are displayed at the top of the filter panel. The image:gui_filter_remove_condition.png[] icon will appear next to each condition field, allowing them to be removed from the set.

Quick filters can be saved for further re-use. In order to save a quick filter, click the filter settings icon, select *Save/Save as* and provide a new filter name in the popup dialog:

image::gui_filter_name.png[align="center"]

After that, the filter will be saved and will appear in the drop-down menu of the *Search* button.

image::gui_filter_reset.png[align="center"]

The filter settings popup button provides the list of options for filter management:

* *Save* – save changes to the current filter.

* *Save with values* – save changes to the current filter using the values in parameter editors as filter default values.

* *Save as* – save the filter under a new name.

* *Edit* – open the filter editor (see below).

* *Make default* – make the filter default for this screen. The filter will be automatically displayed on the filter panel when the screen is opened.

* *Remove* – delete the current filter.

* *Pin applied* – use the results of the last search for sequential data filtering (see <<gui_Filter_sequential_apply, Applying Filters Sequentially>>).

* *Save as search folder* – create a <<search_folder,search folder>> based on the current filter.

* *Save as application folder* – create an <<search_folder,application folder>> based on the current filter. This option is available to users having the specific `cuba.gui.appFolder.global` permission only.

The *Edit* option opens the filter editor, allowing advanced configuration of the current filter:

image::gui_filter_editor.png[align="center"]

Filter name should be provided in the *Name* field. This name will be displayed in available filters list for the current screen.

Filter can be made _global_ (i.e., available to all users) using the *Available to all users* checkbox and _global default_ using the *Global default* checkbox. These operations require a specific <<permissions, permission>> called CUBA > Filter > Create/modify global filters. If the filter is marked as _global default_ then it will be automatically selected when users open the screen. Users can set their own default filters using the *Default for me* checkbox. This setting overrides the _global default_ one.

The filter conditions are contained in the tree. They can be added using the *Add* button, swapped using image:gui_filter_cond_down.png[]/image:gui_filter_cond_up.png[] or removed using the *Remove* button.

AND or OR grouping conditions can be added with the help of the corresponding buttons. All top level conditions (i.e., without explicit grouping) are joined with AND.

Selecting a condition in the tree opens the list of its properties in the right part of the editor.

The conditions can be made hidden or required by means of corresponding checkboxes. The hidden condition parameter is invisible to the user, so it should be provided when the filter is being edited.

*Width* property enables selecting the width of the parameter field on the filter panel for the current condition. By default, conditions on the filter panel are displayed in three columns. The field width equals to the number of columns it will occupy (1, 2 or 3).

Default parameter value for the current condition can be selected in the *Default value* field.

A custom caption for filter condition can be provided in the *Caption* field.

*Operation* field enables selecting the condition operator. The list of available operators depends on the attribute type.

If an entity has an attribute of the `DateTime` type with no <<ignoreUserTimeZone,@IgnoreUserTimeZone>> annotation, the the user's <<timeZone, time zone>> will be respected in filters for this attribute by default. As for the `Date` type, you can define whether the user's time zone should be respected by using the special *Use time zone* flag in the custom condition editor.

[[gui_Filter_component]]
*Filter Component*

XML name of the component: `filter`.

The component is implemented for *Web Client* and *Desktop Client*.

An example of component declaration in XML screen descriptor is shown below: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/filter_1.xml[]
---- 

In the example above, a `collectionDatasource` is defined in the `dsContext`. The datasource selects `Car` entity instances using JPQL query. The datasource which is to be filtered is specified in the `filter` component's `datasource` attribute. Data is displayed using the <<gui_Table,Table>> component, which is connected to the same data source.

`filter` may contain nested elements. They describe conditions available for user selection in *Add Condition* dialog:

[[gui_Filter_properties]]
* `properties` – multiple entity attributes can be made available for selection. This element has the following attributes:
+
--
[[gui_Filter_properties_include]]
** `include` – required attribute. It contains a regular expression, which should match an entity attribute name.

[[gui_Filter_properties_exclude]]
** `exclude` – contains a regular expression. If an attribute matches the expression, it will be excluded from previously included (using `include`).

[[gui_Filter_properties_excludeProperties]]
** `excludeProperties` – contains a regular expression. If an attribute and its nested attributes matches the expression, they will be recursively excluded from previously included (using `include`).

Example: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/filter_2.xml[]
---- 

The following entity attributes are ignored when `properties` element is used:

** Not accessible due to security <<permissions,permissions>>.

** Collections (`@OneToMany`, `@ManyToMany`).

** Non-persistent attributes.

** Attributes that do not have <<entity_localization,localized names>>.

** Attributes annotated with `@SystemLevel`.

** Attributes of type `byte[]`.

** The `version` attribute.
--

[[gui_Filter_property]]
* `property` – explicitly includes an entity attribute by name. This element has the following attributes:
+
--
[[gui_Filter_property_name]]
** `name` – required attribute, containing the name of entity attribute to be included. It can be a path (using ".") in the entity graph. For example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/filter_3.xml[]
---- 

[[gui_Filter_property_caption]]
** `caption` – localized entity attribute name displayed in filter conditions. Generally it is a string with the `msg://` prefix in accordance with <<messageTools.loadString,MessageTools.loadString()>> rules.
+
If the `name` attribute is specified as an entity graph path (using ".") , the `caption` attribute is required.

[[gui_Filter_property_paramWhere]]
** `paramWhere` − specifies the JPQL expression which is used to select the list of condition parameter values if the parameter is a related entity. The `{E}` placeholder should be used in the expression instead of the alias of the entity being selected.
+
For example, let us assume that `Car` has a reference to `Model`. Then possible condition parameter values list can be limited to `*Audi*` models only:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/filter_4.xml[]
---- 
+
Screen parameters, session attributes and screen components including those showing other parameters can be used in JPQL expression. Query parameters specification rules are described in <<datasource_query>>.
+
An example of session and screen parameters usage is shown below: 
+
[source, jpql]
----
{E}.createdBy = :session$userLogin and {E}.name like :param$groupName
---- 
With the `paramWhere` clause, you can introduce dependencies between parameters. For example, let us assume that `Manufacturer` is a separate entity. That is `Car` has a reference to `Model` which in turn has a reference to `Manufacturer`. Then you may want to create two conditions for the Cars filter: first to select a Manufacturer and second to select a Model. To restrict the list of models by previously selected manufacturer, add a parameter to the `paramWhere` expression:
+
[source, jpql]
----
{E}.manufacturer.id = :component$filter.model_manufacturer90062
---- 
+
The parameter references a component which displays Manufacturer parameter. You can see the name of the component showing condition parameter by opening context menu on a condition table row in the filter editor:
+
[[gui_Filter_parameter_component_name]]
image::gui_filter_component_name.png[align="center"]

[[gui_Filter_property_paramView]]
** `paramView` − specifies a <<views,view>>, which will be used to load the list of condition parameter values if the parameter is a related entity. For example, `++_local++`. If view is not specified, `++_minimal++` view will be used.
--

[[gui_Filter_custom]]
* `custom` is an element defining an arbitrary condition. The element content should be a JPQL expression (<<jpql_macro,JPQL Macros>> can be used), which will be added to the data source query's `where` clause. The `{E}` placeholder should be used in the expression instead of the alias of the entity being selected. The condition can only have one parameter denoted by "?" if used.
+
--
A value of custom condition can contain special characters, for example "%" or "_" for "like" operator. If you want to escape these characters, add `escape '<char>'` to your condition, for example:

[source, sql]
----
{E}.name like ? escape '\'
----

Then if you use `foo\%` as a value of the condition parameter, the search will interpret "%" as a character in your name and not as a special character.

An example of a filter with arbitrary conditions is shown below: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/filter_5.xml[]
---- 

`custom` conditions are displayed in the *Custom conditions* section of the *Add condition* dialog:

image::gui_filter_custom.png[align="center"]

Attributes of `custom`:

[[gui_Filter_custom_name]]
** `name` − required attribute, condition name.

[[gui_Filter_custom_caption]]
** `caption` − required attribute, localized condition name. Generally it is a string with the `msg://` prefix in accordance with <<messageTools.loadString,MessageTools.loadString()>> rules.

[[gui_Filter_custom_paramClass]]
** `paramClass` − Java class of the condition parameter. If the parameter is not specified, this attribute is optional.

[[gui_Filter_custom_inExpr]]
** `inExpr` − should be set to `true`, if the JPQL expression contains `in (?)` conditions. In this case user will be able to enter several condition parameter values.

[[gui_Filter_custom_join]]
** `join` − optional attribute. It specifies a string, which will be added to the data source query `from` section. This can be required to create a complex condition based on an attribute of a related collection. `join` or `left join` statements should be included into the attribute value. 
+
For example, let us assume that the `Car` entity has a `repairs` attribute, which is a related entity `Repair` instances collection. Then the following condition can be created to filter `Car` by `Repair` entity's `description` attribute: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/filter_6.xml[]
---- 
+
If the condition above is used, the original data source query 
+
[source, jpql]
----
select c from sample$Car c order by c.createTs
----
+
will be transformed into the following one:
+
[source, jpql]
----
select c from sample$Car c join c.repairs cr
where (cr.description like ?)
order by c.createTs
----

** `paramWhere` − specifies a JPQL expression used to select the list of condition parameter values if the parameter is a related entity. See the description of the `property` element's <<gui_Filter_property_paramWhere,attribute>> of the same name.

** `paramView` − specifies a <<views,view>>, which will be used when a list of condition parameter values are loaded if the parameter is a related entity. See the description of the `property` element's <<gui_Filter_property_paramView,attribute>> of the same name.
--

`filter` attributes:

[[gui_Filter_editable]]
* `editable` – if the attribute value is `false`, the *Edit* option is disabled.

[[gui_Filter_manualApplyRequired]]
* `manualApplyRequired` − defines when the filter will be applied. If the attribute value is `false`, the filter (default or empty) will be applied when the screen is opened. It means that the datasource will be refreshed and linked components (e.g. `Table`) will display data. If the value is `true`, the filter will be applied only after the *Search* button is clicked.
+
This attribute takes precedence over the <<cuba.gui.genericFilterManualApplyRequired,cuba.gui.genericFilterManualApplyRequired>> application property.

[[gui_Filter_useMaxResults]]
*  `useMaxResults` − limits the page size of entity instances loaded into the data source. It is set to `true` by default. 
+
If the attribute value is `false`, the filter will not show the *Show rows* field. The number of records in the data source (and displayed in the table accordingly) will be limited only by the `MaxFetchUI` parameter of the <<entity_statistics,entity statistics>>, which is set to 10000 by default.
+
If the attribute is not specified or is `true`, the *Show rows* field will be displayed only if the user has specific `cuba.gui.filter.maxResults` <<permissions,permission>>. If the `cuba.gui.filter.maxResults` permission is not granted, the filter will force selecting only the first N rows without user to be able to disable it or specify another N. N is defined by `FetchUI`, `DefaultFetchUI` parameters. They are obtained from the <<entity_statistics,entity statistics>> mechanism.
+
A filter shown below has the following parameters: `useMaxResults="true"`, the `cuba.gui.filter.maxResults` permission is denied, and `cuba.gui.filter.maxResults` `DefaultFetchUI = 2.`

image::gui_filter_useMaxRezult.png[align="center"]

[[gui_Filter_textMaxResults]]
* `textMaxResults` - enables using the text field instead of the drop-down list as the *Show rows* field. `false` by default.

[[gui_Filter_folderActionsEnabled]]
* `folderActionsEnabled` − if it is set to `false`, the following filter actions will be hidden: *Save as Search Folder*, *Save as Application Folder*. By default, the attribute value is `true`, and *Save as Search Folder*, *Save as Application Folder* are available.

[[gui_Filter_applyTo]]
* `applyTo` − optional attribute, contains the identifier of a component associated with the filter. It is used when access to related component <<gui_Table_presentations,presentations>> is required. For example, when saving the filter as a <<search_folder,search folder>> or as an <<application_folder,application folder>>, the presentation that will be applied when browsing this folder can be specified.
+
image::gui_filter_apply_to.png[align="center"]

[[gui_Filter_caption]]
* `caption` - enables setting a custom caption for the filter panel.

[[gui_Filter_columnsCount]]
* `columnsCount` - defines the number of columns for conditions on the filter panel. Default value is 3.

[[gui_Filter_defaultMode]]
* `defaultMode` - defines the filter default mode. Possible values are `generic` and `fts`. When `fts` value is set then the filter will be opened in the full text search mode (if the entity is indexed). The default value is `generic`.

[[gui_Filter_modeSwitchVisible]]
* `modeSwitchVisible` - defines the visibility of the checkbox that switches the filter to the full text search mode. If full text search is unavailable then the checkbox will be invisible despite of the defined value. Possible values are `true` and `false` (`true` by default).

*Methods of Filter interface:*

* `setBorderVisible()` - defines if the filter border should be displayed. The default value is `true`.

*Listeners of Filter:*
[[gui_Filter_ExpandedStateChangeListener]]
* `ExpandedStateChangeListener` - enables tracking the expanded state changes.

[[gui_Filter_FilterEntityChangeListener]]
* `FilterEntityChangeListener` - is triggered when a filter is selected for the first time on a component initialization or later from the list of saved filters.

'''

Attributes of filter::
<<gui_Filter_applyTo,applyTo>> -
<<gui_Filter_caption,caption>> -
<<gui_Filter_columnsCount,columnsCount>> -
<<gui_attr_datasource,datasource>> -
<<gui_Filter_defaultMode,defaultMode>> -
<<gui_Filter_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_Filter_folderActionsEnabled,folderActionsEnabled>> -
<<gui_attr_id,id>> -
<<gui_Filter_manualApplyRequired,manualApplyRequired>> -
<<gui_attr_margin,margin>> -
<<gui_Filter_modeSwitchVisible,modeSwitchVisible>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_attr_stylename,stylename>> -
<<gui_Filter_textMaxResults,textMaxResults>> -
<<gui_Filter_useMaxResults,useMaxResults>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of filter::
<<gui_Filter_custom,custom>> -
<<gui_Filter_properties,properties>> -
<<gui_Filter_property,property>>

Attributes of properties::
<<gui_Filter_properties_exclude,exclude>> -
<<gui_Filter_properties_excludeProperties,excludeProperties>> -
<<gui_Filter_properties_include,include>>

Attributes of property::
<<gui_Filter_property_caption,caption>> -
<<gui_Filter_property_name,name>> -
<<gui_Filter_property_paramView,paramView>> -
<<gui_Filter_property_paramWhere,paramWhere>>

Attributes of custom::
<<gui_Filter_custom_caption,caption>> -
<<gui_Filter_custom_name,name>> -
<<gui_Filter_custom_inExpr,inExpr>> -
<<gui_Filter_custom_join,join>> -
<<gui_Filter_custom_paramClass,paramClass>> -
<<gui_Filter_property_paramView,paramView>> -
<<gui_Filter_property_paramWhere,paramWhere>>

API::
<<gui_api_expanded,addExpandedStateChangeListener>> -
<<gui_Filter_FilterEntityChangeListener,addFilterEntityChangeListener>> -
<<gui_api_settings,applySettings>> -
<<gui_api_margin,getMargin>> -
<<gui_api_settings,saveSettings>> -
<<gui_api_margin,setMargin>>

'''

[[gui_Filter_permissions]]
*User Permissions*

* To create/change/delete global (available to all users) filters, user must have the `cuba.gui.filter.global` <<permissions,permission>>.

* To create/change `custom` conditions user must have a `cuba.gui.filter.customConditions` permission.

* To change the maximum number of rows per table page using the *Show rows* field, user must have the `cuba.gui.filter.maxResults` permission. See also the <<gui_Filter_useMaxResults,useMaxResults>> filter attribute.

For specific permissions configuration information, see <<security_subsystem>>.

[[gui_Filter_ext_params]]
*External Filter Control Parameters*

[[gui_Filter_app_properties]]
* *System-wide parameters*
+
--
The following application properties affect filter behavior:

* <<cuba.gui.genericFilterManualApplyRequired,cuba.gui.genericFilterManualApplyRequired>> − disables automatic applying of the filter (i.e., data loading) when the screen is opened. See also <<gui_Filter_manualApplyRequired,manualApplyRequired>> filter attribute.

* <<cuba.gui.genericFilterChecking,cuba.gui.genericFilterChecking>> − enables the check that at least one condition is filled before applying the filter.

* <<cuba.gui.genericFilterControlsLayout,cuba.gui.genericFilterControlsLayout>> − defines an internal layout of the filter controls.

* <<cuba.allowQueryFromSelected,cuba.allowQueryFromSelected>> enables switching off <<gui_Filter_sequential_apply,sequential filters application>> mechanism.

* <<cuba.gui.genericFilterColumnsCount,cuba.gui.genericFilterColumnsCount>> - sets the default number of columns for placing conditions on the filter panel. See also <<gui_Filter_columnsCount,columnsCount>> filter attribute.

* <<cuba.gui.genericFilterConditionsLocation,cuba.gui.genericFilterConditionsLocation>> - defines the location of the conditions panel.

* <<cuba.gui.genericFilterPopupListSize,cuba.gui.genericFilterPopupListSize>> - defines the maximum number of items displayed in the popup list of the *Search* button.

* <<cuba.gui.genericFilterTrimParamValues,cuba.gui.genericFilterTrimParamValues>> - defines whether all generic text filters should trim input values.
--

[[gui_Filter_screen_parameters]]
* *Screen invocation parameters*
+
--
It is possible to specify a filter and its parameters which should be applied when the screen is opened. For this purpose, the filter should be created in advance, stored in the database, and a corresponding record in the `SEC_FILTER` table should have a value in the `CODE` field. Screen invocation parameters are set in the `web-menu.xml` configuration file.

In order to store the filter in the database, the insert script for the filter should be added to the `30.create-db.sql` script of the entity. To simplify the script creation, find the filter in the *Entity Inspector* section of the *Administration* menu, in the filter's context menu choose *System Information*, click *Script for insert* button and copy the script.

Then you can adjust the screen to use the filter by default. To specify a filter code, pass to the screen a parameter with the same name as filter component identifier in this screen. Parameter value should be the code of the filter.

To set filter parameter values, pass to the screen parameters with the names equal to parameter names and their values in string format.

An example of main menu item descriptor is shown below. It sets a filter with the `FilterByVIN` code to the `carsFilter` component of the `sample$Car.browse` screen which it opens. It also sets `TMA` value to the `component$carsFilter.vin79216` condition:

[source, xml]
----
include::{sourcesdir}/gui_vcl/filter_ext_param_1.xml[]
----

It should be noted that a filter with a defined `CODE` field has some specifics:

* It cannot be edited by users.

* Name of this filter can be displayed in several languages. To achieve this, specify a string with key equal to the filter code in the application <<main_message_pack,main message pack>>.
--

[[gui_Filter_sequential_apply]]
*Applying Filters Sequentially*

If the <<cuba.allowQueryFromSelected,cuba.allowQueryFromSelected>> application property is enabled, the last applied filter and the current filtered results can be pinned via the component's user interface. After that another filter or other parameters of the current filter can be selected and applied to the currently selected records.

This approach helps to achieve two aims:

* Decompose complex filters, which may lead to better performance as well.

* Apply filters to the records selected using <<application_folder,application>> or <<search_folder,search>> folders.

Take the following steps to use sequential filters. First, choose and apply one of the filters. Next click the filter settings button and select *Pin applied*. The filter will be pinned at the top of the filter panel. Then another filter can be applied to the selected records and so on. Any number of filters can be applied sequentially. Filters can also be removed using image:gui_filter_remove.png[] button.

image::gui_filter_sequential.png[align="center"]

The sequential filters implementation is based on the ability of <<dataManager,DataManager>> to run <<query_from_selected,sequential queries>>.

[[gui_Filter_params_api]]
*API for Working with Filter Parameters*

The `Filter` interface provides methods for reading and writing of filter parameter values in a screen controller:

* `setParamValue(String paramName, Object value)`
* `getParamValue(String paramName)`

`paramName` - filter parameter name. Parameter name is a part of component name that displays a parameter value. The procedure of getting a component name was described <<gui_Filter_parameter_component_name,above>>. Parameter name is placed after the last dot in a component name. For example, if the component name is `component$filter.model_manufacturer90062`, then the parameter name is `model_manufacturer90062`.

Note that you cannot use these methods in the <<abstractFrame,init()>> method of the screen controller, because the filter is not initialized at that moment. A good place to work with filter parameters is the <<abstractWindow,ready()>> method.

[[gui_Filter_fts]]
*Full-Text Search Mode in Filter*

If a filter datasource contains entities that are indexed by the full-text search subsystem (see link:{fts_man_url}[CUBA Platform. Full Text Search]), then a full-text search mode is available in the filter. Use the *Full-Text Search* checkbox to switch to this mode.

image::gui_filter_fts.png[align="center"]

In the full-text search mode, the filter contains text fields for search criteria, and the search is performed in entity fields indexed by the FTS subsystem.

If a table is defined in the <<gui_Filter_applyTo,applyTo>> attribute, then placing the mouse cursor on the table row will display a tooltip with the information what entity attributes satisfy the search criteria.

For hiding the filter mode checkbox, set `false` value to the <<gui_Filter_modeSwitchVisible,modeSwitchVisible>> filter attribute.

If you want the filter to be opened in the full-text search mode by default, set `fts` value to the <<gui_Filter_defaultMode,defaultMode>> filter attribute.

Full-text search can be used combined with any number of filter conditions:

image::book_publication_fts_filter.png[align="center"]

The *FTS condition* can be selected in the conditions selection window.

[[gui_GroupTable]]
====== GroupTable

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=group-table" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/GroupTable.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`GroupTable` component is a table with an ability to group information dynamically by any field. In order to group a table by a column the required column should be dragged to the left and dropped on the image:gui_groupTableIcon.png[] element of the table header. Grouped values can be expanded and collapsed using image:gui_groupBox_plus.png[]/image:gui_groupBox_minus.png[] buttons.

image::gui_groupTableDragColumn.png[align="center"]

XML name of the component: `groupTable`.

Component is implemented only for *Web Client*. In *Desktop Client* it behaves like a regular table.

<<datasources,groupDatasource>> must be specified for `GroupTable` in the `datasource` attribute of the `rows` element. Otherwise, grouping will not work. Example:

[source, xml]
----
include::{sourcesdir}/gui_vcl/grouptable_1.xml[]
---- 

[[gui_GroupTable_group]]
`group` is an optional element that can be present in a single instance inside <<gui_Table_columns,columns>>. It contains a set of `column` elements, by which grouping will be performed initially when opening a screen.

[[gui_GroupTable_groupAllowed]]
Each `column` element can contain the `groupAllowed` attribute with boolean value. This attribute controls whether a user can group by this column.

[[gui_GroupTable_showTotalAggregation]]
If `aggregatable` attribute is `true`, the table shows aggregation results for each group and results for all rows in an additional row on the top. If `showTotalAggregation` attribute is `false`, results for all rows are not shown.

If `multiselect` attribute is `true`, the click to the group row holding down the *Ctrl* key will expand the group (if collapsed) and set the selection to all rows of this group. The converse is not true: if the whole group is selected, *Ctrl+click* will not deselect all the group. You still can deselect certain rows using the common *Ctrl* key behaviour.

Methods of the `GroupTable` interface: ::
+
--
[[gui_GroupTable_groupByColumns]]
* `groupByColumns()` - performs grouping by the given table columns.
+
The example below will group the table first by the department name, and then by city:
+
[source, java]
----
groupTable.groupByColumns("department", "city");
----

[[gui_GroupTable_ungroupByColumns]]
* `ungroupByColumns()` - resets grouping by the given columns.
+
The following example will ungroup the table by department, while grouping by city from the previous snippet will be kept.
+
[source, java]
----
groupTable.ungroupByColumns("department");
----

[[gui_GroupTable_ungroup]]
* `ungroup()` - resets grouping at all.
--

The rest of the `GroupTable` functionality is similar to a simple <<gui_Table,Table>>.

'''

Attributes of groupTable::
<<gui_attr_align,align>> -
<<gui_Table_aggregatable,aggregatable>> -
<<gui_Table_aggregationStyle,aggregationStyle>> -
<<gui_Table_columnControlVisible,columnControlVisible>> -
<<gui_Table_allowPopupMenu,contextMenuEnabled>> -
<<gui_Table_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_Table_multiLineCells,multiLineCells>> -
<<gui_Table_multiselect,multiselect>> -
<<gui_Table_presentations,presentations>> -
<<gui_Table_reorderingAllowed,reorderingAllowed>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_GroupTable_showTotalAggregation,showTotalAggregation>> -
<<gui_Table_sortable,sortable>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_textSelectionEnabled,textSelectionEnabled>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of groupTable::
<<gui_Table_actions,actions>> -
<<gui_Table_buttonsPanel,buttonsPanel>> -
<<gui_Table_columns,columns>> -
<<gui_Table_rows,rows>> -
<<gui_Table_rowsCount,rowsCount>>

Elements of columns::
<<gui_Table_columns,column>> -
<<gui_GroupTable_group,group>>

Attributes of <<gui_Table_columns,column>>::
<<gui_Table_column_align,align>> -
<<gui_Table_column_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_Table_column_collapsed,collapsed>> -
<<gui_DateField_dateFormat,dateFormat>> -
<<gui_Table_column_editable,editable>> -
<<gui_GroupTable_groupAllowed,groupAllowed>> -
<<gui_Table_column_id,id>> -
<<gui_Table_column_link,link>> -
<<gui_Table_column_linkInvoke,linkInvoke>> -
<<gui_Table_column_linkScreen,linkScreen>> -
<<gui_Table_column_linkScreenOpenType,linkScreenOpenType>> -
<<gui_Table_column_maxTextLength,maxTextLength>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_DateField_resolution,resolution>> -
<<gui_Table_column_sortable,sortable>> -
<<gui_attr_visible,visible>> -
<<gui_Table_column_width,width>>

Elements of <<gui_Table_columns,column>>::
<<gui_Table_column_aggregation,aggregation>> -
<<gui_formatter,formatter>>

Attributes of <<gui_Table_rows,rows>>::
<<gui_attr_datasource,datasource>>

API::
<<gui_Table_ColumnCollapseListener,addColumnCollapseListener>> -
<<gui_GroupTable_groupByColumns,groupByColumns>> -
<<gui_Table_CellClickListener,setClickListener>> -
<<gui_GroupTable_ungroup,ungroup>> -
<<gui_GroupTable_ungroupByColumns,ungroupByColumns>>

'''

[[gui_Image]]
====== Image

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=url-image" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Image.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`Image` component is designed for displaying images from different sources. The component can be bound to a datasource or configured programmatically.

XML name of the component: `image`.

The `Image` component can display the value of an entity attribute of `FileDescriptor` or `byte[]` type. In the simplest case `image` can be declaratively associated with data using the `datasource` and `property` attributes:

[source, xml]
----
<image id="image" datasource="employeeDs" property="avatar"/>
----

In the example above, component displays the `avatar` attribute of the `Employee` entity located in the `employeeDs` datasource.

Alternatively, the `Image` component can display images from different resources. You can set the resource type declaratively using the `image` elements listed below:

[[gui_Image_classpath]]
* `classpath` - a resource in the classpath.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_4.xml[]
----

[[gui_Image_file]]
* `file` - a resource in the file system.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_2.xml[]
----

[[gui_Image_relativePath]]
* `relativePath` - resource in the application directory.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_10.xml[]
----

[[gui_Image_theme]]
* `theme` - a <<web_theme,theme>> resource, e.g.,`VAADIN/themes/customTheme/some/path/image.png`.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_3.xml[]
----

[[gui_Image_url]]
* `url` - a resource which can be loaded from the given URL.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_1.xml[]
----

`image` attributes:

[[gui_Image_scaleMode]]
* `scaleMode` - applies the scale mode to the image. The following scale modes are available:
+
--
* `FILL` - the image will be stretched according to the size of the component.

* `CONTAIN` - the image will be compressed or stretched to the minimum dimension of the component while preserving the proportions.

* `SCALE_DOWN` - the content changes size by comparing the difference between `NONE` and `CONTAIN` in order to find the smallest concrete size of the object.

* `NONE` - the image will retain its real size.
--

[[gui_Image_alternateText]]
* `alternateText` - sets an alternate text for an image in case the resource is not set or unavailable.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_14.xml[]
----

`image` resources settings:

[[gui_Image_bufferSize]]
* `bufferSize` - the size of the download buffer in bytes used for this resource.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_13.xml[]
----

[[gui_Image_cacheTime]]
* `cacheTime` - the length of cache expiration time in milliseconds.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_11.xml[]
----

[[gui_Image_mimeType]]
* `mimeType` - the MIME type of the resource.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/image_12.xml[]
----

Methods of the `Image` interface:

[[gui_Image_setDatasource]]
* `setDatasource()` - sets the datasource and the entity attribute name. Only `FileDescriptor` and `byte[]` attributes are supported.
+
The datasource can be set programmatically, for example, to display images in table cells:
+
[source,java]
----
include::{sourcesdir}/gui_vcl/image_8.java[]
----
+
image::gui_Image_1.png[align="center"]

[[gui_Image_setSource]]
* `setSource()` - sets the content source for the component. The method accepts the resource type and return the resource object that can be configured using the fluent interface. Each resource type has its own methods, for example, `setPath()` for `ThemeResource` type or `setStreamSupplier()` for `StreamResource` type:
+
--
[source,java]
----
include::{sourcesdir}/gui_vcl/image_7.java[]
----

or

[source,java]
----
include::{sourcesdir}/gui_vcl/image_9.java[]
----

You can use one of the following resource types implementing the `Resource` interface or extend it to create a custom resource:

* `ClasspathResource` - an image located in classpath. This resource can be also set declaratively using the `classpath` element of the `image` component.

* `FileDescriptorResource` - an image which can be obtained from the `FileStorage` using the given `FileDescriptor`.

* `FileResource` - an image stored in the file system. This resource can be also set declaratively using the `file` element of the `image` component.

* `RelativePathResource` - an image stored in a directory of the application. This resource can be also set declaratively using the `relativePath` element of the `image` component.

* `StreamResource` - an image from a stream.

* `ThemeResource` - a theme image, for example, `VAADIN/themes/yourtheme/some/path/image.png`. This resource can be also set declaratively using the `theme` element of the `image` component.

* `UrlResource` - an image which can be loaded from the given URL. This resource can be also set declaratively using the `url` element of the `image` component.
--

[[gui_Image_createResource]]
* `createResource()` - creates the image resource implementation by its type. The created object can be later passed to the `setSource()` method.
+
--
[source,java]
----
include::{sourcesdir}/gui_vcl/image_6.java[]
----
--

[[gui_Image_ClickListener]]
* `addClickListener()` - adds a listener that will be notified when a user clicks on an image area.
+
[source,java]
----
include::{sourcesdir}/gui_vcl/image_15.java[]
----

[[gui_Image_SourceChangeListener]]
* `addSourceChangeListener()` - adds a listener that will be notified when a source of an image is changed.

'''

Attributes of image::
<<gui_attr_align,align>> -
<<gui_Image_alternateText,alternateText>> -
<<gui_attr_caption,caption>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_responsive,responsive>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_Image_scaleMode,scaleMode>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Attributes of image resources::
<<gui_Image_bufferSize,bufferSize>> -
<<gui_Image_cacheTime,cacheTime>> -
<<gui_Image_mimeType,mimeType>>

Elements of image::
<<gui_Image_classpath,classpath>> -
<<gui_Image_file,file>> -
<<gui_Image_relativePath,relativePath>> -
<<gui_Image_theme,theme>> -
<<gui_Image_url,url>>

API::
<<gui_Image_ClickListener,addClickListener>> -
<<gui_Image_SourceChangeListener,addSourceChangeListener>> -
<<gui_Image_createResource,createResource>> -
<<gui_Image_scaleMode,setScaleMode>> -
<<gui_Image_setDatasource,setDatasource>> -
<<gui_Image_setSource,setSource>>

'''

[[gui_Label]]
====== Label

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-label" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Label.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`Label` is a text component that displays static text or value of an entity attribute.

XML name of the component: `label`

The `Label` component is implemented for *Web Client* and *Desktop Client*.

Below is an example of setting a label with text taken from the <<message_packs,localized message pack>>: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/label_1.xml[]
---- 

[[gui_Label_value]]
The `value` attribute sets text for a label.

In a web client, the text contained in `value` will be split into multiple lines if its length exceeds the <<gui_attr_width,width>> value. Therefore, to display a multiline label, it is sufficient to specify an absolute value of <<gui_attr_width,width>>. If the label text is too long and the value of <<gui_attr_width,width>> is not specified, the text will be truncated.

[source, xml]
----
include::{sourcesdir}/gui_vcl/label_2.xml[]
----

You can set label parameters in the screen controller. To do this, you should specify a component identifier and get a reference to the component in the controller:

[source, xml]
----
include::{sourcesdir}/gui_vcl/label_3.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/label_4.java[]
---- 

The `Label` component can display value of an entity attribute. For this purpose, <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes are used. For example:

[source, xml]
----
include::{sourcesdir}/gui_vcl/label_5.xml[]
---- 

In the example above, component displays the `name` attribute of the `Customer` entity located in the `customerDs` data source.

[[gui_Label_htmlEnabled]]
`htmlEnabled` attribute indicates the way the <<gui_Label_value,value>> attribute will be interpreted: if `htmlEnabled="true"`, the attribute will be treated as HTML code, otherwise as a plain string. Note that the desktop implementation of the screen does not support all HTML tags.

[[gui_Label_stylenames]]
Label styles::
+
--
In Web Client with a Halo-based theme, you can set predefined styles to the `Label` component using the `stylename` attribute either in the XML descriptor or in the screen controller:
[source, xml]
----
include::{sourcesdir}/gui_vcl/label_6.xml[]
----
When setting a style programmatically, select one of the `HaloTheme` class constants with the `LABEL_` prefix:
[source, java]
----
include::{sourcesdir}/gui_vcl/label_7.java[]
----

[[gui_label_bold]]
* `bold` - bolder font weight. Suitable for important/prominent UI text.

[[gui_label_colored]]
* `colored` - colored text.

[[gui_label_failure]]
* `failure` - failure badge style. Adds a border around the label and an icon next to the text. Suitable for UI notifications that need to be used in the direct context of some component.

[[gui_label_h1]]
* `h1` - header style for main application headings.

[[gui_label_h2]]
* `h2` - header style for different sections in the application.

[[gui_label_h3]]
* `h3` - header style for different sub-sections in the application.

[[gui_label_h4]]
* `h4` - header style for different sub-sections in the application.

[[gui_label_light]]
* `light` - lighter font weight. Suitable for additional/supplementary UI text.

[[gui_label_no-margin]]
* `no-margin` - removes default margins from the header.

[[gui_label_spinner]]
* `spinner` - spinner style. Add this style name to an empty `Label` to create a spinner.

[[gui_label_success]]
* `success` - success badge style. Adds a border around the label and an icon next to the text. Suitable for UI notifications that need to be used in the direct context of some component.

--

'''

Attributes of label::
<<gui_attr_align,align>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_Label_htmlEnabled,htmlEnabled>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_attr_stylename,stylename>> -
<<gui_Label_value,value>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of label::
<<gui_formatter,formatter>>

Predefined styles of label::
<<gui_label_bold,bold>> -
<<gui_label_colored,colored>> -
<<gui_label_failure,failure>> -
<<gui_label_h1,h1>> -
<<gui_label_h2,h2>> -
<<gui_label_h3,h3>> -
<<gui_label_h4,h4>> -
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>> -
<<gui_label_light,light>> -
<<gui_label_no-margin,no-margin>> -
<<gui_attr_stylename_small,small>> -
<<gui_label_spinner,spinner>> -
<<gui_label_success,success>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>>

'''

[[gui_Link]]
====== Link

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-link" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Link.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`Link` is a hyperlink, which enables uniform opening of external web resources for the Web and Desktop client.

XML-name of the component: `link`

An example of XML-description for `link`: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/link_1.xml[]
---- 

`link` attributes:

[[gui_Link_url]]
* `url` – the URL of the web resource.

[[gui_Link_target]]
* `target` – sets the web page opening mode for the Web Client, the same as the `target` attribute of the `<a>` HTML element.

[[gui_Link_rel]]
* `rel` - an optional attribute that specifies the relationship between the current document and the linked document. It corresponds to the `rel` HTML attribute which is placed within the `<a>` tag.
+
Default value is `"noopener noreferrer"`.
+
** `noopener` - indicates that any browsing context created by following the link will not have an opener browsing context, which means that its `window.opener` property will be `null`.
+
** `noreferrer` indicates that no HTTP referer header is to be sent when following the link.

'''

Attributes of link::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_Link_rel,rel>> -
<<gui_attr_stylename,stylename>> -
<<gui_Link_url,url>> -
<<gui_Link_target,target>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

'''

[[gui_LinkButton]]
====== LinkButton

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=link-button" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/LinkButton.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`LinkButton` is a button that looks like a hyperlink.

XML name of the component: `linkButton`

The link button component is implemented for *Web Client* and *Desktop Client*.

The link button can contain text or icon (or both). The figure below shows different types of buttons.

image::gui_linkButtonTypes.png[align="center"]

The link button differs from regular `Button` only in its appearance. All properties and behavior are identical to those described for <<gui_Button,Button>>.

Below is an example of XML description of a link button that invokes the `someMethod()` method of a controller. The link button has a caption (the <<gui_attr_caption,caption>> attribute), a tooltip (the <<gui_attr_description,description>> attribute) and an icon (the <<gui_attr_icon,icon>> attribute):

[source, xml]
----
include::{sourcesdir}/gui_vcl/linkbutton_1.xml[]
---- 

'''

Attributes of linkButton::
<<gui_Button_action,action>> -
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_Button_invoke,invoke>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

'''

[[gui_LookupField]]
====== LookupField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-lookupfield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/LookupField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

This is a component to select a value from drop-down list. Drop-down list provides the filtering of values as the user inputs some text, and the pagination of available values.

image::gui_lookupField.png[align="center"]

XML name of the component: `lookupField`.

The `LookupField` component is implemented for *Web Client* and *Desktop Client*.

. The simplest case of using `LookupField` is to select an enumeration value for an entity attribute. For example, a `Role` entity has a `type` attribute of the `RoleType` type, which is an enumeration. Then you can use `LookupField` to edit this attribute as follows:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/lookupfield_1.xml[]
---- 
+
In the example above, the screen defines `roleDs` <<datasources,data source>> for the `Role` entity. In the `lookupField` component, a link to a data source is specified in the <<gui_attr_datasource,datasource>> attribute, and a name of an entity attribute is specified in the <<gui_attr_property,property>> attribute. In this case, the entity attribute is an enumeration and the drop-down list will display <<enum_localization,localized names>> of all enumeration values.

. Similarly, `LookupField` can be used to select an instance of a related entity. <<gui_attr_optionsDatasource,optionsDatasource>> attribute is used to create a list of options:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/lookupfield_2.xml[]
---- 
+
In this case, the component will display <<namePattern_annotation,instance names>> of the `Colour` entity located in the `colorsDs` data source, and the selected value will be set into the `colour` attribute of the `Car` entity, which is located in the `carDs` data source.
+
<<gui_attr_captionProperty,captionProperty>> attribute defines which entity attribute can be used instead of an instance name for string option names.

. The list of component options can be specified arbitrarily using the `setOptionsList()`, `setOptionsMap()` and `setOptionsEnum()` methods, or using the XML `optionsDatasource` attribute.
+
--
[[gui_LookupField_setOptionsList]]
* `setOptionsList()` allows you to programmatically specify a list of component options. To do this, declare a component in the XML descriptor:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/lookupfield_3.xml[]
---- 
+
Then inject the component into the controller and specify a list of options in the `init()` method: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_4.java[]
---- 
+
In the component's drop-down list the values 2, 4, 5 and 7 will be displayed. Selected number will be put into the `numberOfSeats` attribute of an entity located in the `modelDs` data source.

[[gui_LookupField_setOptionsMap]]
* `setOptionsMap()` allows you to specify string names and option values separately. For example, in the `numberOfSeatsField` component in the XML descriptor, specify an option map in `init()`:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_5.java[]
---- 
+
In the component's drop-down list, `*two*`, `*four*`, `*five*`, `*seven*` strings will be displayed. However, the value of the component will be a number that corresponds to the selected option. It will be put into the `numberOfSeats` attribute of an entity located in the `modelDs` data source.

[[gui_LookupField_setOptionsEnum]]
* `setOptionsEnum()` takes the class of an enumeration as a parameter. The drop-down list will show localized names of enum values, the value of the component will be an enum value.
--

[[gui_LookupField_OptionsStyleProvider]]
* `OptionsStyleProvider` enables you to use separate style names for the the options displayed by the component using the `setOptionsStyleProvider()` method:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupField_10.java[]
----

[[gui_LookupField_iconProvider]]
* Each drop-down list component can have an icon on the left. Create an implementation of the `LookupField.OptionIconProvider` interface in the screen controller and set it for the `lookupField`:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_8.java[]
----
+
image::gui_lookupField_2.png[align="center"]
+
[TIP]
====
If you use SVG icons, set the icon size explicitly to avoid icons overlay.
====
+
[source, xml]
----
<svg version="1.1"
     id="Capa_1"
     xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     xml:space="preserve"

     style="enable-background:new 0 0 55 55;"
     viewBox="0 0 55 55"

     height="25px"
     width="25px">
----

* If the `LookupField` component is not <<gui_attr_required,required>> and if the related entity attribute is not declared as required, the list of component options has an empty row. If this row is selected, the component returns `null`. The <<gui_attr_nullName,nullName>> attribute allows you to specify a row to be displayed in this case instead of an empty one. Below is an example:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_6.xml[]
---- 
+
In this case, instead of an empty row, `(none)` will be displayed. If this row is selected, `null` will be set to a related entity attribute.
+
If you specify a list of options programmatically using `setOptionsList()`, you can pass one of the options into `setNullOption()` method. Then, if the user selects it, the component value will be `null`.

LookupField filters: ::
+
--
[[gui_LookupField_filterMode]]
* Using the `filterMode` attribute, option filtering type can be defined for the user input:
+
** `NO` − no filtering.
+
** `STARTS_WITH` − by the beginning of a phrase.
+
** `CONTAINS` − by any occurrence (is used by default).

[[gui_LookupField_setFilterPredicate]]
* The `setFilterPredicate()` method enables to setup how items should be filtered. The predicate tests whether an item with the given caption matches to the given search string. For example:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_11.java[]
----
+
The functional interface `FilterPredicate` has the `test` method that enables implementing custom filtering logic, for example, to escape accents or special characters:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_12.java[]
----
--

[[gui_LookupField_newOptionHandler]]
* The `LookupField` component is able to handle user input if there is no suitable option in the list. In this case, `setNewOptionAllowed()` and `setNewOptionHandler()` are used. For example:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_7.java[]
---- 
+
The `NewOptionHandler` handler is invoked if the user enters a value that does not coincide with any option and presses Enter. In this case, a new `Colour` entity instance is created in the handler, its `name` attribute is set to the value entered by the user, this instance is added to the options data source and selected in the component.
+
Instead of implementing the `LookupField.NewOptionHandler` interface for processing user input, the controller method name can be specified in the `newOptionHandler` XML-attribute. This method should have two parameters, one of `LookupField` type, and the other of `String` type. They will be set to the component instance and the value entered by the user, accordingly. The `newOptionAllowed` attribute is used to enable adding new options instead of the `setNewOptionAllowed()` method.

[[gui_LookupField_nullOptionVisible]]
* The `nullOptionVisible` XML attribute sets visibility for the null option in the drop-down list. It allows you to make `LookupField` not <<gui_attr_required,required>> but still without the null option.

[[gui_LookupField_textInputAllowed]]
* The `textInputAllowed` XML attribute can be used to disable filtering options from keyboard. It can be convenient for short lists. The default value is `true`.

[[gui_LookupField_pageLength]]
* The `pageLength` XML attribute allows you to redefine the number of options on one page of the drop-down list, specified in the <<cuba.gui.lookupFieldPageLength,cuba.gui.lookupFieldPageLength>> application property.

* In Web Client with a Halo-based theme, you can set predefined styles to the `LookupField` component using the `stylename` attribute either in the XML descriptor or in the screen controller:
+
--
[source, xml]
----
include::{sourcesdir}/gui_vcl/lookupfield_8.xml[]
----

When setting a style programmatically, select one of the `HaloTheme` class constants with the `LOOKUPFIELD_` prefix:
[source, java]
----
include::{sourcesdir}/gui_vcl/lookupfield_9.java[]
----

LookupField styles:

[[gui_LookupField_align-center]]
*  `align-center` - align the text inside the field to center.

[[gui_LookupField_align-right]]
* `align-right` - align the text inside the field to the right.

[[gui_LookupField_borderless]]
* `borderless` - removes the border and background from the text field.

--

'''

Attributes of lookupField:: 
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_LookupField_filterMode,filterMode>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_inputPrompt,inputPrompt>> -
<<gui_LookupField_newOptionHandler,newOptionAllowed>> -
<<gui_LookupField_newOptionHandler,newOptionHandler>> -
<<gui_attr_nullName,nullName>> -
<<gui_LookupField_nullOptionVisible,nullOptionVisible>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_attr_optionsEnum,optionsEnum>> -
<<gui_LookupField_pageLength,pageLength>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_LookupField_textInputAllowed,textInputAllowed>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of lookupField::
<<gui_validator,validator>>

Predefined styles of lookupField::
<<gui_LookupField_align-right,align-right>> -
<<gui_LookupField_align-center,align-center>> -
<<gui_LookupField_borderless,borderless>> -
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_LookupField_setFilterPredicate,setFilterPredicate>> -
<<gui_LookupField_setOptionsEnum,setOptionsEnum>> -
<<gui_LookupField_setOptionsList,setOptionsList>> -
<<gui_LookupField_setOptionsMap,setOptionsMap>> -
<<gui_LookupField_OptionsStyleProvider,setOptionsStyleProvider>>

'''

[[gui_LookupPickerField]]
====== LookupPickerField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-lookuppickerfield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/LookupPickerField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `LookupPickerField` component enables to display an entity instance in a text field, select an instance in a drop-down list and perform actions by pressing buttons on the right.

image::gui_lookupPickerField.png[align="center"]

XML name of the component: `lookupPickerField`.

The component is implemented for *Web Client* and *Desktop Client*.

In fact, `LookupPickerField` is a hybrid of <<gui_LookupField,LookupField>> and <<gui_PickerField,PickerField>>. Thus it has the same features except the default list of actions added when determining the component in XML: for `LookupPickerField` these are `lookup` image:lookupBtn.png[] and `open` image:openBtn.png[] actions.

Below is an example of using `LookupPickerField` to select a value of the `colour` reference attribute of the `Car` entity: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/lookuppickerfield_1.xml[]
---- 

'''

Attributes of lookupPickerField::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_LookupField_filterMode,filterMode>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_inputPrompt,inputPrompt>> -
<<gui_PickerField_metaclass,metaClass>> -
<<gui_LookupField_newOptionHandler,newOptionAllowed>> -
<<gui_LookupField_newOptionHandler,newOptionHandler>> -
<<gui_attr_nullName,nullName>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_LookupField_pageLength,pageLength>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of lookupPickerField::
<<gui_Action,actions>> -
<<gui_validator,validator>>

Predefined styles of lookupPickerField::
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_LookupField_OptionsStyleProvider,setOptionsStyleProvider>>

'''

[[gui_MaskedField]]
====== MaskedField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=masked-field" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/MaskedField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

This is a text field, in which data is entered in a predefined format. For example, it is convenient to use `MaskedField` to enter telephone numbers. 

XML name of the component: `maskedField`.

The `MaskedField` component is implemented for *Web Client* only.

Basically, `MaskedField` repeats the functionality of <<gui_TextField,TextField>>, except that you cannot set `datatype` for it. So, `MaskedField` is intended for work only with text and entity attributes of type `String`. `MaskedField` has the following specific attributes:

[[gui_MaskedField_mask]]
* `mask` – sets a mask for the field. To set a mask, use the following characters:

** `#` – number

** `U` – uppercase letter

** `L` – lowercase letter

** `?` – letter

** `А` – letter or number

** `*` – any character

** `H` – uppercase hex character

** `H` – lowercase hex character

** `~` – " +" or "-" character

[[gui_MaskedField_valueMode]]
* `valueMode` – defines a format of a returned value (with a mask or not) and can take either `masked` or `clear`.

Example of a text field with a mask for entering telephone numbers is provided below: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/maskedfield_1.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/maskedfield_2.java[]
---- 

image::gui_MaskedField.png[align="center"]

image::gui_MaskedField_maskedValueMode.png[align="center"]

'''

Attributes of maskedField::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_MaskedField_mask,mask>> -
<<gui_TextField_maxLength,maxLength>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_TextField_trim,trim>> -
<<gui_MaskedField_valueMode,valueMode>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of maskedField::
<<gui_validator,validator>>

API::
<<gui_TextField_EnterPressListener,addEnterPressListener>> -
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_OptionsGroup]]
====== OptionsGroup

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-optionsgroup" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/OptionsGroup.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

This is a component that allows a user to choose from a list of options. Radio buttons are used to select a single value; a group of checkboxes is used to select multiple values.

image::gui_optionsGroup.png[align="center"]

XML name of the component: `optionsGroup`.

The `OptionsGroup` component is implemented for *Web Client* and *Desktop Client*.

* The simplest case of using `OptionsGroup` is to select an enumeration value for an entity attribute. For example, a `Role` entity has `type` attribute of the `RoleType` type, which is an enumeration. Then you can use `OptionsGroup` to edit this attribute as follows: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/optionsgroup_1.xml[]
---- 
+
In the example above `roleDs` <<datasources,data source>> is defined for the `Role` entity. In the `optionsGroup` component, the link to the data source is specified in the <<gui_attr_datasource,datasource>> attribute and the name of the entity attribute is set in the <<gui_attr_property,property>> attribute.
+
As a result, the component will be as follows:

image::gui_optionsGroup_roleType.png[align="center"]

* The list of component options can be specified arbitrarily using the `setOptionsList()`, `setOptionsMap()` and `setOptionsEnum()` methods, or using an `optionsDatasource` attribute.

[[gui_OptionsGroup_setOptionsList]]
** `setOptionsList()` allows you to specify programmatically a list of component options. To do this, declare a component in the XML descriptor: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/optionsgroup_2.xml[]
---- 
+
Then inject the component into the controller and specify a list of options in the `init()` method: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/optionsgroup_3.java[]
---- 
+
The component will be as follows:
+
image::gui_optionsGroup_integerList.png[align="center"]
+
Depending on the selected option, the `getValue()` method of the component will return `Integer` values: 2, 4, 5, 7.

[[gui_OptionsGroup_setOptionsMap]]
** `setOptionsMap()` allows you to specify string names and option values separately. For example, we can set the following options map for the `numberOfSeatsField` component, described the XML descriptor, in the `init()` method of the controller: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/optionsgroup_4.java[]
---- 
+
The component will be as follows:
+
image::gui_optionsGroup_integerMap.png[align="center"]
+
Depending on the selected option, the `getValue()` method of the component will return `Integer` values: 2, 4, 5, 7, and not the strings that are displayed on the screen.

[[gui_OptionsGroup_setOptionsEnum]]
** `setOptionsEnum()` takes a class of enumeration as a parameter. The options list will consist of localized names of enum values, the value of the component will be an enum value.

** The component can take a list of options from a data source. For this purpose, the <<gui_attr_optionsDatasource,optionsDatasource>> attribute is used. For example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/optionsgroup_5.xml[]
---- 
+
In this case, the `coloursField` component will display <<namePattern_annotation,instance names>> of the `Colour` entity, located in the `coloursDs` data source, and its `getValue()` method will return the selected entity instance.
+
With the help of <<gui_attr_captionProperty,captionProperty>> attribute entity attribute to be used instead of an instance name for string option names can be defined.

[[gui_OptionsGroup_multiselect]]
* `multiselect` attribute is used to switch `OptionsGroup` to a multiple choice mode. If `multiselect` is turned on, the component is displayed as a group of independent checkboxes, and the component value is a list of selected options.
+
For example, if we create the component in the XML screen descriptor: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/optionsgroup_6.xml[]
---- 
+
and set a list of options for it – `RoleType` enumeration values: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/optionsgroup_7.java[]
---- 
+
then the component will be as follows:
+
image::gui_optionsGroup_roleType_multi.png[align="center"]
+
In this case the `getValue()` method of the component will return a `java.util.List`, containing `RoleType.READONLY` and `RoleType.DENYING` values.
+
The example above also illustrates an ability of the `OptionsGroup` component to display localized values of enumerations included in the data model.
+
You can also make some values selected programmatically by passing a `java.util.List` of values to the `setValue()` method:
+
[source, java]
----
optionsGroup.setValue(Arrays.asList(RoleType.STANDARD, RoleType.ADMIN));
----

[[gui_OptionsGroup_orientation]]
* The `orientation` attribute defines the orientation of group elements. By default, elements are arranged vertically. The `horizontal` value sets the horizontal orientation.

'''

Attributes of optionsGroup::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_OptionsGroup_multiselect,multiselect>> -
<<gui_attr_height,height>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_attr_optionsEnum,optionsEnum>> -
<<gui_OptionsGroup_orientation,orientation>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of optionsGroup::
<<gui_validator,validator>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_OptionsGroup_setOptionsEnum,setOptionsEnum>> -
<<gui_OptionsGroup_setOptionsList,setOptionsList>> -
<<gui_OptionsGroup_setOptionsMap,setOptionsMap>>

'''

[[gui_OptionsList]]
====== OptionsList

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/OptionsList.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`OptionsList` is a variation of the <<gui_OptionsGroup,OptionsGroup>> component which represents the list of options as a vertical scrollable list. If multi-select is enabled, multiple items can be selected by holding the Ctrl key while clicking, or as a range by holding the Shift key.

image::gui_optionsList.png[align="center"]

XML name of the component: `optionsList`.

The `OptionsList` component is implemented for *Web Client*.

[[gui_OptionsGroup_nullOptionVisible]]
By default the `OptionsList` component displays the first null element in suggestion popup, this can be disabled with the help of `nullOptionVisible` attribute set to `false`.

The only difference in API between `OptionsList` and <<gui_OptionsGroup,OptionsGroup>> is that `OptionsList` has no `orientation` attribute.

'''

Attributes of optionsList::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_OptionsGroup_multiselect,multiselect>> -
<<gui_OptionsGroup_nullOptionVisible,nullOptionVisible>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_attr_optionsEnum,optionsEnum>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of optionsList::
<<gui_validator,validator>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_PasswordField]]
====== PasswordField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-passwordfield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/PasswordField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

This is a text field that displays echo characters instead of those entered by a user.

XML name of the component: `passwordField`.

`PasswordField` is implemented for *Web Client* and *Desktop Client*.

Basically, `PasswordField` is similar to <<gui_TextField,TextField>> apart from the ability to set `datatype`. `PasswordField` is intended to work with text and entity attributes of type `String` only.

Example:

[source, xml]
----
include::{sourcesdir}/gui_vcl/passwordfield_1.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/passwordfield_2.java[]
----

image::gui_PasswordField.png[align="center"]

[[gui_PasswordField_autocomplete]]
The `autocomplete` attribute allows you to enable saving passwords in the web browser. It is disabled by default.

[[gui_PasswordField_capsLockIndicator]]
The `capsLockIndicator` attribute allows you to set the `id` of a <<gui_CapsLockIndicator,CapsLockIndicator>> component that should indicate Caps Lock state for this `passwordField`. The Caps Lock state is handled only when the `passwordField` is focused. When the field loses its focus, the state changes to "Caps Lock off".

Example:

[source, xml]
----
include::{sourcesdir}/gui_vcl/passwordfield_3.xml[]
----

'''

Attributes of passwordField::
<<gui_attr_align,align>> -
<<gui_PasswordField_autocomplete,autocomplete>> -
<<gui_PasswordField_capsLockIndicator,capsLockIndicator>> -
<<gui_attr_caption,caption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_TextField_maxLength,maxLength>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of passwordField::
<<gui_validator,validator>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_PickerField]]
====== PickerField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-pickerfield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/PickerField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`PickerField` displays an entity instance in a text field and performs actions when a user clicks buttons on the right.

image::PickerField.png[align="center"]

XML name of the component: `pickerField`.

The `PickerField` component is implemented for *Web Client* and *Desktop Client*.

* As a rule, `PickerField` is used for working with reference entity attributes. It is sufficient to specify <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes for the component:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/pickerfield_1.xml[]
---- 
+
In the example above, the screen defines `carDs` <<datasources,data source>> for a `Car` entity having the `colour` attribute. In the `pickerField` element, a link to a data source is specified in the `datasource` attribute, and a name of an entity attribute is set in the `property` attribute. The entity attribute should refer to another entity, in the example above it is `Colour`.

[[gui_PickerField_actions]]
* For `PickerField`, you can define an arbitrary number of <<gui_Action,actions>>, displayed as buttons on the right.
+
[[gui_PickerField_addAction]]
It can be done either in the XML descriptor using the `actions` nested element, or programmatically in the controller using `addAction()`.

** There are <<standard_actions,standard actions>>, defined by the `PickerField.ActionType`: `lookup`, `clear`, `open`. They perform the selection of a related entity, clearing the field and opening the edit screen for a selected related entity, respectively. When declaring standard actions in XML, you do not have to define any attributes except the identifier. If no actions in the `actions` element are defined when declaring the component, the XML loader will define `lookup` and `clear` actions for it. To add a default action, for example, `open`, you need to define the `actions` element as follows:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/pickerfield_2.xml[]
---- 
+
The `action` element does not extend but overrides a set of standard actions. Identifiers of all required actions have to be defined explicitly. The component looks as follows:
+
image::gui_pickerFieldActionsSt.png[align="center"]
+
[[gui_PickerField_addLookupAction]] [[gui_PickerField_addOpenAction]] [[gui_PickerField_addClearAction]]
Use `addLookupAction()`, `addOpenAction()` and `addClearAction()` to set standard actions programmatically. If the component is defined in the XML descriptor without `actions` nested element, it is sufficient to add missing actions: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/pickerfield_3.java[]
---- 
+
If the component is created in the controller, it will get no default actions and you need to explicitly add all necessary actions: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/pickerfield_4.java[]
---- 
+
You can parameterize standard actions. The XML descriptor has limited abilities to do this: there is only `openType` attribute, in which you can specify the mode to open a selection screen (for `LookupAction`) or edit screen (for `OpenAction`).
+
[[gui_PickerField_setLookupScreen]]
If you create actions programmatically, you can specify any properties of `PickerField.LookupAction`, `PickerField.OpenAction` and `PickerField.ClearAction` objects returned by methods of adding standard actions. For example, you can set a specific lookup screen as follows: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/pickerfield_5.java[]
---- 
+
For more information, see JavaDocs for <<standard_actions,standard actions>> classes.

** Arbitrary actions in the XML descriptor are also defined in the `actions` nested element, for example: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/pickerfield_6.xml[]
---- 
+
You can programmatically set an arbitrary action as follows: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/pickerfield_7.java[]
---- 
+
The declarative and programmatic creation of actions is described in <<gui_Action>> section.

[[gui_PickerField_metaclass]]
* `PickerField` can be used without binding to entities, i.e., without setting <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>>. In this case, `metaClass` attribute should be used to specify an entity type for `PickerField`. For example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/pickerfield_8.xml[]
---- 
+
You can get an instance of a selected entity by injecting the component into a controller and invoking its `getValue()` method.
+
[WARNING]
====
For proper operation of the `PickerField` component you need either set a `metaClass` attribute, or simultaneously set <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes.
====

* You can use keyboard shortcuts in PickerField, see <<shortcuts>> for details.

'''

Attributes of pickerField::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_PickerField_metaclass,metaClass>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of pickerField::
<<gui_PickerField_actions,actions>> -
<<gui_validator,validator>>

API::
<<gui_PickerField_addAction,addAction>> -
<<gui_PickerField_addClearAction,addClearAction>> -
<<gui_PickerField_addLookupAction,addLookupAction>> -
<<gui_PickerField_addOpenAction,addOpenAction>> -
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_PickerField_setLookupScreen,setLookupScreen>>

'''

[[gui_PopupButton]]
====== PopupButton

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-popupbutton" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/PopupButton.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

This is a button with a popup. Popup may contain a drop-down list of actions or a custom content.

image::PopupButton.png[align="center"]

XML name of the component: `popupButton`.

The component is implemented for *Web Client* and *Desktop Client*.

`PopupButton` can contain text, which is specified using the <<gui_attr_caption,caption>> attribute, or <<gui_attr_icon,icon>> (or both). A tooltip can be defined in the <<gui_attr_description,description>> attribute. The figure below shows different types of buttons:

image::gui_popupButtonTypes.png[align="center"]

`popupButton` elements:

[[gui_PopupButton_actions]]
* `actions` - specifies the drop-down <<gui_Action,actions>> list.
+
Only the following action properties are displayed: `caption`, `enable`, `visible`. The `description` and `shortcut` properties are ignored. Handling of the `icon` property depends on the <<cuba.gui.showIconsForPopupMenuActions,cuba.gui.showIconsForPopupMenuActions>> application property and the `showActionIcons` attribute of the component. The latter has priority.
+
Below is an example of a button with a drop-down list containing two actions:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/popupButton_1.xml[]
----

[[gui_PopupButton_popup]]
* `popup` - sets custom inner content for the popup. Actions are ignored if a custom popup content is set.
+
Below is an example of a custom popup layout:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/popupButton_2.xml[]
----
+
image::gui_popupButton_custom.png[align="center"]

`popupButton` attributes:

[[gui_PopupButton_autoClose]]
* `autoClose` - defines if the popup should be closed automatically after the action triggerring.

[[gui_PopupButton_closePopupOnOutsideClick]]
* `closePopupOnOutsideClick` - if set to `true`, clicking on the outside the popup closes it. This does not affect clicking on the button itself.

[[gui_PopupButton_menuWidth]]
* `menuWidth` - sets the popup menu width.

[[gui_PopupButton_popupOpenDirection]]
* `popupOpenDirection` - sets the opening direction for the popup. Possible values:
+
** `BOTTOM_LEFT`,
+
** `BOTTOM_RIGHT`,
+
** `BOTTOM_CENTER`.

[[gui_PopupButton_showActionIcons]]
* `showActionIcons` - enables displaying icons for action buttons.

[[gui_PopupButton_togglePopupVisibilityOnClick]]
* `togglePopupVisibilityOnClick` - defines whether sequential click on the popup should toggle popup visibility.

Methods of the `PopupButton` interface:

[[gui_PopupButton_PopupVisibilityListener]]
* `addPopupVisibilityListener()` - adds a listener to intercept the events of the component's visibility changes.
+
[source, java]
----
popupButton.addPopupVisibilityListener(popupVisibilityEvent -> {
    showNotification("Popup visibility changed");
});
----

'''

Attributes of popupButton::
<<gui_attr_align,align>> -
<<gui_PopupButton_autoClose,autoClose>> -
<<gui_attr_caption,caption>> -
<<gui_PopupButton_closePopupOnOutsideClick,closePopupOnOutsideClick>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_PopupButton_menuWidth,menuWidth>> -
<<gui_PopupButton_popupOpenDirection,popupOpenDirection>> -
<<gui_PopupButton_showActionIcons,showActionIcons>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_PopupButton_togglePopupVisibilityOnClick,togglePopupVisibilityOnClick>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of popupButton::
<<gui_PopupButton_actions,actions>> -
<<gui_PopupButton_popup,popup>>

API::
<<gui_PopupButton_PopupVisibilityListener,addPopupVisibilityListener>>

'''

[[gui_PopupView]]
====== PopupView

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=opening-popupview" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/PopupView.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`PopupView` is a component that allows you to open a popup with a container. The popup can be opened by clicking on minimized value or programmatically. It can be closed by mouse out or by clicking on outside area.

A typical `PopupView` with hidden and visible popup is shown below:

.Popup hidden
image::gui_popup_view_mini.png[Popup hidden, align="center"]

.Popup visible
image::gui_popup_view_mini_open.png[Popup visible, align="center"]

The component is implemented for *Web Client*.

An example of a PopupView with minimized value retrieved from a localized message pack:

[source, xml]
----
include::{sourcesdir}/gui_vcl/popup_view_1.xml[]
----

The inner content of the `PopupView` should be a container, for example <<gui_BoxLayout,BoxLayout>>.

`PopupView` methods:
--
* `setPopupVisible()` allows you to open popup window programmatically.
+
[source, java]
----
include::{sourcesdir}/gui_vcl/popup_view_2.java[]
----

* `setMinimizedValue()` allows you to set a minimized value programmatically.
+
[source, java]
----
include::{sourcesdir}/gui_vcl/popup_view_3.java[]
----

[[gui_PopupView_PopupVisibilityListener]]
* `addPopupVisibilityListener(PopupVisibilityListener listener)` allows you to listen to the popup window visibility changes.
+
[source, java]
----
include::{sourcesdir}/gui_vcl/popup_view_4.java[]
----
--

`PopupView` attributes:
--
[[gui_PopupView_minimizedValue]]
* `minimizedValue` attribute defines the text of popup button. This text may contain HTML tags.

[[gui_PopupView_hideOnMouseOut]]
* If the `hideOnMouseOut` attribute is set to `false`, popup container will close after click on outside area.

[[gui_PopupView_captionAsHtml]]
* `captionAsHtml` attribute allows to use HTML tags in caption of component.
--

'''
Attributes of popupView::
<<gui_attr_caption,caption>> -
<<gui_PopupView_captionAsHtml,captionAsHtml>> -
<<gui_attr_description,description>> -
<<gui_attr_height,height>> -
<<gui_PopupView_hideOnMouseOut,hideOnMouseOut>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_PopupView_minimizedValue,minimizedValue>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_PopupView_PopupVisibilityListener,addPopupVisibilityListener>>

'''

[[gui_ProgressBar]]
====== ProgressBar

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=normal-progressbar" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/ProgressBar.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `ProgressBar` component is designed to display the progress of a long process.

image::gui_progressBar.png[align="center"]

XML name of the component: `progressBar`

The component is implemented for *Web Client* and *Desktop Client*. 

Below is an example of the component usage together with the <<background_tasks,background tasks>> mechanism:

[source, xml]
----
include::{sourcesdir}/gui_vcl/progressbar_1.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/progressbar_2.java[]
---- 

Here in the `BackgroundTask.progress()` method, which is executed in UI thread, the `ProgressBar` component is set to the current value. The component value should be a `float` number from `0.0` to `1.0`.

The changes of the `ProgressBar` value can be tracked using the `ValueChangeListener`.

[[gui_ProgressBar_indeterminate]]
If a running process is unable to send information about the progress, an indeterminate state of the indicator can be displayed. Set the `indeterminate` to `true` to show an indeterminate state. Default is `false`. For example:
[source, xml]
----
include::{sourcesdir}/gui_vcl/progressbar_3.xml[]
----
[[gui_ProgressBar_indeterminate-circle]]
By default indeterminate progress bar is displayed as horizontal bar. To make it a spinning wheel instead, set the attribute `stylename="indeterminate-circle"`.
[[gui_ProgressBar_point]]
To make the progress bar indicator appear as a dot which progresses over the progress bar track (instead of a growing bar), use the `point` predefined style:

[source, java]
----
include::{sourcesdir}/gui_vcl/progressbar_4.java[]
----

'''

Attributes of progressBar::
<<gui_attr_align,align>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_ProgressBar_indeterminate,indeterminate>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Predefined styles of progressBar::
<<gui_ProgressBar_indeterminate-circle,indeterminate-circle>> -
<<gui_ProgressBar_point,point>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>>

'''

[[gui_RelatedEntities]]
====== RelatedEntities

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-relatedentities" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/RelatedEntities.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`RelatedEntities` component is a popup button with a drop-down list of classes related to the entity displayed in a table. Once the user selects the required entity class, a new browser screen is opened, containing the instances of this entity class, related to the entity instances selected in the initial table.

image::gui_relatedEntities.png[align="center"]

The XML-name of the component: `relatedEntities`

The component is implemented for *Web Client* and *Desktop Client*.

Related entities are selected considering the user permissions for entities, entity attributes and screens.

By default, the browser screen for the class selected in the drop-down is defined by convention (`{entity_name}.browse`,`{entity_name}.lookup`). Optionally, you can define the screen explicitly in the component.

A filter selecting records related to the selected entities is dynamically created in the browser window.

Example of using the component in screen XML-descriptor: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/relatedentities_1.xml[]
---- 

[[gui_RelatedEntities_for]]
The `for` attribute is required. It contains the table identifier.

The `openType="NEW_TAB"` attribute sets the opening mode of the lookup windows to new tab. The entity browser is opened in the current tab by default.

The `property` element enables explicitly defining the related entity displayed in the drop-down.

`property` attributes:

[[gui_RelatedEntities_property_name]]
* `name` – the current entity attribute name, referencing the related entity. 

[[gui_RelatedEntities_property_screen]]
* `screen` – the identifier of the browser screen that should be opened.

[[gui_RelatedEntities_property_filterCaption]]
* `filterCaption` – the name of the dynamically generated filter.

[[gui_RelatedEntities_exclude]]
The `exclude` attribute enables excluding some of the related entities from the drop-down list. The value of the property is a regular expression matching reference attributes to exclude.

image::gui_relatedEntitiesTable.png[align="center"]

The platform provides an API for opening related entities screens without the `RelatedEntities` component: the `RelatedEntitiesAPI` interface and its implementation `RelatedEntitiesBean`.
The logic is defined with the `openRelatedScreen()` method which takes the collection of entities from one side of relation, `MetaClass` of single entity from this collection, and a chosen field to find related entities.

[source, xml]
----
include::{sourcesdir}/gui_vcl/relatedentities_2.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/relatedentities_3.java[]
----

By default, the standard entity browser screen is opened. Optionally you can add a `RelatedScreenDescriptor` parameter to make the method open another screen or open it with parameters. The `RelatedScreenDescriptor` is a POJO which can store the screen identifier (`String`), open type (`WindowManager.OpenType`), filter caption (`String`), and screen params (`Map<String, Object>`).

[source, java]
----
include::{sourcesdir}/gui_vcl/relatedentities_4.java[]
----

'''

Attributes of relatedEntities::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_RelatedEntities_exclude,exclude>> -
<<gui_RelatedEntities_for,for>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_openType,openType>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Attributes of property::
<<gui_attr_caption,caption>> -
<<gui_RelatedEntities_property_filterCaption,filterCaption>> -
<<gui_RelatedEntities_property_name,name>> -
<<gui_RelatedEntities_property_screen,screen>>

'''

[[gui_RichTextArea]]
====== RichTextArea

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-richtextarea" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/RichTextArea.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

This is a text area to display and enter formatted text.

XML name of the component: `richTextArea`

`RichTextArea` is implemented only for *Web Client*.

Basically, `RichTextArea` mirrors the functionality of <<gui_TextField,TextField>>, except that you cannot set `datatype` for it. So, `RichTextArea` is intended for work only with text and entity attributes of type `String`.

image::gui_RichTextAreaInfo.png[align="center"]

'''

Attributes of richTextArea::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_SearchPickerField]]
====== SearchPickerField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-searchpickerfield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/SearchPickerField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `SearchPickerField` component is used to search for entity instances according to the entered string. A user should enter a few characters and press Enter. If several matches have been found, all of them will be displayed in a drop-down list. If only one instance matches the search query, it immediately becomes a component value. `SearchPickerField` also enables performing actions by clicking on buttons on the right.

image::gui_searchPickerFieldOverlap.png[align="center"]

See also <<gui_SuggestionPickerField,SuggestionPickerField>>.

XML name of the component: `searchPickerField`.

The component is implemented for *Web Client* and *Desktop Client*.

* To use `SearchPickerField` component, you need to create <<datasources,collectionDatasource>> and specify a query, which contains corresponding search conditions. Condition must contain a parameter named `custom$searchString`. This parameter will be populated with a substring entered by the user. A data source with a search condition should be defined in the <<gui_attr_optionsDatasource,optionsDatasource>> attribute of the component. For example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/searchpickerfield_1.xml[]
---- 
+
In this case, the component will look for instances of `Colour` entity according to the occurrence of the substring in its `name` attribute. The `(?i)` prefix is used for case-insensitive search (see <<datasource_query_case_insensitive>>). The selected value will be set in the `colour` attribute of the `Car` entity located in the `carDs` datasource.
+
[[gui_SearchPickerField_escapeValueForLike]]
The `escapeValueForLike` attribute set to `true` enables searching for the values that contain special symbols `%`, `\`, and `_` using like-clauses. In order to use `escapeValueForLike = true`, modify the query of the collection data source adding the escape value to it:
+
[source, sql]
----
include::{sourcesdir}/gui_vcl/searchpickerfield_3.sql[]
----
+
The `escapeValueForLike` attribute works for all databases except HSQLDB.

[[gui_SearchPickerField_minSearchStringLength]]
* Using the `minSearchStringLength` attribute the minimum number of characters, which the user should enter to search for values, can be defined.

* In the screen controller, two component methods can be implemented that will be invoked:
+
--
** If the number of entered characters is less than the value of `minSearchStringLength` attribute.

** If the search of characters entered by the user has returned no results.

Below is an example of implementing methods to display messages to the user:

[source, java]
----
include::{sourcesdir}/gui_vcl/searchpickerfield_2.java[]
---- 
--

* `SearchPickerField` implements <<gui_LookupField,LookupField>> and <<gui_PickerField,PickerField>> interfaces. Thus, it inherits the same functionality except the default list of actions added when defining the component in XML: for `SearchPickerField` these are `lookup` image:lookupBtn.png[] and `open` image:openBtn.png[] actions.

'''

Attributes of searchPickerField::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_SearchPickerField_escapeValueForLike,escapeValueForLike>> -
<<gui_LookupField_filterMode,filterMode>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_inputPrompt,inputPrompt>> -
<<gui_PickerField_metaclass,metaClass>> -
<<gui_SearchPickerField_minSearchStringLength,minSearchStringLength>> -
<<gui_LookupField_newOptionHandler,newOptionAllowed>> -
<<gui_LookupField_newOptionHandler,newOptionHandler>> -
<<gui_attr_nullName,nullName>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of searchPickerField::
<<gui_Action,actions>> -
<<gui_validator,validator>>

Predefined styles of searchPickerField::
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_SideMenu]]
====== SideMenu

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/mainwindow/SideMenu.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`SideMenu` component provides means of customizing the <<main_window_layout,main window layout>>, managing menu items, adding icons and badges and applying custom styles.

It can also be used in any screen as any other visual component. To add the `SideMenu` component to the screen, you should add the `xmlns:main="http://schemas.haulmont.com/cuba/mainwindow.xsd"` namespace to your screen descriptor.

image::gui_sidemenu.png[align="center"]

XML name of the component: `sideMenu`.

An example of component definition in an XML-descriptor of a screen:

[source, xml]
----
include::{sourcesdir}/gui_vcl/sidemenu.xml[]
----

CUBA Studio provides the screen template for main window with the `sideMenu` component and predefined styles within the side panel:

[source, xml]
----
include::{sourcesdir}/gui_vcl/sidemenu_default.xml[]
----

*sideMenu attributes:*

[[gui_SideMenu_selectOnClick]]
* The `selectOnClick` attribute, when set to `true`, highlights the selected menu item on mouse click. The default value is `false`.

image::gui_sidemenu_2.png[align="center"]

*Methods of the SideMenu interface:*

[[gui_SideMenu_createMenuItem]]
* `createMenuItem` - creates new menu item, but does not add this item to menu. `Id` must be unique for whole menu.

[[gui_SideMenu_addMenuItem]]
* `addMenuItem` - adds menu item to the menu.

[[gui_SideMenu_removeMenuItem]]
* `removeMenuItem` - removes menu item from the items list.

* `getMenuItem` - returns menu item from the menu tree by its `id`.

* `hasMenuItems` - returns `true` if the menu has items.

`SideMenu` component is used to display menu items. The `MenuItem` API enables creating menu items in the screen controller. The methods below can be used for dynamic update of menu items depending on the application business logic. The example of adding a menu item programmatically:

[source, java]
----
include::{sourcesdir}/gui_vcl/sidemenu_add.java[]
----

image::gui_sidemenu_3.png[align="center"]

*Methods of the MenuItem interface:*

[[gui_SideMenu_MenuItem_setCaption]]
* `setCaption` - sets item caption.

[[gui_SideMenu_MenuItem_setCaptionAsHtml]]
* `setCaptionAsHtml` - enables or disables HTML mode for caption.

[[gui_SideMenu_MenuItem_setBadgeText]]
* `setBadgeText` - sets badge text for the item. Badges are shown as small widget on the right side of menu items, for example:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/sidemenu_badge.java[]
----
+
image::gui_sidemenu_4.png[align="center"]

+
The badge text can be dynamically updated with the help of the <<gui_Timer,Timer>> component:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/sidemenu_timer.java[]
----
+
image::gui_sidemenu_5.png[align="center"]

[[gui_SideMenu_MenuItem_setIcon]]
* `setIcon` - sets menu icon.

[[gui_SideMenu_MenuItem_setCommand]]
* `setCommand` - sets item command, or the action to be performed on this menu item click.

[[gui_SideMenu_MenuItem_addChildItem]]
* `addChildItem/removeChildItem` - adds/removes menu item to the children list.

[[gui_SideMenu_MenuItem_setExpanded]]
* `setExpanded` - expands or collapses sub-menu with children by default.

[[gui_SideMenu_MenuItem_setStyleName]]
* `setStyleName` - sets one or more user-defined style names of the component, replacing any previous user-defined styles. Multiple styles can be specified as a space-separated list of style names. The style names must be valid CSS class names.
+
The standard `sideMenu` template includes several predefined styles: `c-sidemenu-layout`, `c-sidemenu-panel` and `c-sidemenu-title`. The default `c-sidemenu` style is supported only within the `Halo` theme or its extensions. The `Havana` theme does not support `sideMenu` styling.

[[gui_SideMenu_MenuItem_setTestId]]
* `setTestId` - sets `cuba-id` value for UI testing.

'''

Attributes of sideMenu::

<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_SideMenu_selectOnClick,selectOnClick>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Attributes of ftsfield::

<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API of sideMenu::
<<gui_SideMenu_addMenuItem,addMenuItem>> -
<<gui_SideMenu_createMenuItem,createMenuItem>> -
<<gui_SideMenu_removeMenuItem,removeMenuItem>>

API of menuItem::
<<gui_SideMenu_MenuItem_addChildItem,addChildItem>> -
<<gui_SideMenu_MenuItem_addChildItem,removeChildItem>> -
<<gui_SideMenu_MenuItem_setBadgeText,setBadgeText>> -
<<gui_SideMenu_MenuItem_setCaption,setCaption>> -
<<gui_SideMenu_MenuItem_setCaptionAsHtml,setCaptionAsHtml>> -
<<gui_SideMenu_MenuItem_setCommand,setCommand>> -
<<gui_SideMenu_MenuItem_setExpanded,setExpanded>> -
<<gui_SideMenu_MenuItem_setIcon,setIcon>> -
<<gui_SideMenu_MenuItem_setStyleName,setStyleName>> -
<<gui_SideMenu_MenuItem_setTestId,setTestId>>

'''

[[gui_SourceCodeEditor]]
====== SourceCodeEditor

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-codeeditor" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/SourceCodeEditor.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`SourceCodeEditor` is designed to display and enter source code. It is a multi-line text area featured with code highlighting and optional print margin and gutter with line numbers.

XML-name of the component: `sourceCodeEditor`.

`SourceCodeEditor` is implemented for *Web Client*.

Basically, `SourceCodeEditor` mostly replicates the functionality of the <<gui_TextField,TextField>> component and has the following specific attributes:

[[gui_sourceCodeEditor_handleTabKey]]
* if `handleTabKey` is `true`, the *Tab* button on the keyboard is handled to indent lines, when `false`, it is used to advance the cursor or focus to the next tab stop. This attribute should be set when the screen is initialized and will not work if changed at a runtime.

All following properties can be easily changed at a runtime:
[[gui_sourceCodeEditor_highlightActiveLine]]
* `highlightActiveLine` is used to highlight the line the caret is on.

[[gui_sourceCodeEditor_mode]]
* `mode` provides the list of languages supported for the syntax highlight. This list is defined in the `Mode` enumeration of the `SourceCodeEditor` interface and includes the following languages: Java, HTML, XML, Groovy, SQL, JavaScript, Properties, and Text with no highlight.

[[gui_sourceCodeEditor_printMargin]]
* `printMargin` attribute sets if the printing edge line should be displayed or hidden.

[[gui_sourceCodeEditor_showGutter]]
* `showGutter` is used to hide or show the left gutter with line numbers.

Below is an example of `SourceCodeEditor` component adjustable at a runtime.

XML-descriptor:
[source, xml]
----
include::{sourcesdir}/gui_vcl/sourceCodeEditor_1.xml[]
----
The controller:
[source, java]
----
include::{sourcesdir}/gui_vcl/sourceCodeEditor_2.java[]
----
The result will be:

image::gui_SourceCodeEditor_1.png[align="center"]

`SourceCodeEditor` can also support code autocomplete provided by the `Suggester` class. To activate word completion, the `setSuggester` method should be invoked, for example:
[source, java]
----
include::{sourcesdir}/gui_vcl/sourceCodeEditor_1.java[]
----

The result:

image::gui_SourceCodeEditor_2.png[align="center"]

'''

Attributes of sourceCodeEditor::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_sourceCodeEditor_handleTabKey,handleTabKey>> -
<<gui_attr_height,height>> -
<<gui_sourceCodeEditor_highlightActiveLine,highlightActiveLine>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_sourceCodeEditor_mode,mode>> -
<<gui_sourceCodeEditor_printMargin,printMargin>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_sourceCodeEditor_showGutter,showGutter>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_SuggestionField]]
====== SuggestionField

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/SuggestionField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `SuggestionField` component is designed to search for certain values according to a string entered by a user. It differs from <<gui_SuggestionPickerField,SuggestionPickerField>> in that it can use any types of options: for instance, entities, strings, or enum values, and does not have action buttons. The list of options is loaded in background according to the logic defined by the application developer on the server side.

image::gui_suggestionField_1.png[align="center"]

XML name of the component: `suggestionField`.

The component is implemented for the *Web Client*.

`suggestionField` attributes:

[[gui_suggestionField_asyncSearchDelayMs]]
* `asyncSearchDelayMs` - sets the delay between the last key press action and asynchronous search.

[[gui_suggestionField_minSearchStringLength]]
* `minSearchStringLength` - sets the minimal string length which is required to perform suggestions search.

[[gui_suggestionField_popupWidth]]
* `popupWidth` - sets the width of the suggestion popup.
+
Possible options:
+
** `auto` - the popup width will be equal to the maximum width of suggestions,
+
** `parent` - the popup width will be equal to the width of main component,
+
** absolute (e.g. `"170px"`) or relative (e.g. `"50%"`) value.

[[gui_suggestionField_suggestionsLimit]]
* `suggestionsLimit` - sets the limit of suggestions to be displayed.

`suggestionField` elements:

[[gui_suggestionField_query]]
* `query` - an optional element which enables defining a query for selecting suggested values. The `query` element, in turn, has the following attributes:
+
--
[[gui_suggestionField_query_entityClass]]
** `entityClass` (required) - full qualified name of entity class.

[[gui_suggestionField_query_view]]
** `view` - optional attribute that specifies the <<views,view>> to be used for loading the queried entity.

[[gui_suggestionField_query_escapeValueForLike]]
** `escapeValueForLike` - enables searching for the values that contain special symbols: `%`, `\`, etc. Default value is `false`.

[[gui_suggestionField_query_searchStringFormat]]
** `searchStringFormat` - a Groovy string, thus you can use any valid Groovy-string expressions.

[source, xml]
----
include::{sourcesdir}/gui_vcl/suggestionField_2.xml[]
----

If the query is not defined, the list of options must be provided by `SearchExecutor`, assigned programmatically (see below).
--

[[gui_suggestionField_SearchExecutor]]
In the most common case, it is sufficient to set `SearchExecutor` to the component. `SearchExecutor` is a functional interface that contains a single method: `List<E> search(String searchString, Map<String, Object> searchParams)`:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionField.java[]
----

`SearchExecutor` can return any types of options, for example, entities, strings, or enum values.

* Entities:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionField_4.java[]
----

* Strings:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionField_5.java[]
----

* Enum:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionField_6.java[]
----

* `OptionWrapper` class is used when you need to separate a value of any type and its string representation:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionField_7.java[]
----

[WARNING]
====
The `search()` method is executed in a background thread so it cannot access visual components or datasources used by visual components. Call <<dataManager,DataManager>> or a middleware service directly; or process and return data loaded to the screen beforehand.
====

The `searchString` parameter can be used to filter candidates using the string entered by the user. You can use the `escapeForLike()` method to search for the values that contain special symbols:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionField_9.java[]
----

[[gui_suggestionField_OptionsStyleProvider]]
* `OptionsStyleProvider` enables you to use separate style names for the suggested options displayed by `suggestionField`:
+
--
[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionField_8.java[]
----
--

'''

Attributes of suggestionField::
<<gui_attr_align,align>> -
<<gui_suggestionField_asyncSearchDelayMs,asyncSearchDelayMs>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_inputPrompt,inputPrompt>> -
<<gui_suggestionField_minSearchStringLength,minSearchStringLength>> -
<<gui_suggestionField_popupWidth,popupWidth>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_responsive,responsive>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_attr_stylename,stylename>> -
<<gui_suggestionField_suggestionsLimit,suggestionsLimit>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of suggestionField::
<<gui_suggestionField_query,query>>

Attributes of query::
<<gui_suggestionField_query_entityClass,entityClass>> -
<<gui_suggestionField_query_escapeValueForLike,escapeValueForLike>> -
<<gui_suggestionField_query_searchStringFormat,searchStringFormat>> -
<<gui_suggestionField_query_view,view>>

Predefined styles of suggestionField::
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_suggestionField_OptionsStyleProvider,setOptionsStyleProvider>>

'''

[[gui_SuggestionPickerField]]
====== SuggestionPickerField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=datasource-suggestion-picker-field" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/SuggestionPickerField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `SuggestionPickerField` component is designed to search for entity instances according to a string entered by a user. It differs from <<gui_SearchPickerField,SearchPickerField>> in that it refreshes the list of options on each entered symbol without the need to press Enter. The list of options is loaded in background according to the logic defined by the application developer on the server side.

`SuggestionPickerField` is also a <<gui_PickerField,PickerField>> and can contain actions represented by buttons on the right.

image::gui_suggestionPickerField_1.png[align="center"]

XML name of the component: `suggestionPickerField`.

The component is implemented for the *Web Client*.

`SuggestionPickerField` is used to select reference entity attributes, so you usually set its `datasource` and `property` attributes:

[source, xml]
----
include::{sourcesdir}/gui_vcl/suggestionPickerField.xml[]
----

`suggestionPickerField` attributes:

[[gui_suggestionPickerField_asyncSearchDelayMs]]
* `asyncSearchDelayMs` - sets the delay between the last key press action and asynchronous search.

[[gui_suggestionPickerField_metaClass]]
* `metaClass` - sets the link to the component's `MetaClass` if the component is used without binding to a datasource, i.e., without setting <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>>.

[[gui_suggestionPickerField_minSearchStringLength]]
* `minSearchStringLength` - sets the minimal string length which is required to perform suggestions search.

[[gui_suggestionPickerField_popupWidth]]
* `popupWidth` - sets the width of the suggestion popup.
+
Possible options:
+
** `auto` - the popup width will be equal to the maximum width of suggestions,
+
** `parent` - the popup width will be equal to the width of main component,
+
** absolute (e.g. `"170px"`) or relative (e.g. `"50%"`) value.

[[gui_suggestionPickerField_suggestionsLimit]]
* `suggestionsLimit` - sets the limit of suggestions to be displayed.

[TIP]
====
The appearance of `suggestionPickerField` and its popup can be <<web_theme_extension_styles,customized>> using the <<gui_attr_stylename,stylename>> attribute. The stylename for the popup should have the same name as for the main component: for example, if the component has custom stylename `"my-awesome-stylename"`, its popup should have the stylename `"c-suggestionfield-popup my-awesome-stylename"`.
====

`suggestionPickerField` elements:

[[gui_suggestionPickerField_actions]]
* `actions` - an optional element describing the actions related to the component. In addition to custom arbitrary actions, `suggestionPickerField` supports the following standard <<picker_actions,actions>>, defined in the `PickerField.ActionType` enumeration: `lookup`, `open`, `clear`.

[[gui_suggestionPickerField_SearchExecutor]]
Base SuggestionPickerField usage::
+
--
In the most common case, it is sufficient to set `SearchExecutor` to the component. `SearchExecutor` is a functional interface that contains a single method: `List<E extends Entity> search(String searchString, Map<String, Object> searchParams)`:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionPickerField.java[]
----

[WARNING]
====
The `search()` method is executed in a background thread so it cannot access visual components or datasources used by visual components. Call <<dataManager,DataManager>> or a middleware service directly; or process and return data loaded to the screen beforehand.
====

The `searchString` parameter can be used to filter candidates using the string entered by the user. You can use the `escapeForLike()` method to search for the values that contain special symbols:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionPickerField_3.java[]
----
--

[[gui_suggestionPickerField_ParametrizedSearchExecutor]]
ParametrizedSearchExecutor usage::
+
--
In the previous examples, `searchParams` is an empty map. To define params, you should use `ParametrizedSearchExecutor`:

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionPickerField_1.java[]
----
--

[[gui_suggestionPickerField_EnterActionHandler]]
EnterActionHandler and ArrowDownActionHandler usage::
+
--
Another way to use the component is to set `EnterActionHandler` or `ArrowDownActionHandler`. These listeners are fired when a user presses *Enter* or *Arrow Down* keys when the popup with suggestions is hidden. They are also functional interfaces with single method and single parameter - `currentSearchString`. You can set up your own action handlers and use `SuggestionField.showSuggestions()` method which accepts the list of entities to show suggestions.

[source, java]
----
include::{sourcesdir}/gui_vcl/suggestionPickerField_2.java[]
----
--

'''

Attributes of suggestionPickerField::
<<gui_attr_align,align>> -
<<gui_suggestionPickerField_asyncSearchDelayMs,asyncSearchDelayMs>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_colspan,colspan>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_inputPrompt,inputPrompt>> -
<<gui_suggestionPickerField_metaClass,metaClass>> -
<<gui_suggestionPickerField_minSearchStringLength,minSearchStringLength>> -
<<gui_suggestionPickerField_popupWidth,popupWidth>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_responsive,responsive>> -
<<gui_attr_rowspan,rowspan>> -
<<gui_attr_stylename,stylename>> -
<<gui_suggestionPickerField_suggestionsLimit,suggestionsLimit>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of suggestionPickerField::
<<gui_suggestionPickerField_actions,actions>> -
<<gui_suggestionField_query,query>> -
<<gui_validator,validator>>

Predefined styles of suggestionPickerField::
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_suggestionField_OptionsStyleProvider,setOptionsStyleProvider>>

'''

[[gui_Table]]
====== Table

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-table" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Table.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `Table` component presents information in a table view, sorts data, manages table columns and headers and invokes actions for selected rows.

image::gui_table.png[align="center"]

XML-name of the component: `table`

The component is implemented for both *Web Client* and *Desktop Client*. 

An example of component definition in an XML-descriptor of a screen: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/table_1.xml[]
---- 

In the example the `dsContext` element defines <<datasources,collectionDatasource>>, which selects `Order` entities using <<jpql,JPQL>> query. The `rows` element defines the data source, while `columns` element defines which entity attributes are used as table columns.

`table` elements:

[[gui_Table_rows]]
* `rows` – a required element; its `datasource` attribute defines the <<datasources,data source>> to be used by the table.
+
Each row can have an icon in an additional column on the left. Create an implementation of the `ListComponent.IconProvider` interface in the screen controller and set it for the table:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/tableIconProvider_1.java[]
----

[[gui_Table_columns]]
* `columns` – a required element defining the set of columns for a table.
+
Each column is described in a nested `column` element with the following attributes:
+
--
[[gui_Table_column_id]]
** `id` − a mandatory attribute, contains the name of an entity attribute displayed in the column. Can be either an attribute of the entity from the data source or a linked entity – object graph traversal is indicated with a dot. For example: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/tableId_1.xml[]
---- 

[[gui_Table_column_caption]]
** `caption` − an optional attribute containing the column caption. If not specified, a <<entity_localization,localized attribute name>> will be displayed.

[[gui_Table_column_collapsed]]
** `collapsed` − an optional attribute; hides the column by default when set to `true`. Users can control column's visibility using the menu available via a image:gui_table_columnControl.png[] button in the top right part of the table when the table's `columnControlVisible` attribute is not `false`. By default, `collapsed` is `false`.

[[gui_Table_column_width]]
** `width` − an optional attribute controlling default column width. May contain only numeric values in pixels.

[[gui_Table_column_align]]
** `align` − an optional attribute that sets text alignment of column cells. Possible values: `LEFT`, `RIGHT`, `CENTER`. Default is `LEFT`.

[[gui_Table_column_editable]]
** `editable` − an optional attribute allowing editing of the corresponding column in the table. In order for a column to be editable, the <<gui_Table_editable,editable>> attribute of the entire table should be set to `true` as well. Changing this property at runtime is not supported.

[[gui_Table_column_sortable]]
** `sortable` − an optional attribute to disable sorting of the column. Takes effect if the whole table has <<gui_Table_sortable,sortable>> attribute set to `true` (which is by default).

[[gui_Table_column_maxTextLength]]
** `maxTextLength` – an optional attribute allowing to limit the number of characters in a cell. If the difference between the actual and the maximum allowed number of characters does not exceed the 10 character threshold, the "extra" characters remain unhidden. To see the entire record, users need to click on its visible part. An example of a column with a 5 character limitation:
+
image::gui_table_column_maxTextLength.png[align="center"]

[[gui_Table_column_link]]
** `link` - if set to `true`, enables displaying a link to an entity editor in a table column (supported for *Web Client* only). The `link` attribute may be set to true for primitive type columns, too; in this case, the main entity editor will be opened. This approach may be used to simplify navigation: the users will be able to open entity editors simply by clicking on some key attributes.

[[gui_Table_column_linkScreen]]
** `linkScreen` - contains the identifier of the screen that is opened by clicking the link enabled in the `link` attribute.

[[gui_Table_column_linkScreenOpenType]]
** `linkScreenOpenType` - sets the screen opening mode (`++THIS_TAB++`, `++NEW_TAB++` or `DIALOG`).

[[gui_Table_column_linkInvoke]]
** `linkInvoke` - invokes the controller method instead of opening the screen.
+
[source, java]
----
include::{sourcesdir}/gui_vcl/table_4.java[]
----

[[gui_Table_column_captionProperty]]
** `captionProperty` - the name of an entity attribute which should be shown in the column instead of specified by <<gui_Table_column_id,id>>. For example, if you have a reference to the `Priority` entity with the `name` and `orderNo` attributes, you can define the following column:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/tableColumnCaptionProperty_1.xml[]
----
+
In this case, the column will display the priority name, but the sorting of the column will be done by the priority order.

[[gui_Table_column_generator]]
** an optional `generator` attribute contains the link to a method in the screen controller that creates a visual component to be shown in table cells:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/table_generator.xml[]
----
+
[source, java]
----
include::{sourcesdir}/gui_vcl/table_generator.java[]
----
+
It can be used instead of providing an implementation of `Table.ColumnGenerator` to the <<gui_Table_addGeneratedColumn,addGeneratedColumn()>> method.

** `column` element may contain a nested <<gui_formatter,formatter>> element that allows you to represent the attribute value in a format different from the standard for this <<datatype,Datatype>>:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/tableFormatter_1.xml[]
----
--

[[gui_Table_rowsCount]]
* `rowsCount` − an optional element adding the `RowsCount` component for the table; this component enables loading the table data in pages. Page size can be defined by limiting the number of records in the data source using `CollectionDatasource.setMaxResults()` method. Typically, this is performed by a <<gui_Filter,Filter>> component linked to the table's data source. However, if there is no generic filter, this method can be called directly from the screen controller.
+
`RowsCount` component can also show the total number of records returned by the current query from the datasource without extracting the records themselves. It invokes `AbstractCollectionDatasource.getCount()` when user clicks the *?* icon, which results in performing a database query with the same conditions as the current query, but using a `++COUNT(*)++` aggregate function instead. The number retrieved is displayed instead of the *?* icon.

[[gui_Table_actions]]
* `actions` − an optional element describing the <<gui_Action,actions>>, related to the table. In addition to custom arbitrary actions, the element supports the following <<standard_actions,standard actions>>, defined in `ListActionType` enum: `create`, `edit`, `remove`, `refresh`, `add`, `exclude`, `excel`.

[[gui_Table_buttonsPanel]]
* `buttonsPanel` – an optional element, which adds a <<gui_ButtonsPanel,ButtonsPanel>> container to show action buttons above the table.

`table` attributes:

[[gui_Table_multiselect]]
* `multiselect` attribute enables setting multiple selection mode for table rows. If `multiselect` is `true`, users can select multiple rows in the table using keyboard or mouse holding *Ctrl* or *Shift* keys. By default, multiple selection mode is switched off.

[[gui_Table_sortable]]
* `sortable` attribute enables sorting data in the table. By default, it is set to `true`. If sorting is allowed, clicking a column header will show a image:gui_sortable_down.png[]/image:gui_sortable_up.png[] icon to the right of the column name. You can disable sorting for a particular column by using its <<gui_Table_column_sortable, sortable>> attribute.
+
Table sorting can be performed differently depending on whether all the records can be placed on one page or not. If they can, sorting is performed in memory without database queries. If there is more than one page, sorting is performed in the database by sending a new query with the corresponding `ORDER BY` condition.
+
A table column may refer to a local attribute or a linked entity. For example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/tableSortable_1.xml[]
----
+
In the latter case, the database sorting will be performed by attributes defined in the `@NamePattern` annotation of the related entity. If the entity has no such annotation, the sorting will be performed in memory only within the current page.
+
If the column refers to a non-persistent entity attribute, the database sorting will be performed by attributes defined in the `related()` parameter of the `@MetaProperty` annotation. If no related attributes are specified, the sorting will be performed in memory only within the current page.
+
If the table is connected to a nested <<datasources,datasource>> that contains a collection of related entities, the collection attribute must be of ordered type (`List` or `LinkedHashSet`) for table to be sortable. If the attribute is of type `Set`, the `sortable` attribute has no effect and the table cannot be sorted by users.

[[gui_Table_presentations]]
* `presentations` attribute controls the mechanism of <<gui_presentations,presentations>>. By default, the value is `false`. If the attribute value is `true`, a corresponding icon is added to the top right corner of the table image:gui_presentation.png[]. The mechanism of presentations is implemented for the *Web Client* only.

[[gui_Table_columnControlVisible]]
* If the `columnControlVisible` attribute is set to `false`, users cannot hide columns using the drop-down menu of the image:gui_table_columnControl.png[] button in the right part of the table header. Currently displayed columns are marked with checkmarks in the menu.

image::gui_table_columnControl_all.png[align="center"]

[[gui_Table_reorderingAllowed]]
* If the `reorderingAllowed` attribute is set to `false`, users cannot change columns order by dragging them with a mouse.

[[gui_Table_columnHeaderVisible]]
* If the `columnHeaderVisible` attribute is set to `false`, the table has no header.

[[gui_Table_showSelection]]
* If the `showSelection` attribute is set to `false`, a current row is not highlighted.

[[gui_Table_allowPopupMenu]]
* `contextMenuEnabled` attribute enables the context menu. By default this attribute is set to `true`. The context menu shows table actions (if any) and the *System Information* item containing information on the selected entity (if the user has `cuba.gui.showInfo` <<permissions,permission>>).

[[gui_Table_multiLineCells]]
* Setting `multiLineCells` to `true` enables multi-line display for cells containing several lines of text. In this mode, the web browser will load all the rows of the current table page at once, instead of lazy-loading the visible part of the table. It is required for proper scrolling in the Web Client. The default value is `false`.

[[gui_Table_aggregatable]]
* `aggregatable` attribute enables aggregation for table rows. The following operations are supported: 
+
--

** `SUM` – calculate the sum

** `AVG` – find the average value

** `COUNT` – calculate the total number

** `MIN` – find the minimum value

** `MAX` – find the maximum value 

[[gui_Table_column_aggregation]]
The `aggregation` element should be set for aggregated table columns with the `type` attribute, which sets the aggregation function. By default, only numeric data types are supported in aggregated columns, such as `Integer, Double, Long` and `BigDecimal`. The aggregated table values are shown in an additional row at the top of the table. An example of an aggregated table description:

[source, xml]
----
include::{sourcesdir}/gui_vcl/tableAggregatable_1.xml[]
---- 

[[gui_Table_column_aggregation_strategyClass]]
The `aggregation` element can also contain the `strategyClass` attribute specifying a class implementing the `AggregationStrategy` interface (see below the example of setting an aggregation strategy programmatically).

A <<gui_formatter,Formatter>> can be specified to display the aggregated value in the format other than the standard for this <<datatype,Datatype>>: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/tableAggregatable_2.xml[]
---- 

[[gui_Table_aggregationStyle]]
The `aggregationStyle` attribute allows you to specify the location of the aggregation row: `TOP` or `BOTTOM`. `TOP` is used by default.

In addition to the operations listed above, you can define a custom aggregation strategy by implementing the `AggregationStrategy` interface and passing it to the `setAggregation()` method of the `Table.Column` class inside the `AggregationInfo` instance. For example: 

[source, java]
----
include::{sourcesdir}/gui_vcl/tableAggregationStrategy_1.java[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/tableAggregationStrategy_2.java[]
---- 
--

[[gui_Table_editable]]
* `editable` attribute enables switching the table to in-place editing mode. In this mode, the columns with `editable = true` attribute show components to edit the attributes of the corresponding entity.
+
The component type for each editable column is selected automatically based on the type of the corresponding entity attribute. For example, for string and numeric attributes, the application will use <<gui_TextField,TextField>>, for `Date` – <<gui_DateField,DateField>>, for lists – <<gui_LookupField,LookupField>>, for links to other entities – <<gui_PickerField,PickerField>>. 
+
For a `Date` type editable column, you can additionally define `dateFormat` or `resolution` attributes similar to the ones described for the <<gui_DateField,DateField>>.
+
<<gui_attr_optionsDatasource,optionsDatasource>> and <<gui_attr_captionProperty,captionProperty>> attributes can be additionally defined for an editable column showing a linked entity. If `optionsDatasource` is set, the application will use <<gui_LookupField,LookupField>> instead of <<gui_PickerField,PickerField>>.
+
Custom configuration (including editing) of a cell can be performed using `Table.addGeneratedColumn()` method – see below.

[[gui_Table_stylename]]
* In Web Client with a Halo-based theme, `stylename` attribute enables setting predefined styles to the `Table` component either in the XML descriptor or in the screen controller:
+
--
[source, xml]
----
include::{sourcesdir}/gui_vcl/table_2.xml[]
----

When setting a style programmatically, select one of the `HaloTheme` class constants with the `TABLE_` prefix:
[source, java]
----
include::{sourcesdir}/gui_vcl/table_3.java[]
----

Table styles:

[[gui_table_borderless]]
* `borderless` - removes the outer border of the table.

[[gui_table_compact]]
* `compact` - reduces the white space inside the table cells.

[[gui_table_no-header]]
* `no-header` - hides the table column headers.

[[gui_table_no-horizontal-lines]]
* `no-horizontal-lines` - removes the horizontal divider lines between the table rows.

[[gui_table_no-stripes]]
* `no-stripes` - removes the alternating row colors.

[[gui_table_no-vertical-lines]]
* `no-vertical-lines` - removes the vertical divider lines between the table columns.

[[gui_table_small]]
* `small` - small font size and reduced the white space inside the table cells.
--

Methods of the `Table` interface:

[[gui_Table_ColumnCollapseListener]]
* `addColumnCollapsedListener`() method is useful for tracking the columns visibility with the help of the `ColumnCollapsedListener` interface implementation.

[[gui_Table_getSelected]]
* `getSelected()`, `getSingleSelected()` return instances of the entities corresponding to the selected rows of the table. A collection can be obtained by invoking `getSelected()`. If nothing is selected, the application returns an empty set. If `multiselect` is disabled, it is more convenient to use `getSingleSelected()` method returning one selected entity or `null`, if nothing is selected.

[[gui_Table_addGeneratedColumn]]
* `addGeneratedColumn()` method allows you to define custom representation of data in a column. It takes two parameters: identifier of the column and an implementation of the `Table.ColumnGenerator` interface. Identifier can match one of the identifiers set for table columns in XML-descriptor – in this case the new column is inserted instead of the one defined in XML. If the identifier does not match any of the columns, a new column is added to the right.
+
[[gui_Table_generateCell]]
`generateCell()` method of the `Table.ColumnGenerator` interface is invoked for each row of the table. The method receives an instance of the entity displayed in the corresponding row. `generateCell()` method should return a visual component which will be displayed in the cell. 
+
Example of using the component: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/tableColumnGenerator_1.java[]
---- 
+
In the example above, all cells within the `colour` column in the table show the <<gui_LookupPickerField,LookupPickerField>> component. The component should save its value into the `colour` attribute of the entity which instance is displayed in the corresponding row. For this purpose `getItemDatasource()` method is used to get the datasource for the current entity instance from the table and pass it to the `LookupPickerField` component.
+
If you want to display just dynamic text, use special class `Table.PlainTextCell` instead of the <<gui_Label,Label>> component. It will simplify rendering and make the table faster.
+
If `addGeneratedColumn()` method receives the identifier of a column which is not declared in XML-descriptor, the header for the new column to be set as follows: 
+
[source, java]
----
carsTable.getColumn("colour").setCaption("Colour");
----
+
Consider also using a more declarative approach with the <<gui_Table_column_generator,generator>> XML attribute.

[[gui_Table_requestFocus]]
* `requestFocus()` method allows you to set focus on the concrete editable field of a certain row. It takes two parameters: an entity instance which identifies the row and the column identifier. Example of requesting a focus:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/table_requestFocus_1.java[]
----

[[gui_Table_scrollTo]]
* `scrollTo()` method allows you to scroll table to the concrete row. It takes one parameter: an entity instance identifying the row.
+
Example of scrolling:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/table_scrollTo_1.java[]
----

[[gui_Table_CellClickListener]]
* `setClickListener()` method can save you from adding generated columns with components when you need to draw something in cells and receive notifications when a user clicks inside these cells. The `CellClickListener` implementation passed to this method receives the selected entity and the column identifier. The cells content will be wrapped in span element with `cuba-table-clickable-cell` style which can be used to specify the cell representation.

[[gui_Table_setStyleProvider]]
*  `setStyleProvider()` method enables setting table cell display style. The method accepts an implementation of `Table.StyleProvider` interface as a parameter. `getStyleName()` method of this interface is invoked by the table for each row and each cell separately. If the method is invoked for a row, the first parameter contains the entity instance displayed by the row, the second parameter is `null`. If the method is called for a cell, the second parameter contains the name of the attribute displayed by the cell.
+
Example of setting a style:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/table_setStyleProvider_1.java[]
----
+
Then the cell and row styles set in the application theme should be defined. Detailed information on creating a theme is available in <<gui_themes>>. For web client, new styles are defined in the `styles.scss` file. Style names defined in the controller, together with prefixes identifying table row and column form CSS selectors. For example:
+
[source, css]
----
include::{sourcesdir}/gui_vcl/table_setStyleProvider_2.css[]
---- 

[[gui_Table_addPrintable]]
* `addPrintable()` method enables setting a custom presentation of the data within a column when exporting to an XLS file via the `excel` <<standard_actions,standard action>> or directly using the `ExcelExporter` class. The method accepts the column identifier and an implementation of the `Table.Printable` interface for the column. For example:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/table_addPrintable_1.java[]
---- 
+
`getValue()` method of the `Table.Printable` interface should return data to be displayed in the table cell. This is not necessarily a string – the method may return values of other types, for example, numeric data or dates, which will be represented in the XLS file accordingly. 
+
If formatted output to XLS is required for a generated column, an implementation of the `Table.PrintableColumnGenerator` interface passed to the `addGeneratedColumn()` method should be used. The value for a cell in an XLS document is defined in the `getValue()` method of this interface: 
+
[source, java]
----
include::{sourcesdir}/gui_vcl/table_addPrintable_2.java[]
---- 
+
If `Printable` presentation is not defined for a generated column in one way or another, then the column will either show the value of corresponding entity attribute or nothing if there is no associated entity attribute.

[[gui_Table_setItemClickAction]]

* The `setItemClickAction()` method allows you to define an <<gui_Action,action>> that will be performed when a table row is double-clicked. If such action is not defined, the table will attempt to find an appropriate one in the list of its actions in the following order: 

** The action assigned to the Enter key by the `shortcut` property

** The `edit` action

** The `view` action
+
If such action is found, and has `enabled = true` property, the action is executed.

[[gui_Table_setEnterPressAction]]
* The `setEnterPressAction()` allows you to define an <<gui_Action,action>> executed when Enter is pressed. If such action is not defined, the table will attempt to find an appropriate one in the list of its actions in the following order: 
+
--
** The action defined by the `setItemClickAction()` method

** The action assigned to the Enter key by the `shortcut` property

** The `edit` action

** The `view` action

If such action is found, and has `enabled = true` property, the action is executed.
--

'''

Attributes of table::
<<gui_attr_align,align>> -
<<gui_Table_aggregatable,aggregatable>> -
<<gui_Table_aggregationStyle,aggregationStyle>> -
<<gui_Table_columnControlVisible,columnControlVisible>> -
<<gui_Table_columnHeaderVisible,columnHeaderVisible>> -
<<gui_Table_allowPopupMenu,contextMenuEnabled>> -
<<gui_Table_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_Table_multiLineCells,multiLineCells>> -
<<gui_Table_multiselect,multiselect>> -
<<gui_Table_presentations,presentations>> -
<<gui_Table_reorderingAllowed,reorderingAllowed>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_Table_showSelection,showSelection>> -
<<gui_Table_sortable,sortable>> -
<<gui_Table_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_textSelectionEnabled,textSelectionEnabled>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of table::
<<gui_Table_actions,actions>> -
<<gui_Table_buttonsPanel,buttonsPanel>> -
<<gui_Table_columns,columns>> -
<<gui_Table_rows,rows>> -
<<gui_Table_rowsCount,rowsCount>>

Attributes of <<gui_Table_columns,column>>::
<<gui_Table_column_align,align>> -
<<gui_Table_column_caption,caption>> -
<<gui_Table_column_captionProperty,captionProperty>> -
<<gui_Table_column_collapsed,collapsed>> -
<<gui_DateField_dateFormat,dateFormat>> -
<<gui_Table_column_editable,editable>> -
<<gui_Table_column_generator,generator>> -
<<gui_Table_column_id,id>> -
<<gui_Table_column_link,link>> -
<<gui_Table_column_linkInvoke,linkInvoke>> -
<<gui_Table_column_linkScreen,linkScreen>> -
<<gui_Table_column_linkScreenOpenType,linkScreenOpenType>> -
<<gui_Table_column_maxTextLength,maxTextLength>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_DateField_resolution,resolution>> -
<<gui_Table_column_sortable,sortable>> -
<<gui_attr_visible,visible>> -
<<gui_Table_column_width,width>>

Elements of <<gui_Table_columns,column>>::
<<gui_Table_column_aggregation,aggregation>> -
<<gui_formatter,formatter>>

Attributes of <<gui_Table_column_aggregation,aggregation>>::
<<gui_Table_column_aggregation,type>> -
<<gui_Table_column_aggregation_strategyClass,strategyClass>>

Attributes of <<gui_Table_rows,rows>>::
<<gui_attr_datasource,datasource>>

Predefined styles of table::
<<gui_table_borderless,borderless>> -
<<gui_table_compact,compact>> -
<<gui_table_no-header,no-header>> -
<<gui_table_no-horizontal-lines,no-horizontal-lines>> -
<<gui_table_no-stripes,no-stripes>> -
<<gui_table_no-vertical-lines,no-vertical-lines>> -
<<gui_table_small,small>>

API::
<<gui_Table_addGeneratedColumn,addGeneratedColumn>> -
<<gui_Table_addPrintable,addPrintable>> -
<<gui_Table_ColumnCollapseListener,addColumnCollapseListener>> -
<<gui_api_settings,applySettings>> -
<<gui_Table_generateCell,generateCell>> -
<<gui_Table_getSelected,getSelected>> -
<<gui_Table_requestFocus,requestFocus>> -
<<gui_api_settings,saveSettings>> -
<<gui_Table_scrollTo,scrollTo>> -
<<gui_Table_CellClickListener,setClickListener>> -
<<gui_Table_setEnterPressAction,setEnterPressAction>> -
<<gui_Table_setItemClickAction,setItemClickAction>> -
<<gui_Table_setStyleProvider,setStyleProvider>>

'''

[[gui_TextArea]]
====== TextArea

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-textarea" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/TextArea.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`TextArea` is a multi-line text editor field.

XML-name of the component: `textArea`

`TextArea` component is implemented for both *Web Client* and *Desktop Client*.

`TextArea` mostly replicates the functionality of the <<gui_TextField,TextField>> component and has the following specific attributes:

[[gui_TextArea_cols_rows]]
* `cols` and `rows` set the number of columns and rows of text: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/textarea_1.xml[]
---- 
+
The values of `width` and `height` have priority over the values of `cols` and `rows`.

[[gui_TextArea_resizableDirection]]
* `resizableDirection` – defines the way a user can change the size of the component, unless the percentage size is set for the component.
+
--
[source, xml]
----
include::{sourcesdir}/gui_vcl/textarea_2.xml[]
---- 

image::gui_textField_resizable.png[align="center"]

There are four resize modes available:

* `BOTH` - the component is resizable in both directions. The component is not resizable if the percentage size is set for the component.

* `NONE` - the component can not be resized.

* `VERTICAL` - the component is resizable only vertically. The component can not be resized vertically if the percentage size is set for the component.

* `HORIZONTAL` - the component is resizable only horizontally. The component can not be resized horizontally if the percentage width is set for the component.

[[gui_TextArea_ResizeListener]]
The area size change events can be tracked using the `ResizeListener` interface. For example:

[source, java]
----
include::{sourcesdir}/gui_vcl/textarea_6.java[]
----
--

[[gui_TextArea_wordwrap]]
* `wordwrap` - set this attribute to `false` to turn off word wrapping.

`TextArea` supports `TextChangeListener` defined in its parent `TextInputField` interface. Text change events are processed asynchronously after typing in order not to block the typing.

[source, java]
----
include::{sourcesdir}/gui_vcl/textarea_5.java[]
----

image::gui_TextArea_2.png[align="center"]

The `TextChangeEventMode` defines the way the changes are transmitted to the server to cause a server-side event. There are 3 predefined event modes:

* `LAZY` (default) - an event is triggered when there is a pause in editing the text. The length of the pause can be modified with `setInputEventTimeout()`. A text change event is forced before a possible `ValueChangeEvent`, even if the user did not keep a pause while entering the text.

* `TIMEOUT` - an event is triggered after a timeout period. If more changes are made during this period, the event sent to the server-side includes the changes made up to the last change. The length of the timeout can be set with `setInputEventTimeout()`.
+
If a `ValueChangeEvent` would occur before the timeout period, a `TextChangeEvent` is triggered before it, on the condition that the text content has changed since the previous `TextChangeEvent`.

* `EAGER` - an event is triggered immediately for every change in the text content, typically caused by a key press. The requests are separate and are processed sequentially one after another. Change events are nevertheless communicated asynchronously to the server, so further input can be typed while event requests are being processed.

TextArea styles::
+
--
In Web Client with a Halo-based theme, you can set predefined styles to the TextArea component using the `stylename` attribute either in the XML descriptor or in the screen controller:

[source, xml]
----
include::{sourcesdir}/gui_vcl/textarea_3.xml[]
----

When setting a style programmatically, select one of the `HaloTheme` class constants with the `TEXTAREA_` prefix:
[source, java]
----
include::{sourcesdir}/gui_vcl/textarea_4.java[]
----

[[gui_textarea_align-center]]
* `align-center` - align the text inside the area to center.

[[gui_textarea_align-right]]
* `align-right` - align the text inside the area to the right.

[[gui_textarea_borderless]]
* `borderless` - removes the border and background from the text area.
--

'''

Attributes of textArea::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_TextField_caseConversion,caseConversion>> -
<<gui_TextArea_cols_rows,cols>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_TextField_datatype,datatype>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_TextField_maxLength,maxLength>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_TextArea_resizableDirection,resizableDirection>> -
<<gui_TextArea_cols_rows,rows>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_TextField_trim,trim>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>> -
<<gui_TextArea_wordwrap,wordwrap>>

Predefined styles of textArea::
<<gui_textarea_align-center,align-center>> -
<<gui_textarea_align-right,align-right>> -
<<gui_textarea_borderless,borderless>> -
<<gui_attr_stylename_huge,huge>> -
<<gui_attr_stylename_large,large>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_TextArea_ResizeListener,addResizeListener>> -
<<gui_TextField_TextChangeListener,addTextChangeListener>> -
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_settings,applySettings>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_settings,saveSettings>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_TextField]]
====== TextField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-textfield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/TextField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`TextField` is a component for text editing. It can be used both for working with entity attributes and entering/displaying arbitrary textual information.

XML-name of the component: `textField`

`TextField` is implemented for both *Web Client* and *Desktop Client*.

* An example of a text field with a caption retrieved from the <<message_packs,localized messages pack>>: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/textfield_1.xml[]
---- 
+
The figure below shows an example of a simple text field.
+
image::gui_textField_data.png[align="center"]

* In Web Client with a Halo-based theme, you can set predefined styles to the TextField component using the `stylename` attribute either in the XML descriptor or in the screen controller:
+
--
[source, xml]
----
include::{sourcesdir}/gui_vcl/textfield_7.xml[]
----

When setting a style programmatically, select one of the `HaloTheme` class constants with the `TEXTFIELD_` prefix:
[source, java]
----
include::{sourcesdir}/gui_vcl/textfield_8.java[]
----

TextField styles:

[[gui_textfield_align-center]]
*  `align-center` - align the text inside the field to center.

[[gui_textfield_align-right]]
* `align-right` - align the text inside the field to the right.

[[gui_textfield_borderless]]
* `borderless` - removes the border and background from the text field.

[[gui_textfield_inline-icon]]
* `inline-icon` - moves the default caption icon inside the text field.

[[gui_TextField_caseConversion]]
TextField supports automatic case conversion. The `caseConvertion` attribute can have one of the following values:

* `UPPER` - the upper case,

* `LOWER` - the lower case,

* `NONE` - without conversion (the default value). Use this option to support key-sequence input using IME (for example, for Japanese, Korean or Chinese language).
--

* To create a text field connected to data, use <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/textfield_2.xml[]
---- 
+
As you can see in the example, the screen describes the `customerDs` <<datasources,datasource>> for `Customer` entity, which has `name` attribute. The text field component has a link to the data source specified in the <<gui_attr_datasource,datasource>> attribute; <<gui_attr_property,property>> attribute contains the name of the entity attribute that is displayed in the text field.

[[gui_TextField_datatype]]
* If the field is not connected to an entity attribute (i.e. the data source and attribute name are not set), you can set the data type using the `datatype` attribute. It is used to format field values. The attribute value accepts any data type registered in the application metadata – see <<datatype>>. Typically, `TextField` uses the following data types:

** `decimal`

** `double`

** `int`

** `long`
+
As an example, let's look at a text field with an `Integer` data type.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/textfield_3.xml[]
---- 
+
If a user enters a value that cannot be interpreted as an integer number, then when the field looses focus, the application will show an error message and revert field value to the previous one.

* Text field can be assigned a <<gui_validator,validator>> – a class implementing `Field.Validator` interface. The validator limits user input in addition to what is already done by the `datatype`. For example, to create an input field for positive integer numbers, you need to create a validator class:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/textfield_4.java[]
---- 
+
and assign it as a validator to the text field with `int` datatype: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/textfield_5.xml[]
---- 
+
Unlike input check against the data type, validation is performed not when the field looses focus, but after invocation of the field's `validate()` method. It means that the field (and the linked entity attribute) may temporarily contain a value that does not satisfy validation conditions (a non-positive number in the example above). This should not be an issue, because validated fields are typically used in <<screen_edit,editor screens>>, which automatically invoke validation for all their fields before commit. If the field is located not in an editing screen, the field's `validate()` method should be invoked explicitly in the controller.

[[gui_TextField_TextChangeListener]]
* `TextField` supports `TextChangeListener` defined in its parent `TextInputField` interface. Text change events are processed asynchronously after typing in order not to block the typing.
+
--
[source, java]
----
include::{sourcesdir}/gui_vcl/textfield_9.java[]
----

image::gui_textfield_2.png[align="center"]
--
* The `TextChangeEventMode` defines the way the changes are transmitted to the server to cause a server-side event. There are 3 predefined event modes:
+
--
* `LAZY` (default) - an event is triggered when there is a pause in editing the text. The length of the pause can be modified with `setInputEventTimeout()`. A text change event is forced before a possible `ValueChangeEvent`, even if the user did not keep a pause while entering the text.

* `TIMEOUT` - an event is triggered after a timeout period. If more changes are made during this period, the event sent to the server-side includes the changes made up to the last change. The length of the timeout can be set with `setInputEventTimeout()`.
+
If a `ValueChangeEvent` would occur before the timeout period, a `TextChangeEvent` is triggered before it, on the condition that the text content has changed since the previous `TextChangeEvent`.

* `EAGER` - an event is triggered immediately for every change in the text content, typically caused by a key press. The requests are separate and are processed sequentially one after another. Change events are nevertheless communicated asynchronously to the server, so further input can be typed while event requests are being processed.
--

[[gui_TextField_EnterPressListener]]
* `EnterPressListener` allows you to define an <<gui_Action,action>> executed when Enter is pressed:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/textfield_10.java[]
----

[[gui_TextField_ValueChangeListener]]
* `ValueChangeListener` is triggered on the value changes when the user finished the text input, i.e. after the Enter press or when the component loses focus. An event object of the `ValueChangeEvent` type is passed to the listener. It has the following methods:
+
** `getPrevValue()` returns the value of the component before the change.
+
** `getValue()` method return the current value of the component.
+
[source, java]
----
textField.addValueChangeListener(e ->
        showNotification("Before: " + e.getPrevValue() + ". After: " + e.getValue()));
----

* If a text field is linked to an entity attribute (via `datasource` and `property`), and if the entity attribute has a `length` parameter defined in the `@Column` JPA-annotation, then the `TextField` will limit the maximum length of entered text accordingly.
+
[[gui_TextField_maxLength]]
If a text field is not linked to an attribute, or if the attribute does not have `length` value defined, or this value needs to be overridden, then the maximum length of the entered text can be limited using `maxLength` attribute. The value of "-1" means there are no limitations. For example: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/textfield_6.xml[]
----

[[gui_TextField_trim]]
* By default, text field trims spaces at the beginning and at the end of the entered string. I.e. if user enters " aaa bbb ", the value of the field returned by the `getValue()` method and saved to the linked entity attribute will be "aaa bbb". You can disable trimming of spaces by setting the `trim` attribute to `false`.
+
It should be noted that trimming only works when users enter a new value. If the value of the linked attribute already has spaces in it, the spaces will be displayed until user edits the value.

* Text field always returns `null` instead of an entered empty string. Therefore, with the `trim` attribute enabled, any string containing spaces only will be converted to `null`.

* The `setCursorPosition()` method can be used to focus the field and set the cursor position to the specified 0-based index.

'''

Attributes of textField::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_TextField_caseConversion,caseConversion>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_TextField_datatype,datatype>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_inputPrompt,inputPrompt>> -
<<gui_TextField_maxLength,maxLength>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_TextField_trim,trim>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of textField::
<<gui_validator,validator>>

Predefined styles of textField::
<<gui_textfield_align-center,align-center>> -
<<gui_textfield_align-right,align-right>> -
<<gui_textfield_borderless,borderless>> -
<<gui_attr_stylename_huge,huge>> -
<<gui_textfield_inline-icon,inline-icon>> -
<<gui_attr_stylename_large,large>> -
<<gui_attr_stylename_small,small>> -
<<gui_attr_stylename_tiny,tiny>>

API::
<<gui_TextField_EnterPressListener,addEnterPressListener>> -
<<gui_TextField_TextChangeListener,addTextChangeListener>> -
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_TimeField]]
====== TimeField

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-timefield" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/TimeField.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`TimeField` is a field for displaying and entering time.

image::gui_timeField.png[align="center"]

XML-name of the component: `timeField`.

`TimeField` component is implemented for both *Web Client* and *Desktop Client*.

* To create a time field associated with data, <<gui_attr_datasource,datasource>> and <<gui_attr_property,property>> attributes should be used:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/timefield_1.xml[]
---- 
+
As you can see in the example above, the screen defines the `orderDs` <<datasources,data source>> for `Order` entity, which has `deliveryTime` attribute. The `datasource` attribute of the time input component contains a link to the `datasource`, and the `property` attribute – the name of the entity attribute displayed in the field.
+
Related entity attribute should have `java.util.Date` or `java.sql.Time` type.

[[gui_TimeField_timeFormat]]
* The time format is defined by the `time` <<datatype,datatype>> and is specified in the <<main_message_pack,main localized messages pack>> in the `timeFormat` key.

* The time format can also be specified in the `timeFormat` attribute. It can be either a format string, or a key in a message pack (with the `msg://` prefix).

[[gui_TimeField_showSeconds]]
* Regardless of the mentioned above format display of seconds can be controlled using `showSeconds` attribute. By default, seconds are displayed if the format contains `ss`. 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/timefield_2.xml[]
----
+
image::gui_timeFieldSec.png[align="center"]

'''

Attributes of timeField::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_TimeField_showSeconds,showSeconds>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_TimeField_timeFormat,timeFormat>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of timeField::
<<gui_validator,validator>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_commit,commit>> -
<<gui_api_discard,discard>> -
<<gui_api_isModified,isModified>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_TokenList]]
====== TokenList

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=normal-tokenlist" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/TokenList.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`TokenList` component offers a simplified way of working with lists: instance names are listed vertically or horizontally, adding is done using drop-down list, removal – using the buttons located near each instance.

image::gui_tokenList.png[align="center"]

XML-name of the component: `tokenList`

The component is implemented for both *Web Client* and *Desktop Client*.

Below is an example description of `TokenList` in an XML-descriptor of a screen: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/tokenList_1.xml[]
---- 

In the example above, the nested `productsDs` <<datasources,datasource>> which includes a collection of products within an order is defined, as well as `allProductsDs` datasource containing a collection of all products available in the database. The `TokenList` component with `productsList` identifier displays the content of the `productsDs` datasource and enables changing the collection by adding instances from `allProductsDs`.

`tokenList` attributes:

[[gui_TokenList_position]]
* `position` – sets the position for the drop-down list. The attribute can take two values: `TOP`, `BOTTOM`. Default is `TOP`.

image::gui_tokenListBottom.png[align="center"]

[[gui_TokenList_inline]]
* `inline` attribute defines how the list with selected items will be displayed: vertically or horizontally. `true` corresponds to horizontal alignment, `false` – to vertical. An example of a component with horizontal alignment:

image::gui_tokenListInline.png[align="center"]

[[gui_TokenList_simple]]
*  `simple` – when set to `true`, the items selection component will be hidden with only the *Add* button left. Clicking the *Add* button opens the screen with the list of entity instances which type is defined by the datasource. Selection screen identifier is selected according to the rules for the `PickerField.LookupAction` <<picker_actions,standard action>>. Clicking the *Clear* button will remove all elements from the `TokenList` component datasource.
+
image::gui_tokenListSimple_withClear.png[align="center"]

[[gui_TokenList_clearEnabled]]
* `clearEnabled` - when set to `false`, the *Clear* button is hidden.

`tokenList` elements:

[[gui_TokenList_lookup]]
* `lookup` − values selection component descriptor.
+
--
Attributes of the `lookup` element:

[[gui_TokenList_lookup_lookup]]
** `lookup` attribute makes it possible to select items using an entity lookup screen:
+
image::gui_tokenListLookup.png[align="center"]

[[gui_TokenList_lookup_inputPrompt]]
* `inputPrompt` - a textual prompt that is displayed in the lookup field to prompt the user for input. If not set, the lookup is empty.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gui_tokenList_2.xml[]
----
+
image::gui_TokenList_inputPrompt.png[align="center"]

[[gui_TokenList_lookup_lookupScreen]]
** `lookupScreen` attribute sets the identifier of the screen used for items selection in `lookup="true"` mode. If this attribute is not set, screen identifier is selected according to the rules for the `PickerField.LookupAction` <<picker_actions,standard action>>.

** `openType` attribute defines how the lookup screen will be opened, similar to what is described for the `PickerField.LookupAction` <<picker_actions,standard action>>. Default value – `++THIS_TAB++`.

[[gui_TokenList_lookup_multiselect]]
** `multiselect` - if this attribute's value is set to `true`, then `true` will be passed to parameters map of the lookup screen for the `MULTI_SELECT` key. This flag can be used to set the screen into multiple selection mode. This flag is defined in the `WindowParams` enum so it is convenient to work with it in the following way:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/tokenListMultiselect_1.java[]
----

--

[[gui_TokenList_button]]
* `addButton` – descriptor of the button for adding items. Can contain <<gui_attr_caption,caption>> and <<gui_attr_icon,icon>> attributes.

`tokenList` listeners:

[[gui_TokenList_ItemClickListener]]
* `ItemClickListener` allows you to track the click on `tokenList` items.

* `ValueChangeListener` enables tracking the changes of the `tokenList` value, as well as of any other components implementing the `Field` interface.

'''

Attributes of tokenList::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_TokenList_clearEnabled,clearEnabled>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_TokenList_inline,inline>> -
<<gui_TokenList_position,position>> -
<<gui_TokenList_simple,simple>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of tokenList::
<<gui_TokenList_button,addButton>> -
<<gui_TokenList_lookup,lookup>>

Attributes of <<gui_TokenList_lookup,lookup>>::
<<gui_attr_captionProperty,captionProperty>> -
<<gui_LookupField_filterMode,filterMode>> -
<<gui_TokenList_lookup_inputPrompt,inputPrompt>> -
<<gui_TokenList_lookup_lookup,lookup>> -
<<gui_TokenList_lookup_lookupScreen,lookupScreen>> -
<<gui_TokenList_lookup_multiselect,multiselect>> -
<<gui_attr_openType,openType>> -
<<gui_attr_optionsDatasource,optionsDatasource>>

Attributes of <<gui_TokenList_button,button>>::
<<gui_attr_caption,caption>> -
<<gui_attr_icon,icon>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>> -
<<gui_TokenList_ItemClickListener,setItemClickListener>>

'''

[[gui_Tree]]
====== Tree

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-tree" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Tree.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The `Tree` component is intended to display hierarchical structures represented by entities referencing themselves.

image::gui_Tree.png[align="center"]

XML-name of the component: `tree`

The component is implemented for both *Web Client* and *Desktop Client*. 

[[gui_Tree_treechildren]]
For the `Tree` component, the `datasource` attribute of the `treechildren` element should contain a reference to a <<datasources,hierarchicalDatasource>>. Declaration of a `hierarchicalDatasource` should contain a `hierarchyProperty` attribute – the name of the entity attribute which is a reference to same entity.

Below is an example of the `Tree` component description in a screen XML-descriptor: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/tree_1.xml[]
---- 

The name of the entity attribute to be displayed in the tree can be set using the `captionProperty` attribute of the `treechildren` element. If this attribute is not defined, the screen will show the entity <<namePattern_annotation,instance name>>.

[[gui_Tree_multiselect]]
`multiselect` attribute enables setting multiple selection mode for tree items. If `multiselect` is `true`, users can select multiple items using keyboard or mouse holding *Ctrl* or *Shift* keys. By default, multiple selection mode is switched off.

The `setItemClickAction()` method may be used to define an <<gui_Action,action>> that will be performed when a tree node is double-clicked.

Each tree item can have an icon on the left. Create an implementation of the `ListComponent.IconProvider` interface in the screen controller and set it for the tree:

[source, java]
----
include::{sourcesdir}/gui_vcl/treeIconProvider_1.java[]
----

'''

Attributes of tree::
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_Tree_multiselect,multiselect>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of tree::
<<gui_Table_actions,actions>> -
<<gui_Tree_treechildren,treechildren>>

Attributes of treechildren::
<<gui_attr_captionProperty,captionProperty>> -
<<gui_attr_datasource,datasource>>

'''

[[gui_TreeTable]]
====== TreeTable

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=tree-table" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/TreeTable.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`TreeTable` component is a hierarchical table displaying a tree-like structure in the leftmost column. The component is used for entities that have references to themselves. For example, it can be a file system or a company organization chart.

image::gui_treeTable.png[align="center"]

XML-name of the component: `treeTable`

The component is implemented for both *Web Client* and *Desktop Client*. 

For `TreeTable`, the <<datasources,hierarchicalDatasource>> should be set in the `datasource` attribute of the `rows` element. Declaration of a `hierarchicalDatasource` should contain `hierarchyProperty` attribute – the name of the entity attribute which references the same entity.

Below is an example of component description in a screen XML descriptor: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/treetable_1.xml[]
---- 

The functionality of `TreeTable` is similar to a simple <<gui_Table,Table>>.

'''

treeTable attributes::
<<gui_attr_align,align>> -
<<gui_Table_aggregatable,aggregatable>> -
<<gui_Table_aggregationStyle,aggregationStyle>> -
<<gui_Table_columnControlVisible,columnControlVisible>> -
<<gui_Table_allowPopupMenu,contextMenuEnabled>> -
<<gui_Table_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_Table_multiLineCells,multiLineCells>> -
<<gui_Table_multiselect,multiselect>> -
<<gui_Table_presentations,presentations>> -
<<gui_Table_reorderingAllowed,reorderingAllowed>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_Table_sortable,sortable>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_textSelectionEnabled,textSelectionEnabled>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

treeTable elements::
<<gui_Table_actions,actions>> -
<<gui_Table_buttonsPanel,buttonsPanel>> -
<<gui_Table_columns,columns>> -
<<gui_Table_rows,rows>> -
<<gui_Table_rowsCount,rowsCount>>

<<gui_Table_columns,column>> attributes::
<<gui_Table_column_align,align>> -
<<gui_Table_column_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_Table_column_collapsed,collapsed>> -
<<gui_DateField_dateFormat,dateFormat>> -
<<gui_Table_column_editable,editable>> -
<<gui_Table_column_id,id>> -
<<gui_Table_column_link,link>> -
<<gui_Table_column_linkInvoke,linkInvoke>> -
<<gui_Table_column_linkScreen,linkScreen>> -
<<gui_Table_column_linkScreenOpenType,linkScreenOpenType>> -
<<gui_Table_column_maxTextLength,maxTextLength>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_DateField_resolution,resolution>> -
<<gui_Table_column_sortable,sortable>> -
<<gui_attr_visible,visible>> -
<<gui_Table_column_width,width>>

<<gui_Table_columns,column>> elements::
<<gui_Table_column_aggregation,aggregation>> -
<<gui_formatter,formatter>>

<<gui_Table_rows,rows>> attribute::
<<gui_attr_datasource,datasource>>

API::
<<gui_Table_ColumnCollapseListener,addColumnCollapseListener>> -
<<gui_Table_CellClickListener,setClickListener>>


'''

[[gui_TwinColumn]]
====== TwinColumn

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-twincolumn" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/TwinColumn.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`TwinColumn` is a twin list component for multiple items selection. The left part of the list contains available unselected values, the right part – selected values. Users select the values by transferring them from the left to the right and backward using double click or dedicated buttons. A unique representation style and an icon can be defined for each value.

image::TwinColumn.png[align="center"]

XML name of the component: `twinColumn`

The component is implemented for *Web Client* only.

Below is an example of a `twinColumn` component usage to select entity instances: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/twincolumn_1.xml[]
---- 

In this example, the `coloursField` component will display names of `Colour` entity instances located in the `coloursDs` <<datasources,data source>> and its `getValue()` method will return a collection of selected instances.

[[gui_TwinColumn_addAllBtnEnabled]]
`addAllBtnEnabled` attribute shows the buttons moving all items between the lists.

[[gui_TwinColumn_columns_rows]]
`columns` attribute is used to set the number of characters in a row, and the `rows` attribute – to set the number of rows in each list.

[[gui_TwinColumn_captions]]
`leftColumnCaption` and `rightColumnCaption` attributes can be used to set captions for the columns.

The presentation of the items can be defined by implementing the `TwinColumn.StyleProvider` interface and returning a style name and icon path for each entity instance displayed in the component.

The list of component options can be specified arbitrarily using the `setOptionsList()`, `setOptionsMap()` and `setOptionsEnum()` methods as described for the <<gui_OptionsGroup,OptionsGroup>> component.

'''

Attributes of twinColumn::
<<gui_attr_align,align>> -
<<gui_TwinColumn_addAllBtnEnabled,addAllBtnEnabled>> -
<<gui_attr_caption,caption>> -
<<gui_attr_captionProperty,captionProperty>> -
<<gui_TwinColumn_columns_rows,columns>> -
<<gui_attr_contextHelpText,contextHelpText>> -
<<gui_attr_contextHelpTextHtmlEnabled,contextHelpTextHtmlEnabled>> -
<<gui_attr_datasource,datasource>> -
<<gui_attr_description,description>> -
<<gui_attr_editable,editable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_TwinColumn_captions,leftColumnCaption>> -
<<gui_attr_optionsDatasource,optionsDatasource>> -
<<gui_attr_property,property>> -
<<gui_attr_required,required>> -
<<gui_attr_requiredMessage,requiredMessage>> -
<<gui_TwinColumn_captions,rightColumnCaption>> -
<<gui_TwinColumn_columns_rows,rows>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of twinColumn::
<<gui_validator,validator>>

API::
<<gui_api_addValueChangeListener,addValueChangeListener>> -
<<gui_api_contextHelp,setContextHelpIconClickHandler>>

'''

[[gui_layouts]]
===== Containers

<<gui_Accordion, Accordion>>

<<gui_BoxLayout,BoxLayout>>

<<gui_ButtonsPanel,ButtonsPanel>>

<<gui_CssLayout,CssLayout>>

<<gui_Frame,Frame>>

<<gui_GridLayout,GridLayout>>

<<gui_GroupBoxLayout,GroupBoxLayout>>

<<gui_HtmlBoxLayout,HtmlBoxLayout>>

<<gui_ScrollBoxLayout,ScrollBoxLayout>>

<<gui_SplitPanel,SplitPanel>>

<<gui_TabSheet,TabSheet>>

[[gui_Accordion]]
====== Accordion

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-accordion" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Accordion.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`Accordion` is a container for collapsible content that allows you to toggle between hiding and showing large amount of content. The `Accordion` container is implemented for *Web Client*.

image::gui_accordion.png[align="center"]

XML-name of the component: `accordion`.
An example description of an accordion in a screen XML-descriptor:
[source, xml]
----
include::{sourcesdir}/gui_vcl/accordion_1.xml[]
----

The `accordion` component should contain nested `tab` elements describing tabs. Each tab is a container with a vertical components layout similar to <<gui_BoxLayout,vbox>>. Accordion container can be used if the application page is limited in space or the tab title is too long to be displayed in the `TabSheet`. Accordion is featured with a smooth transition animation.

`tab` element attributes:

* `id` – tab identifier. Please note that tabs are not components and their IDs are used only within the `Accordion` in order to work with tabs from the controller.

* <<gui_attr_caption,caption>> – tab caption.

* <<gui_attr_icon,icon>> - defines icon location in theme catalog or the icon name in the <<icon_set,icon set>>. Detailed information on recommended icon placement is available in <<gui_icons>>.

[[gui_accordion_tab_lazy]]
* `lazy` – sets lazy loading for tab content.
+
Lazy tabs do not load their content when the screen is opened, which reduces the number of components in memory. Components within a tab are loaded only when a user selects the tab. Additionally, if a lazy-tab includes visual components linked to a <<datasources, datasource>> containing a JPQL query, this query is not executed as well. As a result, screen opens faster, and data is loaded only when the user requests it by selecting this tab.
+
[[gui_accordion_SelectedTabChangeListener]]
Please note that the components located on a lazy tab do not exist when the screen is opened. Therefore they cannot be <<screen_controller_injection,injected>> into a controller and cannot be obtained by invoking `getComponent()` in the controller's `init()` method. The lazy tab components can be accessed only after the user opens the tab. This moment may be intercepted using `Accordion.SelectedTabChangeListener`, for example:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/accordion_1.java[]
----
+
By default, tabs are not `lazy`, which means that all their content is loaded when a screen is opened.

* In Web Client with a Halo-based theme, the `stylename` attribute allows you to set the predefined `borderless` style to the `accordion` component to remove borders and background:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/accordion_2.java[]
----

An `accordion` tab can contain any other visual container, such as table, grid etc:
[source, xml]
----
include::{sourcesdir}/gui_vcl/accordion_2.xml[]
----
image::gui_accordion_2.png[align="center"]

'''

Attributes of accordion::
<<gui_attr_colspan, colspan>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_rowspan, rowspan>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabCaptionsAsHtml,tabCaptionsAsHtml>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Attributes of tab::
<<gui_attr_caption,caption>> -
<<gui_attr_description,description>> -
<<gui_attr_enable,enable>> -
<<gui_attr_expand,expand>> -
<<gui_attr_icon,icon>> -
<<gui_attr_id,id>> -
<<gui_accordion_tab_lazy,lazy>> -
<<gui_attr_margin,margin>> -
<<gui_attr_spacing,spacing>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>>

API::
<<gui_api_add,add>> -
<<gui_accordion_SelectedTabChangeListener,addSelectedTabChangeListener>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>>

'''

[[gui_BoxLayout]]
====== BoxLayout

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/BoxLayout.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`BoxLayout` is a container with sequential placement of components.

There are three types of `BoxLayout`, identified by the XML-elements:

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=hbox-sample" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

[[gui_BoxLayout_hbox]]
* `hbox` − components are placed horizontally.
+
image::gui_hbox.png[align="center"]
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/boxlayout_1.xml[]
----

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=vbox-sample" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

[[gui_BoxLayout_vbox]]
* `vbox` − components are placed vertically. `vbox` has 100% width by default.
+
image::gui_vbox.png[align="center"]
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/boxlayout_2.xml[]
----

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=flowbox-sample" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

[[gui_BoxLayout_flowBox]]
* `flowBox` − components are placed horizontally with line wrapping. If there is not enough space in a line, the components that do not fit will be displayed in the next line (the behavior is similar to Swing `FlowLayout`).
+
image::gui_flowbox.png[align="center"]
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/boxlayout_3.xml[]
----

In Web Client with a Halo-based theme, `BoxLayout` may be used to create enhanced composite layouts. The `stylename` attribute with `card` or `well` value along with `stylename="v-panel-caption"` for an enclosed container will make a component look like https://vaadin.com/docs/-/part/framework/layout/layout-panel.html[Vaadin Panel].

* `card` style name makes a layout look like a card.

* `well` style makes the card look "sunken" with shaded background.

image::gui_boxlayout.png[align="center"]

[source, xml]
----
include::{sourcesdir}/gui_vcl/boxlayout_4.xml[]
----

The <<gui_api_getComponent,getComponent()>> method allows you to obtain a child component of `BoxLayout` by its index:

[source, java]
----
include::{sourcesdir}/gui_vcl/boxlayout_1.java[]
----

[[gui_BoxLayout_addShortcutAction]]
You can use keyboard shortcuts in `BoxLayout`. Set the shortcut and the action to be performed using the `addShortcutAction()` method:

[source, java]
----
include::{sourcesdir}/gui_vcl/boxlayout.java[]
----

'''

Attributes of hbox, vbox, flowBox::
<<gui_attr_align,align>> -
<<gui_attr_enable,enable>> -
<<gui_attr_expand,expand>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_margin,margin>> -
<<gui_attr_spacing,spacing>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_add,add>> -
<<gui_api_addLayoutClickListener,addLayoutClickListener>> -
<<gui_api_shortcut,addShortcutAction>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_margin,getMargin>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_indexOf,indexOf>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>> -
<<gui_api_margin,setMargin>> -
<<gui_api_spacing,setSpacing>>

'''

[[gui_ButtonsPanel]]
====== ButtonsPanel

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=table-buttonspanel" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/ButtonsPanel.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`ButtonsPanel` is a container that streamlines the use and placement of the components (usually, buttons) for data management in a table. 

image::gui_buttonsPanel.png[align="center"]

XML-name of the component: `buttonsPanel`.

A sample definition of `ButtonsPanel` in screen XML-descriptor:

[source, xml]
----
include::{sourcesdir}/gui_vcl/buttonspanel_1.xml[]
---- 

`buttonsPanel` element can be located either inside a `table`, or in any other place of a screen. 

If the `buttonsPanel` is located in a `table`, it is combined with the table's <<gui_Table_rowsCount,rowsCount>> component thus using vertical space more effectively. Additionally, if a lookup screen is opened using `Frame.openLookup()` (for example, from the <<gui_PickerField,PickerField>> component) the buttons panel becomes hidden.

[[gui_ButtonsPanel_alwaysVisible]]
`alwaysVisible` attribute disables panel hiding in a lookup screen when it is opened by `Frame.openLookup()`. If the attribute value is `true`, the buttons panel is not hidden. By default, the attribute value is `false`.

[[gui_ButtonsPanel_LayoutClickListener]]
Clicks on the `buttonsPanel` area can be intercepted with the help of the `LayoutClickListener` interface.

[[gui_ButtonsPanel_addShortcutAction]]
You can use keyboard shortcuts in `ButtonsPanel`. Set the shortcut and the action to be performed using the `addShortcutAction()` method:

[source, java]
----
include::{sourcesdir}/gui_vcl/buttonspanel.java[]
----

'''

Attributes of buttonsPanel::
<<gui_attr_align,align>> -
<<gui_ButtonsPanel_alwaysVisible,alwaysVisible>> -
<<gui_attr_enable,enable>> -
<<gui_attr_expand,expand>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_addLayoutClickListener,addLayoutClickListener>> -
<<gui_api_shortcut,addShortcutAction>> -
<<gui_api_spacing,setSpacing>>

'''

[[gui_CssLayout]]
====== CssLayout

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/dashboard" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/CssLayout.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`CssLayout` is a container that enables full control over placement and styling of enclosed components using CSS.

XML-name of the component: `cssLayout`.

Below is an example of using `cssLayout` for simple responsive screen.

Displaying components on a wide screen:

image::gui_cssLayout_1.png[align="center"]

Displaying components on a narrow screen:

image::gui_cssLayout_2.png[align="center"]

Screen's XML-descriptor:

[source, xml]
----
include::{sourcesdir}/gui_vcl/cssLayout_1.xml[]
----

Content of `modules/web/themes/halo/halo-ext.scss` file (see <<web_theme_extension>> for how to create this file):

[source, css]
----
include::{sourcesdir}/gui_vcl/cssLayout_2.css[]
----

* `stylename` attribute enables setting predefined styles to the `CssLayout` component either in the XML descriptor or in the screen controller.
+
--
* `v-component-group` style is used to create a grouped set of components, i.e. a row of components which are joined seamlessly together:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/cssLayout_3.xml[]
----
+
image::gui_cssLayout_3.png[align="center"]

* `well` style makes container look "sunken" with shaded background.

* `card` style name makes a layout look like a card. Combined with an additional `v-panel-caption` style name for any enclosed layout, it provides a possibility to create enhanced composite layouts, for example:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/cssLayout_4.xml[]
----

+
and result will be the following:
+
image::gui_cssLayout_4.png[align="center"]
--

'''

Attributes of cssLayout::
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_responsive,responsive>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_add,add>> -
<<gui_api_shortcut,addShortcutAction>> -
<<gui_api_addLayoutClickListener,addLayoutClickListener>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_indexOf,indexOf>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>>

'''

[[gui_Frame]]
====== Frame

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-frame" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Frame.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`frame` element is designed to include <<frame,frames>> into a screen.

Attributes:

[[gui_Frame_src]]
* `src` − path to the frame XML-descriptor.

[[gui_Frame_screen]]
* `screen` – frame identifier in <<screens.xml,screens.xml>> (if the frame is registered).

One of these attributes should be defined. If both attributes are defined, frame will be loaded from the file explicitly set in `src`.

'''

Attributes of frame::
<<gui_attr_align,align>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_Frame_screen,screen>> -
<<gui_Frame_src,src>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_add,add>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_margin,getMargin>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_indexOf,indexOf>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>> -
<<gui_api_margin,setMargin>> -
<<gui_api_spacing,setSpacing>>

'''

[[gui_GridLayout]]
====== GridLayout

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-grid" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/GridLayout.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`GridLayout` container places components on a grid.

image::gui_gridlayout.png[align="center"]

XML-name of the component: `grid`.

Example container usage: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/gridlayout_1.xml[]
---- 

`grid` elements:

[[gui_GridLayout_columns]]
* `columns` – a required element, describes grid columns. It should have either a `count` attribute, or a nested `column` element for each column.
+
[[gui_GridLayout_columns_count]]
In the simplest case, it is enough to set the number of columns in the `count` attribute. Then, if the container width is explicitly defined in pixels or percents, free space will be divided between the columns equally.
+
[[gui_GridLayout_column_flex]]
In order to divide screen space non-equally, a `column` element with a `flex` attribute should be defined for each column.
+
An example of a grid where the second and the fourth columns take all extra horizontal space and the fourth column takes three times more space: 
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/gridlayout_2.xml[]
---- 
+
If `flex` is not defined, or is set to 0, the width of the column will be set according to its contents given that at least one other column has a non-zero `flex`. In the example above, the first and the third columns will get the width according to the maximum text length.
+
[TIP]
====
In order for the free space to appear, the entire container width should be set in either pixels or percents. Otherwise, column width will be calculated according to content length, and `flex` attribute will have no effect.
====

[[gui_GridLayout_rows]]
* `rows` − a required element, contains a set of rows. Each line is defined in its own `row` element.
+
[[gui_GridLayout_row_flex]]
`row` element can have a `flex` attribute similar to the one defined for `column`, but affecting the distribution of free vertical space with a given total grid height.
+
`row` element should contain elements of the components displayed in the grid's current row cells. The number of components in a row should not exceed the defined number of columns, but it can be less.

Any component located in a `grid` container can have <<gui_attr_colspan,colspan>> and <<gui_attr_rowspan,rowspan>> attributes. These attributes set the number of columns and rows occupied by the corresponding component. For example, this is how `Field3` field can be extended to cover three columns:

[source, xml]
----
include::{sourcesdir}/gui_vcl/gridlayout_3.xml[]
----

As a result, the components will be placed in the following way:

image::gui_gridlayout_colspan.png[align="center"]

[[gui_GridLayout_LayoutClickListener]]
Clicks on the `GridLayout` area can be intercepted with the help of the `LayoutClickListener` interface.

The <<gui_api_getComponent,getComponent()>> method allows you to obtain a child component of `GridLayout` by its column and row index:

[source, java]
----
include::{sourcesdir}/gui_vcl/gridlayout_1.java[]
----

[[gui_GridLayout_addShortcutAction]]
You can use keyboard shortcuts in `GridLayout`. Set the shortcut and the action to be performed using the `addShortcutAction()` method:

[source, java]
----
include::{sourcesdir}/gui_vcl/gridlayout.java[]
----

'''

Attributes of grid::
<<gui_attr_align,align>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_margin,margin>> -
<<gui_attr_spacing,spacing>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Elements of grid::
<<gui_GridLayout_columns,columns>> -
<<gui_GridLayout_rows,rows>>

Attributes of columns::
<<gui_GridLayout_columns_count,count>>

Attributes of column::
<<gui_GridLayout_column_flex,flex>>

Attributes of row::
<<gui_GridLayout_row_flex,flex>> -
<<gui_attr_visible,visible>>

API::
<<gui_api_add,add>> -
<<gui_api_shortcut,addShortcutAction>> -
<<gui_api_addLayoutClickListener,addLayoutClickListener>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_margin,getMargin>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>> -
<<gui_api_margin,setMargin>> -
<<gui_api_spacing,setSpacing>>

'''

[[gui_GroupBoxLayout]]
====== GroupBoxLayout

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-groupbox" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/GroupBoxLayout.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`GroupBoxLayout` is a container that enables framing the embedded components and setting a universal header for them. Additionally, it can collapse content.

image::gui_groupBox.png[align="center"]

Component XML-name: `groupBox`.

An example container description in a screen XML-descriptor: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/groupboxlayout_1.xml[]
---- 

`groupBox` attributes:

* `caption` – group header.

[[gui_GroupBox_orientation]]
* `orientation` – defines components placement direction − horizontal or vertical. The default value is `vertical`.

[[gui_GroupBox_collapsable]]
* `collapsable` – if the value is set to `true`, the component's content can be hidden using image:gui_groupBox_minus.png[]/image:gui_groupBox_plus.png[] buttons.

[[gui_GroupBox_collapsed]]
* `collapsed` – if set to `true`, component's content will be collapsed initially. It is used with `collapsable="true"`.
+
An example of a collapsed `GroupBox`:
+
image::gui_groupBox_collapsed.png[align="center"]
+
[[gui_GroupBox_ExpandedStateChangeListener]]
The expanded state change events of the `groupBox` component can be intercepted with the help of the `ExpandedStateChangeListener` interface.

[[gui_GroupBox_outerMargin]]
* `outerMargin` - sets the outer margins outside the border of `groupBox`. If set to `true`, the outer margins will be added on all sides of the component. To set the outer margins for all sides individually, set `true` or `false` for each side of `groupBox`:
+
[source, xml]
----
<groupBox outerMargin="true, false, true, false">
----
+
If the `showAsPanel` attribute is set to true, `outerMargin` is ignored.

[[gui_GroupBox_panel]]
* `showAsPanel` – if set to `true`, the component will look like link:https://vaadin.com/docs/-/part/framework/layout/layout-panel.html[Vaadin Panel]. The default value is `false`.
+
image::gui_groupBox_Panel.png[align="center"]

By default, the `groupBox` container is 100% wide, similar to <<gui_BoxLayout,vbox>>.

In Web Client with a Halo-based theme, you can set predefined styles to the `groupBox` component using the `stylename` attribute either in the XML descriptor or in the screen controller. When setting a style programmatically, select one of the HaloTheme class constants with the `LAYOUT_` or `GROUPBOX_` prefix. The following styles should be used combined with `showAsPanel` attribute set to `true`:

[[gui_groupbox_borderless]]
* `borderless` style removes borders and the background color of the `groupBox`:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/groupboxlayout_3.java[]
----

[[gui_groupbox_card]]
* `card` style name makes a layout look like a card.

[[gui_groupbox_well]]
* `well` style makes container look "sunken" with shaded background:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/groupboxlayout_2.xml[]
----
+
image::gui_groupBox_Panel_2.png[align="center"]

[[gui_GroupBox_addShortcutAction]]
You can use keyboard shortcuts in `Groupbox`. Set the shortcut and the action to be performed using the `addShortcutAction()` method:

[source, java]
----
include::{sourcesdir}/gui_vcl/groupboxlayout.java[]
----

'''

Attributes of groupBox::
<<gui_attr_align,align>> -
<<gui_attr_caption,caption>> -
<<gui_GroupBox_collapsable,collapsable>> -
<<gui_GroupBox_collapsed,collapsed>> -
<<gui_attr_expand,expand>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_GroupBox_orientation,orientation>> -
<<gui_GroupBox_outerMargin,outerMargin>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_GroupBox_panel,showAsPanel>> -
<<gui_attr_spacing,spacing>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_width,width>>

Predefined styles of groupBox::
<<gui_groupbox_borderless,borderless>> -
<<gui_groupbox_card,card>> -
<<gui_groupbox_well,well>>

API::
<<gui_api_add,add>> -
<<gui_api_expanded,addExpandedStateChangeListener>> -
<<gui_api_shortcut,addShortcutAction>> -
<<gui_api_settings,applySettings>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_indexOf,indexOf>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>> -
<<gui_api_settings,saveSettings>> -
<<gui_api_outerMargin,setOuterMargin>> -
<<gui_api_spacing,setSpacing>>

'''

[[gui_HtmlBoxLayout]]
====== HtmlBoxLayout

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=html-box" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/HtmlBoxLayout.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`HtmlBoxLayout` is a container that enables you to define locations of components in an HTML template. The layout template is included in a <<web_theme,theme>>.

XML-name of the component: `htmlBox`.

Below is an example of using `htmlBox` for a simple screen.

image::gui_htmlBox_1.png[align="center"]

Screen's XML-descriptor:

[source, xml]
----
include::{sourcesdir}/gui_vcl/htmlBox_1.xml[]
----

`htmlBox` attributes:

[[gui_htmlBox_template]]
* `template` attribute defines the name of an HTML file located in the `layouts` subdirectory of your theme. You should create a <<web_theme_extension,theme extension>> or a <<web_theme_creation,custom theme>> before creating a template.
+
--
For example, if your theme is Halo and the attribute contains `my_template`, the template file should be `modules/web/themes/halo/layouts/my_template.html`.

Content of the HTML template located in the `modules/web/themes/halo/layouts/sample.html` file:

[source, html]
----
include::{sourcesdir}/gui_vcl/htmlBox_2.html[]
----

A template should contain `<div>` elements with `location` attributes. This elements will display CUBA components defined in the XML descriptor with corresponding identifiers.

Content of `modules/web/themes/halo/com.company.application/halo-ext.scss` file (see <<web_theme_extension>> for how to create this file):

[source, css]
----
include::{sourcesdir}/gui_vcl/htmlBox_3.scss[]
----
--

[[gui_htmlBox_templateContents]]
* `templateContents` attribute sets the contents of the template and is used to draw the custom layout directly.
+
--
For example:

[source, xml]
----
include::{sourcesdir}/gui_vcl/htmlBox_4.xml[]
----
--

'''

Attributes of htmlBox::
<<gui_attr_align,align>> -
<<gui_attr_enable,enable>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_stylename,stylename>> -
<<gui_htmlBox_template,template>> -
<<gui_htmlBox_templateContents,templateContents>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

API::
<<gui_api_add,add>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>>

'''

[[gui_ScrollBoxLayout]]
====== ScrollBoxLayout

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-scrollbox" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/ScrollBoxLayout.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`ScrollBoxLayout` − a container that supports content scrolling.

image::gui_scrollBox.png[align="center"]

Component XML-name: `scrollBox`

An example container description in a screen XML-descriptor: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/scrollboxlayout_1.xml[]
---- 

[[gui_ScrollBox_orientation]]
* The components placement direction can be defined by `orientation` attribute − `horizontal`or `vertical`. Default is `vertical`.

[[gui_ScrollBox_scrollBars]]
* `scrollBars` attribute enables configuring scroll bars. It can be `horizontal`, `vertical` – for horizontal and vertical scrolling respectively, `both` – for scrolling in both directions. Setting the value to `none` forbids scrolling in any direction.

[WARNING]
====
The components placed in the `scrollBox` should have fixed size or default size. Do not set the size of nested components to `height="100%"` or `width="100%"`.

At the same time, `scrollBox` itself cannot calculate its own size based on its content. So you should either specify an absolute size in pixels, or stretched `scrollBar` in the parent container by setting `height="100%"` and `width="100%"`.
====

[[gui_ScrollBox_addShortcutAction]]
You can use keyboard shortcuts in `ScrollBox`. Set the shortcut and the action to be performed using the `addShortcutAction()` method:

[source, java]
----
include::{sourcesdir}/gui_vcl/scrollboxlayout.java[]
----

'''

Attributes of scrollBox::
<<gui_attr_align,align>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_margin,margin>> -
<<gui_ScrollBox_orientation,orientation>> -
<<gui_ScrollBox_scrollBars,scrollBars>> -
<<gui_attr_spacing,spacing>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_width,width>>

API::
<<gui_api_add,add>> -
<<gui_api_shortcut,addShortcutAction>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_margin,getMargin>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_indexOf,indexOf>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>> -
<<gui_api_margin,setMargin>> -
<<gui_api_spacing,setSpacing>>

'''

[[gui_SplitPanel]]
====== SplitPanel

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-split" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/SplitPanel.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`SplitPanel` − a container divided into two areas by a movable separator.

image::gui_splitPanel.png[align="center"]

Component XML-name: `split`.

An example description of a split panel in a screen XML-descriptor: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/splitpanel_1.xml[]
---- 

`split` container must contain two nested containers or components. They will be displayed on both sides of the separator.

`split` attributes:

[[gui_SplitPanel_dockable]]
* `dockable` - enables or disables the `SplitPanel` dock button, the default value is `false`.
+
image::gui_SplitPanel_dockable.png[align="center"]
+
[WARNING]
====
Docking is available only for horizontally-oriented `SplitPanel`.
====

[[gui_SplitPanel_dockMode]]
* `dockMode` - defines the docking direction. Possible values: `LEFT` or `RIGHT`.
+
[source, xml]
----
<split orientation="horizontal"
       dockable="true"
       dockMode="RIGHT">
    ...
</split>
----

[[gui_SplitPanel_minmax]]
* `minSplitPosition`, `maxSplitPosition` - defines a range of the available position of the split which can be set in pixels or percents.
+
For example, you can restrict moving the splitter between 100 and 300 pixels from the left side of the component as follows:
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/splitpanel_2.xml[]
----
+
If you want to set the range programmatically, specify a unit of value with `Component.UNITS_PIXELS` or `Component.UNITS_PERCENTAGE`:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/splitpanel_3.java[]
----

[[gui_SplitPanel_orientation]]
* `orientation` – defines component orientation. `horizontal` – nested components are placed horizontally, `vertical` – they are placed vertically.

[[gui_SplitPanel_pos]]
* `pos` – an integer number defining percentage of the first component area compared to the second one. For example, `pos="30"` means that the areas ration is 30/70. By default the areas are divided 50/50.

[[gui_SplitPanel_reversePosition]]
* `reversePosition` - indicates that the `pos` attribute specifies a position of the splitter from the opposite side of the component.

[[gui_SplitPanel_locked]]
* If the `locked` attribute is set to `true`, users are unable to change the separator position.

[[gui_SplitPanel_stylename]]
* The `stylename` attribute with the `large` value makes the split handle wider.
+
[source, java]
----
include::{sourcesdir}/gui_vcl/splitpanel_4.java[]
----

`SplitPanel` methods:

[[gui_SplitPanel_getPosition]]
* You can get a position of the splitter using the `getSplitPosition()` method.

[[gui_SplitPanel_PositionUpdateListener]]
* The events of moving the splitter can be intercepted with the help of `PositionUpdateListener`.

* If you need to get a unit of splitter position, use `getSplitPositionUnit()` method. It will return `Component.UNITS_PIXELS` or `Component.UNITS_PERCENTAGE`.

* `isSplitPositionReversed()` returns `true` if position is set from the opposite side of the component.

'''

Attributes of split::
<<gui_attr_align,align>> -
<<gui_SplitPanel_dockable,dockable>> -
<<gui_SplitPanel_dockMode,dockMode>> -
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_SplitPanel_locked,locked>> -
<<gui_SplitPanel_minmax,minSplitPosition>> -
<<gui_SplitPanel_minmax,maxSplitPosition>> -
<<gui_SplitPanel_orientation,orientation>> -
<<gui_SplitPanel_pos,pos>> -
<<gui_SplitPanel_reversePosition,reversePosition>> -
<<gui_attr_settingsEnabled,settingsEnabled>> -
<<gui_SplitPanel_stylename,stylename>> -
<<gui_attr_width,width>>

API::
<<gui_api_add,add>> -
<<gui_SplitPanel_PositionUpdateListener,addPositionUpdateListener>> -
<<gui_api_settings,applySettings>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>> -
<<gui_api_settings,saveSettings>>

'''

[[gui_TabSheet]]
====== TabSheet

++++
<div class="manual-live-demo-container">
    <a href="https://demo.cuba-platform.com/sampler/open?screen=simple-tabsheet" class="live-demo-btn" target="_blank">LIVE DEMO</a>
</div>
++++

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/TabSheet.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

`TabSheet` container is a tabbed panel. The panel shows content of one tab at a time. 

image::gui_tabsheet.png[align="center"]

XML-name of the component: `tabSheet`.

An example description of a tabbed panel in a screen XML-descriptor: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/tabsheet_1.xml[]
---- 

The <<gui_attr_description,description>> attribute of `tabSheet` defines a hint which is displayed in a popup when a user hovers the mouse cursor over or clicks on the tabs area.

image::gui_tabsheet_description.png[align="center"]

The `tabSheet` component should contain nested `tab` elements describing tabs. Each tab is a container with a vertical components layout similar to <<gui_BoxLayout,vbox>>.

`tab` element attributes:

[[gui_TabSheet_tab_id]]
* `id` – tab identifier. Please note that tabs are not components and their IDs are used only within a `TabSheet` in order to work with tabs from the controller.

* <<gui_attr_caption,caption>> – tab caption.

* <<gui_attr_description,description>> - the text of a hint which is displayed in a popup when a user hovers the mouse cursor over or clicks on the concrete tab.
+
image::gui_tabsheet_tab_description.png[align="center"]

[[gui_TabSheet_closable]]
* `closable` - defines whether the *x* button for closing the tab is displayed. Default value is `false`.

* <<gui_attr_icon,icon>> - defines icon location in theme catalog or the icon name in the <<icon_set,icon set>>. Applicable only for the *Web Client*. Detailed information on recommended icon placement is available in <<gui_icons>>.

[[gui_TabSheet_tab_lazy]]
* `lazy` – sets lazy loading for tab content. 
+
Lazy tabs do not load their content when the screen is opened, which reduces the number of components in memory. Components within a tab are loaded only when a user selects the tab. Additionally, if a lazy-tab includes visual components linked to a <<datasources,data source>> containing a JPQL query, this query is not executed as well. As a result, screen opens faster, and data is loaded only when the user requests it by selecting this tab.
+
[[gui_TabSheet_SelectedTabChangeListener]]
Please note that the components located on a lazy tab do not exist when the screen is opened. Therefore they cannot be <<screen_controller_injection,injected>> into a controller and cannot be obtained by invoking `getComponent()` in the controller's `init()` method. The lazy tab components can be accessed only after the user opens the tab. This moment may be intercepted using `TabSheet.SelectedTabChangeListener`, for example:
+
[source, java]
----
include::{sourcesdir}/gui_vcl/tabsheet_2.java[]
---- 
+
By default, tabs are not `lazy`, which means that all their content is loaded when a screen is opened.

[[gui_TabSheet_tab_detachable]]
* `detachable` – when it is `true`, a tab can be detached to a separate window in a screen desktop implementation. It enables, for example, different parts of the application UI to be located on different monitors. A detachable tab has a special button in its header:

image::gui_tabsheetDetachable.png[align="center"]

TabSheet styles::
+
--
In Web Client with a Halo-based theme, you can set predefined styles to the `TabSheet` container using the `stylename` attribute either in the XML descriptor or in the screen controller:
[source, xml]
----
include::{sourcesdir}/gui_vcl/tabsheet_3.xml[]
----

When setting a style programmatically, select one of the `HaloTheme` class constants with the `TABSHEET_` prefix:
[source, java]
----
include::{sourcesdir}/gui_vcl/tabsheet_4.java[]
----

[[gui_tabsheet_centered-tabs]]
* `centered-tabs` - centers the tabs inside the tab bar. Works best if all the tabs fit completely in the tab bar (i.e. no tab bar scrolling).

[[gui_tabsheet_compact-tabbar]]
* `compact-tabbar` - reduces the whitespace around the tabs in the tab bar.

[[gui_tabsheet_equal-width-tabs]]
* `equal-width-tabs` - gives equal amount of space to all tabs in the tab bar (i.e. expand ratio == 1 for all tabs). The tab captions will be truncated if they do not fit into the tab. Tab scrolling will be disabled when this style is applied (all tabs will be visible at the same time).

[[gui_tabsheet_framed]]
* `framed` - adds a border around the whole component as well as around individual tabs in the tab bar.

[[gui_tabsheet_icons-on-top]]
* `icons-on-top` - displays tab icons on top of the tab captions (by default the icons are place on the left side of the caption).

[[gui_tabsheet_only-selected-closeable]]
* `only-selected-closeable` - only the selected tab has the close button visible. Does not prevent closing the tab programmatically, it only hides the button from the end user.

[[gui_tabsheet_padded-tabbar]]
* `padded-tabbar` - adds a small amount of padding around the tabs in the tab bar, so that they don't touch the outer edges of the component.
--

'''

Attributes of tabSheet::
<<gui_attr_height,height>> -
<<gui_attr_id,id>> -
<<gui_attr_description,description>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_tabCaptionsAsHtml,tabCaptionsAsHtml>> -
<<gui_attr_tabIndex,tabIndex>> -
<<gui_attr_tabsVisible,tabsVisible>> -
<<gui_attr_visible,visible>> -
<<gui_attr_width,width>>

Attributes of tab::
<<gui_attr_caption,caption>> -
<<gui_TabSheet_closable,closable>> -
<<gui_attr_description,description>> -
<<gui_TabSheet_tab_detachable,detachable>> -
<<gui_attr_enable,enable>> -
<<gui_attr_expand,expand>> -
<<gui_attr_margin,margin>> -
<<gui_attr_icon,icon>> -
<<gui_TabSheet_tab_id,id>> -
<<gui_TabSheet_tab_lazy,lazy>> -
<<gui_attr_spacing,spacing>> -
<<gui_attr_stylename,stylename>> -
<<gui_attr_visible,visible>>

Predefined styles of tabSheet::
<<gui_tabsheet_centered-tabs,centered-tabs>> -
<<gui_tabsheet_compact-tabbar,compact-tabbar>> -
<<gui_tabsheet_equal-width-tabs,equal-width-tabs>> -
<<gui_tabsheet_framed,framed>> -
<<gui_tabsheet_icons-on-top,framed>> -
<<gui_tabsheet_only-selected-closeable,only-selected-closeable>> -
<<gui_tabsheet_padded-tabbar,padded-tabbar>>

API::
<<gui_api_add,add>> -
<<gui_TabSheet_SelectedTabChangeListener,addSelectedTabChangeListener>> -
<<gui_api_getComponent,getComponent>> -
<<gui_api_getComponentNN,getComponentNN>> -
<<gui_api_getComponents,getComponents>> -
<<gui_api_getOwnComponent,getOwnComponent>> -
<<gui_api_getOwnComponents,getOwnComponents>> -
<<gui_api_remove,remove>> -
<<gui_api_removeAll,removeAll>>

'''

[[gui_misc]]
===== Miscellaneous

This section describes different elements of the generic user interface that are related to visual components.

[[gui_formatter]]
====== Formatter

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Formatter.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

[WARNING]
====
Formatter should be used with read-only components, such as <<gui_Label,Label>>, <<gui_Table,Table>> column and similar. Editable components values, for example, <<gui_TextField,TextField>>, should be formatted using the <<datatype,Datatype>> mechanism.
====

In an XML-descriptor of a screen, a component's formatter can be defined in a nested `formatter` element. The element has a single attribute:

* `class` − the name of a class implementing a `com.haulmont.cuba.gui.components.Formatter`

If formatter's constructor class has a `org.dom4j.Element`, parameter, then it will receive an XML element, describing this `formatter`. This can be used to parameterize a formatter instance. For example, using a formatted string. Particularly, `DateFormatter` and `NumberFormatter` classes in the platform can take the format string from the `format` attribute. Example of using the component: 

[source, xml]
----
include::{sourcesdir}/gui_vcl/formatter_1.xml[]
---- 

Additionally, `DateFormatter` class also recognizes a `type` attribute, which can have a `DATE` or `DATETIME` value. In this case, formatting is done using the <<datatype,Datatype>> mechanism using a `dateFormat` or a `dateTimeFormat` string respectively. For example:

[source, xml]
----
include::{sourcesdir}/gui_vcl/formatter_2.xml[]
---- 

[TIP]
====
If a formatter is implemented as an internal class, it should be declared with a `static` modifier and its name should be separated by "$" for loading, for example:

`<formatter class="com.sample.sales.gui.OrderBrowse$CurrencyFormatter"/>`
====

Formatter can be assigned to a component not only using a screen XML-descriptor , but also programmatically – by submitting a formatter instance into a `setFormatter()` component.

An example of declaring a custom formatter and using it to format values in a table column: 

[source, java]
----
include::{sourcesdir}/gui_vcl/formatter_3.java[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/formatter_4.java[]
---- 

[[gui_presentations]]
====== Presentations

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/presentations/Presentations.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

The mechanism of presentations allows users to manage table settings.

image::gui_presentations.png[align="center"]

Users can:

* Save presentations with unique names. Table settings are automatically saved in an active presentation.

* Edit and remove presentations.

* Switch between presentations.

* Set up a default presentation, which will be applied on the screen opening.

* Create global presentations, available to all users. In order to create, change or remove global presentations, a user should have `cuba.gui.presentations.global` security <<permissions,permission>>.

Presentations are available to components implementing the `com.haulmont.cuba.gui.components.Component.HasPresentations` interface. These components are:

* <<gui_Table,Table>>

* <<gui_GroupTable,GroupTable>>

* <<gui_TreeTable,TreeTable>>


[[gui_Timer]]
====== Timer

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Timer.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

Timer is a non-visual component allowing certain screen controller code to be run at specified time intervals. The timer works in a thread that handles user interface events, therefore it can update screen components. Timer stops working when a screen it was created for gets closed.

The component is implemented for the *Web Client* and the *Desktop Client*. For the web client, timer implementation is based on polling from web-browser, for the desktop client it is based on `javax.swing.Timer`.

The main approach for creating timers is by declaring them in a screen XML-descriptor – in the `timers` element which is located between `dsContext` and `layout` elements.

Timers are described using the `timer` element.

* `delay` is a required attribute; it defines timer interval in milliseconds.

* `autostart` – an optional attribute; when it is set to `true`, timer starts immediately after the screen gets opened. By default the value is `false`, which means that the timer will be started by invoking its `start()` method.

* `repeating` – an optional attribute, turns on repeating executions of the timer. If the attribute is set to `true`, the timer runs in cycles at equal intervals defined in the `delay` attribute. Otherwise, the timer runs only once – `delay` milliseconds after the timer start.

* `onTimer` – optional attribute containing a name of a method called when the timer fires. The handling method should be defined in a screen controller with the `public` modifier and have one parameter of type `com.haulmont.cuba.gui.components.Timer`.

An example of using a timer to refresh table content periodically:

[source, xml]
----
include::{sourcesdir}/gui_vcl/timer_1.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/timer_2.java[]
----

A timer can be injected into a controller field, or acquired using the `Window.getTimer()` method. Timer execution can be controlled using the timer's `start()` and `stop()` methods. For an already active timer, `start()` invocation will be ignored. After stopping the timer using `stop()` method, it can be started again with `start()`.

Example of defining a timer in an XML descriptor and using timer listeners in a controller:

[source, xml]
----
include::{sourcesdir}/gui_vcl/timer_3.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/timer_4.java[]
----

A timer can be created in a controller, in this case it should be added to the screen implicitly using the `addTimer()` method, for example:

[source, java]
----
include::{sourcesdir}/gui_vcl/timer_5.java[]
----

[[gui_validator]]
====== Validator

Validator is designed to check values entered into visual components.

[WARNING]
====
Validation and input type checking should be differentiated. If a given component (e.g. <<gui_TextField,TextField>>) data type is set to anything different than string (this can happen when binding to an entity attribute or setting `datatype`), then the component will not allow the user to enter a value that does not comply with this data type.  When the component loses focus or when the user presses Enter, the component will show the previous correct value.

On the other hand, validation does not act immediately on data entry or focus loss, but rather when the component's `validate()` method is invoked. It means that the component (and the entity attribute that it is linked to) may temporarily contain a value, which does not comply with the conditions of validation. It should not be a problem because the validated fields are typically located in <<screen_edit,edit screens>>, which automatically invoke validation for all their fields before commit. If the component is located not in an edit screen, its `validate()` method should be invoked explicitly in the screen controller.
====

In a screen XML-descriptor, a component validator can be defined in a nested `validator` elements. The `validator` element can have the following attributes:

* `script` − path to a Groovy script performing validation.

* `class` − name of a Java class implementing the `Field.Validator` interface.

Groovy validator scripts and standard classes of Java validators, located in the `com.haulmont.cuba.gui.components.validators` package support `message` attribute − a message displayed to a user when validation fails. The attribute value should contain either a message or a message key from the <<message_packs,messages pack>> of the current screen. For example:

[source, xml]
----
include::{sourcesdir}/gui_vcl/validator_1.xml[]
----

[source, properties]
----
include::{sourcesdir}/gui_vcl/validator_1.properties[]
---- 

Validator can be added using CUBA Studio interface. Below is an example of adding a validator to the `fieldGroup` field:

image::gui_validator.png[align="center"]

The validation mechanism is selected as follows:

* If the value of the `script` attribute is not set and the `validator` element itself does not contain text with a Groovy expression, then the system will use a class defined in the `class` attribute as a validator.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/validator_6.xml[]
----

* If the `validator` element contains text, it will be used as a Groovy expression and executed using <<scripting,Scripting>>.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/validator_5.xml[]
----

* Otherwise, the system will use <<scripting,Scripting>> to run a Groovy script defined in the `script` attribute.
+
[source, xml]
----
include::{sourcesdir}/gui_vcl/validator_7.xml[]
----

The `value` variable will be passed to a Groovy expression or script. It contains the value entered into a visual component. The expression or the script should return a `boolean` value: `true` − valid, `false` − not valid.

If a Java class is being used as a validator, it should have a default constructor without parameters or a constructor with the following set of parameters: 

* `org.dom4j.Element`, `String` – this constructor will receive the validator XML-element and the message pack name of the screen.

* `org.dom4j.Element` – this constructor will receive the validator XML-element.

[TIP]
====
If the validator is implemented as an internal class, it should be declared with a `static` modifier and its name should be separated by "$", for example:

`<validator class="com.sample.sales.gui.AddressEdit$ZipValidator"/>`
====

The platform contains the set of implementations for the most frequently used validators (see `com.haulmont.cuba.gui.components.validators` package), which can be used in your project:

* `DateValidator`

* `DoubleValidator`

* `EmailValidator`

* `IntegerValidator`

* `LongValidator`

* `PatternValidator`

* `ScriptValidator`

* `StringValidator`

A validator class can be assigned to a component not only using a screen XML-descriptor, but also programmatically – by submitting a validator instance into the component's `addValidator()` method.

Example of creating a validator class for zip codes:

[source, java]
----
include::{sourcesdir}/gui_vcl/validator_2.java[]
---- 

Example of using a zip code validator and a standard pattern validator for fields of a <<gui_FieldGroup,FieldGroup>> component:

[source, xml]
----
include::{sourcesdir}/gui_vcl/validator_3.xml[]
---- 

Example of setting a validator programmatically in a screen controller: 

[source, java]
----
include::{sourcesdir}/gui_vcl/validator_4.java[]
---- 

[[gui_api]]
===== API of Components

++++
<div class="manual-live-demo-container">
    <a href="http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.html" class="api-docs-btn" target="_blank">API DOCS</a>
</div>
++++

Common::
+
--
[[gui_api_unwrap]]
* `unwrap()` - returns client-specific component instance (Vaadin or Swing component). Can be used in client module to simplify invocation of underlying API, see <<webComponentsHelper>> section.
+
[source, java]
----
com.vaadin.ui.TextField vTextField = textField.unwrap(com.vaadin.ui.TextField.class);
----

* `unwrapComposition()` - returns the outmost external container of client-specific component instance. Can be used in client module to simplify invocation of underlying API.

Available for all components.
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.Buffered.html[Component.Buffered]::
+
--
[[gui_api_commit]]
* `commit()` - updates all changes made since the previous commit to the data source.

[[gui_api_discard]]
* `discard()` - discards all changes since last commit. The object updates its value from the data source.

[[gui_api_isModified]]
* `isModified()` - returns `true` if the object value has been modified since it was last updated from the data source.

[source, java]
----
if (textArea.isModified()) {
    textArea.commit();
}
----

Available for components:

<<gui_CheckBox,CheckBox>> -
<<gui_CurrencyField,CurrencyField>> -
<<gui_DateField,DateField>> -
<<gui_FileUploadField,FileUploadField>> -
<<gui_LookupField,LookupField>> -
<<gui_LookupPickerField,LookupPickerField>> -
<<gui_PickerField,PickerField>> -
<<gui_TextArea,TextArea>> -
<<gui_TextField,TextField>> -
<<gui_TimeField,TimeField>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.Collapsable.html[Component.Collapsable]::
+
--
[[gui_api_expanded]]
* `addExpandedStateChangeListener()` - adds the listener implementing the `ExpandedStateChangeListener` interface to intercept the component's expanded state change events.
+
[source, java]
----
groupBox.addExpandedStateChangeListener(e ->
        showNotification("Expanded: " + groupBox.isExpanded()));
----
Available for components:

<<gui_Filter,Filter>> -
<<gui_GroupBoxLayout,GroupBoxLayout>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.Container.html[Component.Container]::
+
--
[[gui_api_add]]
* `add()` - adds child component to the container.

[[gui_api_remove]]
* `remove()` - removes the child component from the container.

[[gui_api_removeAll]]
* `removeAll()` - removes all children components from te container.

[[gui_api_getOwnComponent]]
* `getOwnComponent()` - returns the component directly owned by this container.

[[gui_api_getComponent]]
* `getComponent()` - returns the component belonging to the whole components tree below this container.

[[gui_api_getComponentNN]]
* `getComponentNN()` - returns the component belonging to the whole components tree below this container. Throws an exception if not found.

[[gui_api_getOwnComponents]]
* `getOwnComponents()` - returns all components directly owned by this container.

[[gui_api_getComponents]]
* `getComponents()` - returns all components belonging to the whole components tree below this container.

Available for components:

<<gui_Accordion,Accordion>> -
<<gui_BoxLayout,BoxLayout>> -
<<gui_CssLayout,CssLayout>> -
<<gui_Frame,Frame>> -
<<gui_GridLayout,GridLayout>> -
<<gui_GroupBoxLayout,GroupBoxLayout>> -
<<gui_HtmlBoxLayout,HtmlBoxLayout>> -
<<gui_ScrollBoxLayout,ScrollBoxLayout>> -
<<gui_SplitPanel,SplitPanel>> -
<<gui_TabSheet,TabSheet>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.OrderedContainer.html[Component.OrderedContainer]::
+
--
[[gui_api_indexOf]]
* `indexOf()` - returns the index of a given component in an ordered container.

Available for components:

<<gui_BoxLayout,BoxLayout>> -
<<gui_CssLayout,CssLayout>> -
<<gui_Frame,Frame>> -
<<gui_GroupBoxLayout,GroupBoxLayout>> -
<<gui_ScrollBoxLayout,ScrollBoxLayout>> -
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.HasContextHelp.html[Component.HasContextHelp]::
+
--
[[gui_api_contextHelp]]
* `setContextHelpIconClickHandler()` - sets a context help icon click handler. Click handler has priority over <<gui_attr_contextHelpText,context help text>>, i.e. no tooltip with context help text will be shown if the click handler is set.

[source, java]
----
textArea.setContextHelpIconClickHandler(event ->
        showMessageDialog("Title", "Body message",
                MessageType.CONFIRMATION_HTML
                        .modal(false)));
----

Available for components:

<<gui_CheckBox,CheckBox>> -
<<gui_ColorPicker,ColorPicker>> -
<<gui_CurrencyField,CurrencyField>> -
<<gui_DateField,DateField>> -
<<gui_DatePicker,DatePicker>> -
<<gui_FileUploadField,FileUploadField>> -
<<gui_LookupField,LookupField>> -
<<gui_LookupPickerField,LookupPickerField>> -
<<gui_MaskedField,MaskedField>> -
<<gui_OptionsGroup,OptionsGroup>> -
<<gui_OptionsList,OptionsList>> -
<<gui_PasswordField,PasswordField>> -
<<gui_PickerField,PickerField>> -
<<gui_RichTextArea,RichTextArea>> -
<<gui_SearchPickerField,SearchPickerField>> -
<<gui_SourceCodeEditor,SourceCodeEditor>> -
<<gui_SuggestionPickerField,SuggestionPickerField>> -
<<gui_TextArea,TextArea>> -
<<gui_TextField,TextField>> -
<<gui_TimeField,TimeField>> -
<<gui_TokenList,TokenList>> -
<<gui_TwinColumn,TwinColumn>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.HasSettings.html[Component.HasSettings]::
+
--
[[gui_api_settings]]
* `applySettings()` - restores the last user settings for this component.

* `saveSettings()` - saves current user settings for this component.

Available for components:

<<gui_DataGrid,DataGrid>> -
<<gui_Filter,Filter>> -
<<gui_GroupBoxLayout,GroupBoxLayout>> -
<<gui_SplitPanel,SplitPanel>> -
<<gui_Table,Table>> -
<<gui_TextArea,TextArea>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.HasValue.html[Component.HasValue]::
+
--
[[gui_api_addValueChangeListener]]
* `addValueChangeListener()` - adds the listener implementing the `ValueChangeListener` interface to intercept the component's value changes. If the component is bound to a datasource, in terms of the screen lifecycle, it is often preferable to use a <<datasource_listeners,datasource listener>> instead.
+
[source, java]
----
textField.addValueChangeListener(e ->
        showNotification("Before: " + e.getPrevValue() + ". After: " + e.getValue()));
----

Available for components:

<<gui_CheckBox,CheckBox>> -
<<gui_ColorPicker,ColorPicker>> -
<<gui_CurrencyField,CurrencyField>> -
<<gui_DateField,DateField>> -
<<gui_DatePicker,DatePicker>> -
<<gui_FileUploadField,FileUploadField>> -
<<gui_Label,Label>> -
<<gui_LookupField,LookupField>> -
<<gui_LookupPickerField,LookupPickerField>> -
<<gui_MaskedField,MaskedField>> -
<<gui_OptionsGroup,OptionsGroup>> -
<<gui_OptionsList,OptionsList>> -
<<gui_PasswordField,PasswordField>> -
<<gui_PickerField,PickerField>> -
<<gui_ProgressBar,ProgressBar>> -
<<gui_RichTextArea,RichTextArea>> -
<<gui_SearchPickerField,SearchPickerField>> -
<<gui_SourceCodeEditor,SourceCodeEditor>> -
<<gui_SuggestionPickerField,SuggestionPickerField>> -
<<gui_TextArea,TextArea>> -
<<gui_TextField,TextField>> -
<<gui_TimeField,TimeField>> -
<<gui_TokenList,TokenList>> -
<<gui_TwinColumn,TwinColumn>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.LayoutClickNotifier.html[Component.LayoutClickNotifier]::
+
--
[[gui_api_addLayoutClickListener]]
* `addLayoutClickListener()` - adds the listener implementing the `LayoutClickListener` interface to intercept the clicks on the component area.
+
[source, java]
----
vbox.addLayoutClickListener(event ->
                showNotification("Clicked"));
----

Available for components:

<<gui_ButtonsPanel,ButtonsPanel>> -
<<gui_BoxLayout,BoxLayout>> -
<<gui_CssLayout,CssLayout>> -
<<gui_GridLayout,GridLayout>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.Margin.html[Component.Margin]::
+
--
[[gui_api_margin]]
* `setMargin()` - sets the margins for the component.
+
** Sets margins on all sides of the component:
+
[source, java]
----
vbox.setMargin(true);
----
+
** Sets margins only on the top and the bottom of the component:
+
[source, java]
----
vbox.setMargin(true, false, true, false);
----
+
** Creates new instance of `MarginInfo` configuration class:
+
[source, java]
----
vbox.setMargin(new MarginInfo(true, false, false, true));
----

* `getMargin()` - returns margin configuration as an instance of `MarginInfo` class.

<<gui_BoxLayout,BoxLayout>> -
<<gui_Filter,Filter>> -
<<gui_Frame,Frame>> -
<<gui_GridLayout,GridLayout>>
<<gui_ScrollBoxLayout,ScrollBoxLayout>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.OuterMargin.html[Component.OuterMargin]::
+
--
[[gui_api_outerMargin]]
* `setOuterMargin()` - sets the outer margins outside the border of the component.
+
** Sets outer margins on all sides of the component:
+
[source, java]
----
groupBox.setOuterMargin(true);
----
+
** Sets outer margins only on the top and the bottom of the component:
+
[source, java]
----
groupBox.setOuterMargin(true, false, true, false);
----
+
** Creates new instance of `MarginInfo` configuration class:
+
[source, java]
----
groupBox.setOuterMargin(new MarginInfo(true, false, false, true));
----

* `getOuterMargin()` - returns outer margin configuration as an instance of `MarginInfo` class.

Available for component:

<<gui_GroupBoxLayout,GroupBoxLayout>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.ShortcutNotifier.html[Component.ShortcutNotifier]::
+
--
[[gui_api_shortcut]]
* `addShortcutAction()` - adds an action which is triggered when the user presses a given key combination.
+
[source, java]
----
include::{sourcesdir}/gui_vcl/cssLayout.java[]
----

Available for components:

<<gui_BoxLayout,BoxLayout>> -
<<gui_ButtonsPanel,ButtonsPanel>> -
<<gui_CssLayout,CssLayout>> -
<<gui_GridLayout,GridLayout>> -
<<gui_GroupBoxLayout,GroupBoxLayout>> -
<<gui_ScrollBoxLayout,ScrollBoxLayout>>
--

http://files.cuba-platform.com/javadoc/cuba/6.9/com/haulmont/cuba/gui/components/Component.Spacing.html[Component.Spacing]::
+
--
[[gui_api_spacing]]
* `setSpacing()` - adds space between the component and its child components.
+
[source, java]
----
vbox.setSpacing(true);
----

Available for components:

<<gui_BoxLayout,BoxLayout>> -
<<gui_ButtonsPanel,ButtonsPanel>> -
<<gui_Frame,Frame>> -
<<gui_GridLayout,GridLayout>>
<<gui_GroupBoxLayout,GroupBoxLayout>> -
<<gui_ScrollBoxLayout,ScrollBoxLayout>>
--

[[gui_attributes]]
===== XML-Attributes of Components

[[gui_attr_align]]
align:: 
+
--
Defines the component position relative to the parent container. Possible values are:

* `++TOP_RIGHT++`

* `++TOP_LEFT++`

* `++TOP_CENTER++`

* `++MIDDLE_RIGHT++`

* `++MIDDLE_LEFT++`

* `++MIDDLE_CENTER++`

* `++BOTTOM_RIGHT++`

* `++BOTTOM_LEFT++`

* `++BOTTOM_CENTER++`

--

[[gui_attr_caption]]
caption:: 
+
--
Sets the component's caption.

The attribute value can either be a message or a key in a <<message_packs,message pack>>. In case of a key, the value should begin with the `msg://` prefix.

There are two ways of setting a key:

* A short key – in this case the message will be searched in the package of the current screen:
+
[source, properties]
----
caption="msg://infoFieldCaption"
----

* Full key including package name:
+
[source, properties]
----
caption="msg://com.company.sample.gui.screen/infoFieldCaption"
----

--

[[gui_attr_captionProperty]]
captionProperty:: 
+
--
Defines the name of an entity attribute which is displayed by a component. `captionProperty` can only be used for entities contained in a datasource (for example, defined by the <<gui_attr_optionsDatasource,optionsDatasource>> property of the <<gui_LookupField,LookupField>> component).

If `captionProperty` is not defined, <<namePattern_annotation,instance name>> is shown.

--

[[gui_attr_colspan]]
colspan:: 
+
--
Sets the number of grid columns that the component should occupy (default is 1).

This attribute can be defined for any component located immediately within a <<gui_GridLayout,GridLayout>> container.
--

[[gui_attr_contextHelpText]]
contextHelpText::
+
--
Sets the context help text. If set, then a special *?* icon will be added for a field. If the field has an external caption, i.e. either <<gui_attr_caption,caption>> or <<gui_attr_icon,icon>> attribute is set, then the context help icon will be displayed next to the caption text, otherwise next to the field itself:

image::gui_attr_contextHelpIcon.png[align="center"]

In the *web* client the context help tooltip appears when the users hovers over the *?* icon, in the *desktop* client the user has to click on the *?* icon to see the tooltip.

[source, xml]
----
<textField id="textField"
           contextHelpText="msg://contextHelp"/>
----

image::gui_attr_contextHelp.png[align="center"]
--

[[gui_attr_contextHelpTextHtmlEnabled]]
contextHelpTextHtmlEnabled::
+
--
Defines if context help text can be presented as HTML.

[source, xml]
----
<textField id="textField"
           description="Description"
           contextHelpText="<p><h1>Lorem ipsum dolor</h1> sit amet, <b>consectetur</b> adipiscing elit.</p><p>Donec a lobortis nisl.</p>"
           contextHelpTextHtmlEnabled="true"/>
----

image::gui_attr_contextHelpHtml.png[align="center"]

Possible values − `true`, `false`.
--

[[gui_attr_datasource]]
datasource:: 
+
--
Sets a <<datasources,data source>> defined in the `dsContext` section of the screen XML descriptor.

When setting the `datasource` attribute for a component implementing the `DatasourceComponent` interface, the <<gui_attr_property,property>> attribute should also be set.
--

[[gui_attr_description]]
description:: 
Defines a hint which is displayed in a popup when a user hovers the mouse cursor over or clicks on the component area.

[[gui_attr_editable]]
editable:: 
+
--
Indicates that the component's content can be edited (do not confuse with <<gui_attr_enable,enable>>).

Possible values − `true`, `false`. Default value is `true`.

Ability to edit content of a component bound to data (inheritor of `DatasourceComponent` or `ListComponent`) is also influenced by the <<security_subsystem,security subsystem>>. If the security subsystem information indicates that the component should not be editable, the value of its `editable` attribute is ignored.
--

[[gui_attr_enable]]
enable:: 
+
--
Defines the component's enabled/disabled state.

If a component is disabled, it does not accept input focus. Disabling a container disables all of its components as well. Possible values are `true`, `false`. By default all components are enabled.
--

[[gui_attr_expand]]
expand:: 
Defines a component within the container that should be expanded to use all available space in the direction of component placement. For a container with vertical placement, this attribute sets 100% height to a component; for the containers with horizontal placement - 100% width. Additionally, resizing a container will resize the expanded component.

[[gui_attr_height]]
height:: 
+
--
Sets the component's height. Can be set in pixels or in percents of the parent container height. For example: `100px`, `100%`, `50`. If it is specified without units, pixels are assumed.

Setting a value in `%` means that the component will occupy the corresponding height within an area provided by the parent container.

When set to `AUTO` or `-1px`, a default value will be used for the component height. For a container, default height is defined by the content: it is the sum of the heights of all nested components.
--

[[gui_attr_icon]]
icon:: 
+
--
Sets a component icon.

The attribute value should contain a path to an icon file relative to the <<gui_themes,themes>> folder:

[source, xml]
----
icon="icons/create.png"
----

or the icon name in an <<icon_set,icon set>>:

[source, xml]
----
icon="CREATE_ACTION"
----

If different icons should be displayed depending on the user's language, you can set paths to the icons in the message pack and specify a message key in the `icon` attribute, for example:

[source, xml]
----
icon="msg://addIcon"
---- 

Font elements of *Font Awesome* can be used instead of files in web client with Halo <<web_theme,theme>> (or derived from it). For this, specify the name of the required constant of the `com.vaadin.server.FontAwesome` class in the icon property with the `font-icon:` prefix, for example:

[source, xml]
----
icon="font-icon:BOOK"
----

For more details on the usage of icons see the <<gui_icons>> section.
--

[[gui_attr_id]]
id::
+
--
Sets an identifier of the component.

It is recommended to create identifiers according to the rules for Java-identifiers and use camelСase, for example: `userGrid`, `filterPanel`. The `id` attribute can be specified for any component and should be unique within a screen.
--

[[gui_attr_inputPrompt]]
inputPrompt:: 
+
--
Defines a string which is displayed in the field when its value is `null`.

[source, xml]
----
<suggestionField inputPrompt="Let's search something!"/>
----

The attribute is used for <<gui_TextField,TextField>>, <<gui_LookupField,LookupField>>, <<gui_LookupPickerField,LookupPickerField>>, <<gui_SearchPickerField,SearchPickerField>>, <<gui_SuggestionPickerField,SuggestionPickerField>> components in web client only.
--

[[gui_attr_margin]]
margin:: 
+
--
Defines indentation between the outer borders and the container content.

It can take value of two types:

* `margin="true"` − enables margins for all sides.

* `margin="true,false,true,false"` − enables only the top and the bottom margin (the value format is "top,right,bottom,left").

By default margins are disabled.
--

[[gui_attr_nullName]]
nullName:: 
+
--
Selection of the option defined in the `nullName` attribute is equal to setting the `null` value to the component.

The attribute is used for <<gui_LookupField,LookupField>>, <<gui_LookupPickerField,LookupPickerField>>, and <<gui_SearchPickerField,SearchPickerField>> components.

Example of setting an attribute value in an <<screen_xml_glossentry,XML-descriptor>>:

[source, xml]
----
include::{sourcesdir}/gui_vcl/nullname_1.xml[]
---- 

Example of setting an attribute value in a <<screen_controller_glossentry,controller>>:

[source, xml]
----
include::{sourcesdir}/gui_vcl/nullname_2.xml[]
----

[source, java]
----
include::{sourcesdir}/gui_vcl/nullname_3.java[]
---- 
--

[[gui_attr_openType]]
openType::
+
--
Defines how a related screen will be opened. Corresponds to the `WindowManager.OpenType` enumeration with the values `NEW_TAB`, `THIS_TAB`, `NEW_WINDOW`, `DIALOG`.  Default value is `THIS_TAB`.
--

[[gui_attr_optionsDatasource]]
optionsDatasource:: 
+
--
Sets the name of a <<datasources,data source>> which contains a list of options.

<<gui_attr_captionProperty,captionProperty>> attribute can be used together with `optionsDatasource`.
--

[[gui_attr_optionsEnum]]
optionsEnum::
+
--
Sets the <<enum_attributes,enumeration>> class name which contains a list of options.
--

[[gui_attr_property]]
property:: 
+
--
Sets the name of an entity attribute which value will be displayed and edited by this visual component.

`property` is always used together with the <<gui_attr_datasource,datasource>> attribute.
--

[[gui_attr_required]]
required:: 
+
--
Indicates that this field requires a value.

Possible values − `true`, `false`. Default is `false`.

The <<gui_attr_requiredMessage,requiredMessage>> attribute can be used together with `required`.
--

[[gui_attr_requiredMessage]]
requiredMessage:: 
+
--
Used together with the <<gui_attr_required,required>> attribute. It sets a message that will be displayed to a user when the component has no value.

The attribute can contain a message or a key from a message pack, for example: `requiredMessage="msg://infoTextField.requiredMessage"`
--

[[gui_attr_responsive]]
responsive::
+
--
Indicates that the component should react on change in the available space. Reaction can be customized with the help of <<web_theme_extension,styles>>.

Possible values − `true`, `false`. Default is `false`.
--

[[gui_attr_rowspan]]
rowspan:: 
+
--
Sets the number of grid lines that the component should occupy (default is 1).

This attribute can be set for any component located immediately within a <<gui_GridLayout,GridLayout>> container.
--

[[gui_attr_settingsEnabled]]
settingsEnabled::
+
--
Defines if user settings for the component should be saved/restored. Settings are saved only if the component's <<gui_attr_id,id>> is set.

Possible values − `true`, `false`. Default is `true`.
--

[[gui_attr_spacing]]
spacing:: 
+
--
Sets spacing between components within a container.

Possible values − `true`, `false`.

By default spacing is disabled.
--

[[gui_attr_stylename]]
stylename:: 
Defines a style name for a component. See <<gui_themes>> for details.
+
--
There are several predefined styles in `halo` theme available for the components:

[[gui_attr_stylename_huge]]
* `huge` - sets the field size to 160% of its default size.

[[gui_attr_stylename_large]]
* `large` - sets the field size to 120% of its default size.

[[gui_attr_stylename_small]]
* `small` - sets the field size to 85% of its default size.

[[gui_attr_stylename_tiny]]
* `tiny` - sets the field size to 75% of its default size.
--

[[gui_attr_tabCaptionsAsHtml]]
tabCaptionsAsHtml::
+
--
Defines whether HTML is allowed in the tab captions.  If set to `true`, the captions are rendered in the browser as HTML, and the developer is responsible for ensuring no harmful HTML is used. If set to `false`, the content is rendered in the browser as plain text.

Possible values − `true`, `false`. Default is `false`.
--

[[gui_attr_tabIndex]]
tabIndex::
+
--
Specifies whether the component is focusable and sets the relative order of the component in the sequence of focusable components on the screen.

It can can take integer values of positive or negative range:

* `negative value` means that the component should be focusable, but should not be reachable via sequential keyboard navigation;

* `0` means that the component should be focusable and reachable via sequential keyboard navigation, but its relative order follows its relative position on the screen;

* `positive value` means the component should be focusable and reachable via sequential keyboard navigation; its relative order is defined by the value of the attribute: the sequential follows the increasing number of the `tabIndex`. If several components share the same `tabIndex` value, their relative order follows their relative position on the screen.
--

[[gui_attr_tabsVisible]]
tabsVisible::
+
--
Sets whether the tab selection part should be shown in the UI.

Possible values − `true`, `false`. Default is `true`.
--

[[gui_attr_textSelectionEnabled]]
textSelectionEnabled::
+
--
Defines if text selection is enabled in table cells.

Possible values − `true`, `false`. Default is `false`.
--

[[gui_attr_visible]]
visible:: 
+
--
Sets visibility of the component. Possible values − `true`, `false`.

If a container is invisible all its components are invisible. By default all components are visible.
--

[[gui_attr_width]]
width:: 
+
--
Defines component's width.

The value can be set in pixels or in percents of the width of the parent container. For example: `100px`, `100%`, `50`. If specified without units, pixels are assumed. Setting a value in `%` means that the component will occupy the corresponding width within an area provided by the parent container.

When set to `AUTO` or `-1px`, a default value will be used for a component width. For a container, the default width is defined by the content: it is the sum of the widths of all nested components.
--
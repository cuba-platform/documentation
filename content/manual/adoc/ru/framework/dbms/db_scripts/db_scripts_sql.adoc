:sourcesdir: ../../../../../source

[[db_scripts_sql]]
===== Структура SQL-скриптов

SQL-скрипты создания и обновления представляют собой текстовые файлы с набором DDL и DML команд, разделенных символом "`^`". Символ "`^`" применяется для того, чтобы можно было применять разделитель "`;`" в составе сложных команд, например, при создании функций или триггеров. Механизм исполнения скриптов разделяет входной файл на команды по разделителю "`^`" и выполняет каждую команду в отдельной транзакции. Это означает, что при необходимости можно сгруппировать несколько простых операторов (например, `insert`), разделенных точкой с запятой, и обеспечить их выполнение в одной транзакции.

[TIP]
====
Разделитель "^" может быть заэкранирован путем его удвоения. Например, если вам нужно передать значение `^[0-9\s]+$`, скрипт должен содержать строку `^^[0-9\s]+$`.
====

Пример SQL-скрипта обновления:

[source, sql]
----
include::{sourcesdir}/dbms/dbscripts_3.sql[]
----


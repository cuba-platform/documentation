:sourcesdir: ../../../../source

[[screen_descriptor]]
==== Работа с дескриптором экрана

Редактор {main_man_url}/screen_descriptors.html[XML-дескриптора экрана] содержит две вкладки: *Text* и *Designer*. На вкладке *Text* вы можете редактировать код XML напрямую, а вкладка *Designer* позволяет работать с экраном в визуальном редакторе разметки.

image::features/generic_ui/xml_descriptor.png[align="center"]

Переключаться между дескриптором и контроллером экрана можно с помощью специального маркера в жёлобе Studio. Также вы можете выбрать дескриптор в дереве проекта и в его контекстном меню нажать *Go to controller*.

Studio непрерывно инспектирует код разметки экрана на предмет ошибок и несоответствий, проверяет внутренние и внешние ссылки. В случае обнаружения следующих проблем Studio покажет специальное предупреждение или подчеркнёт проблемный элемент в XML-коде:

* Экран не может быть собран из-за ошибки в разметке XML.
* Ссылка на сущность или её свойство, используемая компонентом, не соответствует реальной модели данных приложения.
* Есть конфликт размеров компонентов: учитываются значения атрибутов `width`, `height` и `expand`.
* Значения атрибутов `dataContainer` и `dataLoader` не ссылаются ни на один из имеющихся контейнеров или загрузчиков.
* Для полей внутри элемента `form` явно не определён XML-атрибут `property`: в этом случае для ссылки на поле сущности будет неявно использовано значение атрибута `id`.
* Семантическая ошибка в элементе `form`: поля дублируются или располагаются не внутри вложенного элемента `column`.
* Количество столбцов `gridLayout` не соответствует заявленному количеству.
* Дублирование атрибута в расширенном экране, когда один и тот же атрибут объявлен и в родительском, и в дочернем экране.
* Имена элементов в дочернем экране не соответствуют аналогичным элементам в родительском экране, либо их расположение некорректно.
* Значение атрибута `messagesPack` не ссылается на реально существующий пакет сообщений, содержащий как минимум один файл `messages_xx.properties`.
* Ссылка на схему XSD устарела.
* Значения идентификаторов элементов не уникальны внутри данного экрана.

Эти инспекции можно настроить в окне *Settings* (*CUBA > Settings > Editor > Inspections*).

На вкладке *Designer* отображается визуальный дизайнер, который позволяет создавать компоновку экрана и задавать свойства компонентов UI в стиле WYSIWYG.

image::features/generic_ui/xml_descriptor_2.png[align="center"]

Рабочая область дизайнера включает в себя четыре панели:

* *Canvas* - рабочая область, в которой вы можете располагать компоненты, а также изменять их размер и задавать выравнивание с помощью кнопок:
** расширить горизонтально,
** расширить вертикально,
** выровнять по вертикали/горизонтали.

* *Palette* - палитра, содержащая набор доступных экранных компонентов:
** Контейнеры;
** Компоненты;
** Компоненты данных: контейнеры и загрузчики;
** Не-визуальные компоненты: действия, настройки диалогового окна, таймеры.

Чтобы добавить компонент на экран, перетащите его из палитры на полотно или в панель иерарархии компонентов.

* *Hierarchy* - панель иерархии компонентов, отображающая использованные в экране компоненты в виде дерева. Элементы дерева можно перетаскивать с места на место, иногда это даже удобнее, чем перемещать их по полотну. Вы можете удалять, копировать, вырезать или вставлять элементы в дерево иерархии с помощью его контекстного меню, открываемого по клику правой кнопки мыши.

* *Properties* - панель, отображающая свойства конкретного визуального компонента.
